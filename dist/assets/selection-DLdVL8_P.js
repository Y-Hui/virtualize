import{r as u,_ as V,a as K,c as q,b as N,d as X,u as $,e as B,g as F,T as G,C as Q,D as J,j as h}from"./index-BbyT9DIH.js";import{b as P,K as H,g as U,m as Y,c as Z,W as ee,R as ne,a as ae,V as te,S as ie,B as T,I as D}from"./mock-pCPy_iR1.js";import{R as le,a as ce,T as z}from"./MinusOutlined-CNE0dN_S.js";var re=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],O=u.forwardRef(function(e,n){var o,r=e.prefixCls,s=r===void 0?"rc-switch":r,c=e.className,d=e.checked,a=e.defaultChecked,t=e.disabled,i=e.loadingIcon,l=e.checkedChildren,m=e.unCheckedChildren,b=e.onClick,C=e.onChange,v=e.onKeyDown,k=V(e,re),M=P(!1,{value:d,defaultValue:a}),y=K(M,2),w=y[0],p=y[1];function x(g,f){var I=w;return t||(I=g,p(I),C==null||C(I,f)),I}function j(g){g.which===H.LEFT?x(!1,g):g.which===H.RIGHT&&x(!0,g),v==null||v(g)}function S(g){var f=x(!w,g);b==null||b(f,g)}var E=q(s,c,(o={},N(o,"".concat(s,"-checked"),w),N(o,"".concat(s,"-disabled"),t),o));return u.createElement("button",X({},k,{type:"button",role:"switch","aria-checked":w,disabled:t,className:E,ref:n,onKeyDown:j,onClick:S}),i,u.createElement("span",{className:"".concat(s,"-inner")},u.createElement("span",{className:"".concat(s,"-inner-checked")},l),u.createElement("span",{className:"".concat(s,"-inner-unchecked")},m)))});O.displayName="Switch";const oe=e=>{const{componentCls:n,trackHeightSM:o,trackPadding:r,trackMinWidthSM:s,innerMinMarginSM:c,innerMaxMarginSM:d,handleSizeSM:a,calc:t}=e,i=`${n}-inner`,l=$(t(a).add(t(r).mul(2)).equal()),m=$(t(d).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:s,height:o,lineHeight:$(o),[`${n}-inner`]:{paddingInlineStart:d,paddingInlineEnd:c,[`${i}-checked, ${i}-unchecked`]:{minHeight:o},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${l} - ${m})`,marginInlineEnd:`calc(100% - ${l} + ${m})`},[`${i}-unchecked`]:{marginTop:t(o).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:a,height:a},[`${n}-loading-icon`]:{top:t(t(a).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:c,paddingInlineEnd:d,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${l} + ${m})`,marginInlineEnd:`calc(-100% + ${l} - ${m})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${$(t(a).add(r).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:t(e.marginXXS).div(2).equal(),marginInlineEnd:t(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:t(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:t(e.marginXXS).div(2).equal()}}}}}}},se=e=>{const{componentCls:n,handleSize:o,calc:r}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(o).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},de=e=>{const{componentCls:n,trackPadding:o,handleBg:r,handleShadow:s,handleSize:c,calc:d}=e,a=`${n}-handle`;return{[n]:{[a]:{position:"absolute",top:o,insetInlineStart:o,width:c,height:c,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:d(c).div(2).equal(),boxShadow:s,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${a}`]:{insetInlineStart:`calc(100% - ${$(d(c).add(o).equal())})`},[`&:not(${n}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},he=e=>{const{componentCls:n,trackHeight:o,trackPadding:r,innerMinMargin:s,innerMaxMargin:c,handleSize:d,calc:a}=e,t=`${n}-inner`,i=$(a(d).add(a(r).mul(2)).equal()),l=$(a(c).mul(2).equal());return{[n]:{[t]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:c,paddingInlineEnd:s,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${t}-checked, ${t}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:o},[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${i} - ${l})`,marginInlineEnd:`calc(100% - ${i} + ${l})`},[`${t}-unchecked`]:{marginTop:a(o).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${t}`]:{paddingInlineStart:s,paddingInlineEnd:c,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${i} + ${l})`,marginInlineEnd:`calc(-100% + ${i} - ${l})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:a(r).mul(2).equal(),marginInlineEnd:a(r).mul(-1).mul(2).equal()}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:a(r).mul(-1).mul(2).equal(),marginInlineEnd:a(r).mul(2).equal()}}}}}},ue=e=>{const{componentCls:n,trackHeight:o,trackMinWidth:r}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},B(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:o,lineHeight:$(o),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),F(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},ge=e=>{const{fontSize:n,lineHeight:o,controlHeight:r,colorWhite:s}=e,c=n*o,d=r/2,a=2,t=c-a*2,i=d-a*2;return{trackHeight:c,trackHeightSM:d,trackMinWidth:t*2+a*4,trackMinWidthSM:i*2+a*2,trackPadding:a,handleBg:s,handleSize:t,handleSizeSM:i,handleShadow:`0 2px 4px 0 ${new G("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:t/2,innerMaxMargin:t+a+a*2,innerMinMarginSM:i/2,innerMaxMarginSM:i+a+a*2}},me=U("Switch",e=>{const n=Y(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[ue(n),he(n),de(n),se(n),oe(n)]},ge);var Se=function(e,n){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const pe=u.forwardRef((e,n)=>{const{prefixCls:o,size:r,disabled:s,loading:c,className:d,rootClassName:a,style:t,checked:i,value:l,defaultChecked:m,defaultValue:b,onChange:C}=e,v=Se(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[k,M]=P(!1,{value:i??l,defaultValue:m??b}),{getPrefixCls:y,direction:w,switch:p}=u.useContext(Q),x=u.useContext(J),j=(s??x)||c,S=y("switch",o),E=u.createElement("div",{className:`${S}-handle`},c&&u.createElement(ne,{className:`${S}-loading-icon`})),[g,f,I]=me(S),_=Z(r),W=q(p==null?void 0:p.className,{[`${S}-small`]:_==="small",[`${S}-loading`]:c,[`${S}-rtl`]:w==="rtl"},d,a,f,I),L=Object.assign(Object.assign({},p==null?void 0:p.style),t),A=function(){M(arguments.length<=0?void 0:arguments[0]),C==null||C.apply(void 0,arguments)};return g(u.createElement(ee,{component:"Switch"},u.createElement(O,Object.assign({},v,{checked:k,onChange:A,prefixCls:S,className:W,style:L,disabled:j,ref:n,loadingIcon:E}))))}),R=pe;R.__ANT_SWITCH=!0;const Ie=()=>{const[e,n]=ae(),[o,r]=u.useState(!1),s=[{title:"Index",dataIndex:"key",width:56,align:"center",fixed:"left",render(c,d,a){return a}},{title:"",key:"prefix-action",width:80,fixed:"left",render(c,d,a){return h.jsxs(ie,{children:[h.jsx(T,{icon:h.jsx(le,{}),size:"small",shape:"circle",color:"primary",variant:"outlined",onClick:()=>{n(t=>{const i=t.slice();return i.splice(a+1,0,{key:`key:${Date.now()}`}),i})}}),h.jsx(T,{icon:h.jsx(ce,{}),size:"small",shape:"circle",danger:!0,onClick:()=>{n(t=>{const i=t.slice();return i.splice(a,1),i})}})]})}},{title:"Name",dataIndex:"name",key:"name",width:200,render:(c,d,a)=>h.jsx(D,{value:c,onChange:t=>{n(i=>{const l=i.slice();return l[a]={...l[a],name:t.currentTarget.value},l})}})},{title:"Data1",dataIndex:"data1",width:200,render:(c,d,a)=>h.jsx(z,{className:"w-full",value:c,onChange:t=>{n(i=>{const l=i.slice();return l[a]={...l[a],data1:t},l})}})},{title:"Data2",dataIndex:"data2",width:200,render:(c,d,a)=>h.jsx(z,{className:"w-full",value:c,onChange:t=>{n(i=>{const l=i.slice();return l[a]={...l[a],data2:t},l})}})},{title:"Data3",dataIndex:"data3",width:200,render:(c,d,a)=>h.jsx(z,{className:"w-full",value:c,onChange:t=>{n(i=>{const l=i.slice();return l[a]={...l[a],data3:t},l})}})},{title:"Data4",dataIndex:"data4",width:200,render:(c,d,a)=>h.jsx(D,{value:c,onChange:t=>{n(i=>{const l=i.slice();return l[a]={...l[a],data4:t.currentTarget.value},l})}})},{title:"Data5",dataIndex:"data5",width:200,render:(c,d,a)=>h.jsx(D,{value:c,onChange:t=>{n(i=>{const l=i.slice();return l[a]={...l[a],data5:t.currentTarget.value},l})}})}];return h.jsxs("div",{style:{padding:"0 12px"},children:[h.jsx("h2",{children:"滚动容器"}),h.jsx("h3",{children:"VirtualTable 会自行查找最近的滚动容器并实现虚拟列表"}),h.jsx("p",{style:{marginBottom:12},children:"Cell 中全部渲染组件，渲染压力提升，此时渲染不及时，容易白屏。Column 数量也会影响性能"}),h.jsxs("div",{style:{display:"inline-flex",alignItems:"center",margin:"0 0 8px 0"},children:[h.jsx(R,{value:o,onChange:r})," 单选模式"]}),h.jsx("div",{style:{boxSizing:"border-box",height:500,border:"1px solid #f00",overflow:"auto",overscrollBehavior:"contain"},children:h.jsx(te,{rowKey:"key",dataSource:e,columns:s,estimatedRowHeight:57,sticky:!0,rowSelection:{selections:!0,type:o?"radio":"checkbox",onChange(c,d,a){console.log({selectedRowKeys:c,selectedRows:d,info:a})}}})})]})};export{Ie as default};
