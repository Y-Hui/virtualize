import{K as Ge,L as ee,M as Fe,r as N,j as C}from"./index-C7MuxR0Y.js";import{b as te,g as me,d as Je,e as Ie,f as Xe,c as K,i as be,j as Qe,k as ge,l as Se,m as Ye,n as ae,o as oe,p as Ze,q as et,r as tt,s as rt,C as nt}from"./index-BJ4ukhSn.js";import{u as at}from"./table-selection-Tprd2yiS.js";var U={exports:{}},$={},V={exports:{}},fe={},de={exports:{}},pe,we;function ot(){if(we)return pe;we=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pe=r,pe}var he,xe;function it(){if(xe)return he;xe=1;var r=ot();function c(){}function f(){}return f.resetWarningCache=c,he=function(){function u(h,b,m,v,g,p){if(p!==r){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}u.isRequired=u;function y(){return u}var d={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:y,element:u,elementType:u,instanceOf:y,node:u,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:f,resetWarningCache:c};return d.PropTypes=d,d},he}var Oe;function le(){return Oe||(Oe=1,de.exports=it()()),de.exports}function Ke(r){var c,f,u="";if(typeof r=="string"||typeof r=="number")u+=r;else if(typeof r=="object")if(Array.isArray(r))for(c=0;c<r.length;c++)r[c]&&(f=Ke(r[c]))&&(u&&(u+=" "),u+=f);else for(c in r)r[c]&&(u&&(u+=" "),u+=c);return u}function Pe(){for(var r,c,f=0,u="";f<arguments.length;)(r=arguments[f++])&&(c=Ke(r))&&(u&&(u+=" "),u+=c);return u}const st=Object.freeze(Object.defineProperty({__proto__:null,clsx:Pe,default:Pe},Symbol.toStringTag,{value:"Module"})),lt=Ge(st);var j={},X={},Re;function ue(){if(Re)return X;Re=1,Object.defineProperty(X,"__esModule",{value:!0}),X.dontSetMe=y,X.findInArray=r,X.int=u,X.isFunction=c,X.isNum=f;function r(d,h){for(let b=0,m=d.length;b<m;b++)if(h.apply(h,[d[b],b,d]))return d[b]}function c(d){return typeof d=="function"||Object.prototype.toString.call(d)==="[object Function]"}function f(d){return typeof d=="number"&&!isNaN(d)}function u(d){return parseInt(d,10)}function y(d,h,b){if(d[h])return new Error("Invalid prop ".concat(h," passed to ").concat(b," - do not set this, set it on the child."))}return X}var Y={},De;function ut(){if(De)return Y;De=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.browserPrefixToKey=f,Y.browserPrefixToStyle=u,Y.default=void 0,Y.getPrefix=c;const r=["Moz","Webkit","O","ms"];function c(){var d;let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const b=(d=window.document)===null||d===void 0||(d=d.documentElement)===null||d===void 0?void 0:d.style;if(!b||h in b)return"";for(let m=0;m<r.length;m++)if(f(h,r[m])in b)return r[m];return""}function f(d,h){return h?"".concat(h).concat(y(d)):d}function u(d,h){return h?"-".concat(h.toLowerCase(),"-").concat(d):d}function y(d){let h="",b=!0;for(let m=0;m<d.length;m++)b?(h+=d[m].toUpperCase(),b=!1):d[m]==="-"?b=!0:h+=d[m];return h}return Y.default=c(),Y}var Ce;function ye(){if(Ce)return j;Ce=1,Object.defineProperty(j,"__esModule",{value:!0}),j.addClassName=a,j.addEvent=b,j.addUserSelectStyles=n,j.createCSSTransform=x,j.createSVGTransform=R,j.getTouch=o,j.getTouchIdentifier=t,j.getTranslation=w,j.innerHeight=p,j.innerWidth=O,j.matchesSelector=d,j.matchesSelectorAndParentsTo=h,j.offsetXYFromParent=P,j.outerHeight=v,j.outerWidth=g,j.removeClassName=s,j.removeEvent=m,j.removeUserSelectStyles=i;var r=ue(),c=u(ut());function f(e){if(typeof WeakMap!="function")return null;var l=new WeakMap,S=new WeakMap;return(f=function(D){return D?S:l})(e)}function u(e,l){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var S=f(l);if(S&&S.has(e))return S.get(e);var D={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in e)if(E!=="default"&&Object.prototype.hasOwnProperty.call(e,E)){var W=_?Object.getOwnPropertyDescriptor(e,E):null;W&&(W.get||W.set)?Object.defineProperty(D,E,W):D[E]=e[E]}return D.default=e,S&&S.set(e,D),D}let y="";function d(e,l){return y||(y=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(S){return(0,r.isFunction)(e[S])})),(0,r.isFunction)(e[y])?e[y](l):!1}function h(e,l,S){let D=e;do{if(d(D,l))return!0;if(D===S)return!1;D=D.parentNode}while(D);return!1}function b(e,l,S,D){if(!e)return;const _={capture:!0,...D};e.addEventListener?e.addEventListener(l,S,_):e.attachEvent?e.attachEvent("on"+l,S):e["on"+l]=S}function m(e,l,S,D){if(!e)return;const _={capture:!0,...D};e.removeEventListener?e.removeEventListener(l,S,_):e.detachEvent?e.detachEvent("on"+l,S):e["on"+l]=null}function v(e){let l=e.clientHeight;const S=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(S.borderTopWidth),l+=(0,r.int)(S.borderBottomWidth),l}function g(e){let l=e.clientWidth;const S=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(S.borderLeftWidth),l+=(0,r.int)(S.borderRightWidth),l}function p(e){let l=e.clientHeight;const S=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(S.paddingTop),l-=(0,r.int)(S.paddingBottom),l}function O(e){let l=e.clientWidth;const S=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(S.paddingLeft),l-=(0,r.int)(S.paddingRight),l}function P(e,l,S){const _=l===l.ownerDocument.body?{left:0,top:0}:l.getBoundingClientRect(),E=(e.clientX+l.scrollLeft-_.left)/S,W=(e.clientY+l.scrollTop-_.top)/S;return{x:E,y:W}}function x(e,l){const S=w(e,l,"px");return{[(0,c.browserPrefixToKey)("transform",c.default)]:S}}function R(e,l){return w(e,l,"")}function w(e,l,S){let{x:D,y:_}=e,E="translate(".concat(D).concat(S,",").concat(_).concat(S,")");if(l){const W="".concat(typeof l.x=="string"?l.x:l.x+S),H="".concat(typeof l.y=="string"?l.y:l.y+S);E="translate(".concat(W,", ").concat(H,")")+E}return E}function o(e,l){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,S=>l===S.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,S=>l===S.identifier)}function t(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function n(e){if(!e)return;let l=e.getElementById("react-draggable-style-el");l||(l=e.createElement("style"),l.type="text/css",l.id="react-draggable-style-el",l.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,l.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(l)),e.body&&a(e.body,"react-draggable-transparent-selection")}function i(e){if(e)try{if(e.body&&s(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const l=(e.defaultView||window).getSelection();l&&l.type!=="Caret"&&l.removeAllRanges()}}catch{}}function a(e,l){e.classList?e.classList.add(l):e.className.match(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)")))||(e.className+=" ".concat(l))}function s(e,l){e.classList?e.classList.remove(l):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)"),"g"),"")}return j}var I={},_e;function Le(){if(_e)return I;_e=1,Object.defineProperty(I,"__esModule",{value:!0}),I.canDragX=y,I.canDragY=d,I.createCoreData=b,I.createDraggableData=m,I.getBoundPosition=f,I.getControlPosition=h,I.snapToGrid=u;var r=ue(),c=ye();function f(p,O,P){if(!p.props.bounds)return[O,P];let{bounds:x}=p.props;x=typeof x=="string"?x:v(x);const R=g(p);if(typeof x=="string"){const{ownerDocument:w}=R,o=w.defaultView;let t;if(x==="parent"?t=R.parentNode:t=w.querySelector(x),!(t instanceof o.HTMLElement))throw new Error('Bounds selector "'+x+'" could not find an element.');const n=t,i=o.getComputedStyle(R),a=o.getComputedStyle(n);x={left:-R.offsetLeft+(0,r.int)(a.paddingLeft)+(0,r.int)(i.marginLeft),top:-R.offsetTop+(0,r.int)(a.paddingTop)+(0,r.int)(i.marginTop),right:(0,c.innerWidth)(n)-(0,c.outerWidth)(R)-R.offsetLeft+(0,r.int)(a.paddingRight)-(0,r.int)(i.marginRight),bottom:(0,c.innerHeight)(n)-(0,c.outerHeight)(R)-R.offsetTop+(0,r.int)(a.paddingBottom)-(0,r.int)(i.marginBottom)}}return(0,r.isNum)(x.right)&&(O=Math.min(O,x.right)),(0,r.isNum)(x.bottom)&&(P=Math.min(P,x.bottom)),(0,r.isNum)(x.left)&&(O=Math.max(O,x.left)),(0,r.isNum)(x.top)&&(P=Math.max(P,x.top)),[O,P]}function u(p,O,P){const x=Math.round(O/p[0])*p[0],R=Math.round(P/p[1])*p[1];return[x,R]}function y(p){return p.props.axis==="both"||p.props.axis==="x"}function d(p){return p.props.axis==="both"||p.props.axis==="y"}function h(p,O,P){const x=typeof O=="number"?(0,c.getTouch)(p,O):null;if(typeof O=="number"&&!x)return null;const R=g(P),w=P.props.offsetParent||R.offsetParent||R.ownerDocument.body;return(0,c.offsetXYFromParent)(x||p,w,P.props.scale)}function b(p,O,P){const x=!(0,r.isNum)(p.lastX),R=g(p);return x?{node:R,deltaX:0,deltaY:0,lastX:O,lastY:P,x:O,y:P}:{node:R,deltaX:O-p.lastX,deltaY:P-p.lastY,lastX:p.lastX,lastY:p.lastY,x:O,y:P}}function m(p,O){const P=p.props.scale;return{node:O.node,x:p.state.x+O.deltaX/P,y:p.state.y+O.deltaY/P,deltaX:O.deltaX/P,deltaY:O.deltaY/P,lastX:p.state.x,lastY:p.state.y}}function v(p){return{left:p.left,top:p.top,right:p.right,bottom:p.bottom}}function g(p){const O=p.findDOMNode();if(!O)throw new Error("<DraggableCore>: Unmounted during event!");return O}return I}var G={},re={},Ee;function Be(){if(Ee)return re;Ee=1,Object.defineProperty(re,"__esModule",{value:!0}),re.default=r;function r(){}return re}var Ne;function ct(){if(Ne)return G;Ne=1,Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var r=v(ee()),c=b(le()),f=b(Fe()),u=ye(),y=Le(),d=ue(),h=b(Be());function b(w){return w&&w.__esModule?w:{default:w}}function m(w){if(typeof WeakMap!="function")return null;var o=new WeakMap,t=new WeakMap;return(m=function(n){return n?t:o})(w)}function v(w,o){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var t=m(o);if(t&&t.has(w))return t.get(w);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in w)if(a!=="default"&&Object.prototype.hasOwnProperty.call(w,a)){var s=i?Object.getOwnPropertyDescriptor(w,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=w[a]}return n.default=w,t&&t.set(w,n),n}function g(w,o,t){return o=p(o),o in w?Object.defineProperty(w,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):w[o]=t,w}function p(w){var o=O(w,"string");return typeof o=="symbol"?o:String(o)}function O(w,o){if(typeof w!="object"||w===null)return w;var t=w[Symbol.toPrimitive];if(t!==void 0){var n=t.call(w,o);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(w)}const P={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let x=P.mouse,R=class extends r.Component{constructor(){super(...arguments),g(this,"dragging",!1),g(this,"lastX",NaN),g(this,"lastY",NaN),g(this,"touchIdentifier",null),g(this,"mounted",!1),g(this,"handleDragStart",o=>{if(this.props.onMouseDown(o),!this.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(o.target instanceof n.defaultView.Node)||this.props.handle&&!(0,u.matchesSelectorAndParentsTo)(o.target,this.props.handle,t)||this.props.cancel&&(0,u.matchesSelectorAndParentsTo)(o.target,this.props.cancel,t))return;o.type==="touchstart"&&o.preventDefault();const i=(0,u.getTouchIdentifier)(o);this.touchIdentifier=i;const a=(0,y.getControlPosition)(o,i,this);if(a==null)return;const{x:s,y:e}=a,l=(0,y.createCoreData)(this,s,e);(0,h.default)("DraggableCore: handleDragStart: %j",l),(0,h.default)("calling",this.props.onStart),!(this.props.onStart(o,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=e,(0,u.addEvent)(n,x.move,this.handleDrag),(0,u.addEvent)(n,x.stop,this.handleDragStop))}),g(this,"handleDrag",o=>{const t=(0,y.getControlPosition)(o,this.touchIdentifier,this);if(t==null)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,l=i-this.lastY;if([e,l]=(0,y.snapToGrid)(this.props.grid,e,l),!e&&!l)return;n=this.lastX+e,i=this.lastY+l}const a=(0,y.createCoreData)(this,n,i);if((0,h.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(o,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=i}),g(this,"handleDragStop",o=>{if(!this.dragging)return;const t=(0,y.getControlPosition)(o,this.touchIdentifier,this);if(t==null)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,S=i-this.lastY||0;[l,S]=(0,y.snapToGrid)(this.props.grid,l,S),n=this.lastX+l,i=this.lastY+S}const a=(0,y.createCoreData)(this,n,i);if(this.props.onStop(o,a)===!1||this.mounted===!1)return!1;const e=this.findDOMNode();e&&this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(e.ownerDocument),(0,h.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,e&&((0,h.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(e.ownerDocument,x.move,this.handleDrag),(0,u.removeEvent)(e.ownerDocument,x.stop,this.handleDragStop))}),g(this,"onMouseDown",o=>(x=P.mouse,this.handleDragStart(o))),g(this,"onMouseUp",o=>(x=P.mouse,this.handleDragStop(o))),g(this,"onTouchStart",o=>(x=P.touch,this.handleDragStart(o))),g(this,"onTouchEnd",o=>(x=P.touch,this.handleDragStop(o)))}componentDidMount(){this.mounted=!0;const o=this.findDOMNode();o&&(0,u.addEvent)(o,P.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const o=this.findDOMNode();if(o){const{ownerDocument:t}=o;(0,u.removeEvent)(t,P.mouse.move,this.handleDrag),(0,u.removeEvent)(t,P.touch.move,this.handleDrag),(0,u.removeEvent)(t,P.mouse.stop,this.handleDragStop),(0,u.removeEvent)(t,P.touch.stop,this.handleDragStop),(0,u.removeEvent)(o,P.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(t)}}findDOMNode(){var o,t;return(o=this.props)!==null&&o!==void 0&&o.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:f.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return G.default=R,g(R,"displayName","DraggableCore"),g(R,"propTypes",{allowAnyClick:c.default.bool,children:c.default.node.isRequired,disabled:c.default.bool,enableUserSelectHack:c.default.bool,offsetParent:function(w,o){if(w[o]&&w[o].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:c.default.arrayOf(c.default.number),handle:c.default.string,cancel:c.default.string,nodeRef:c.default.object,onStart:c.default.func,onDrag:c.default.func,onStop:c.default.func,onMouseDown:c.default.func,scale:c.default.number,className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),g(R,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),G}var ze;function ft(){return ze||(ze=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),r.default=void 0;var c=O(ee()),f=g(le()),u=g(Fe()),y=g(lt),d=ye(),h=Le(),b=ue(),m=g(ct()),v=g(Be());function g(t){return t&&t.__esModule?t:{default:t}}function p(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,i=new WeakMap;return(p=function(a){return a?i:n})(t)}function O(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var i=p(n);if(i&&i.has(t))return i.get(t);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=s?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,i&&i.set(t,a),a}function P(){return P=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},P.apply(this,arguments)}function x(t,n,i){return n=R(n),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function R(t){var n=w(t,"string");return typeof n=="symbol"?n:String(n)}function w(t,n){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}class o extends c.Component{static getDerivedStateFromProps(n,i){let{position:a}=n,{prevPropsPosition:s}=i;return a&&(!s||a.x!==s.x||a.y!==s.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:s}),{x:a.x,y:a.y,prevPropsPosition:{...a}}):null}constructor(n){super(n),x(this,"onDragStart",(i,a)=>{if((0,v.default)("Draggable: onDragStart: %j",a),this.props.onStart(i,(0,h.createDraggableData)(this,a))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(i,a)=>{if(!this.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",a);const s=(0,h.createDraggableData)(this,a),e={x:s.x,y:s.y,slackX:0,slackY:0};if(this.props.bounds){const{x:S,y:D}=e;e.x+=this.state.slackX,e.y+=this.state.slackY;const[_,E]=(0,h.getBoundPosition)(this,e.x,e.y);e.x=_,e.y=E,e.slackX=this.state.slackX+(S-e.x),e.slackY=this.state.slackY+(D-e.y),s.x=e.x,s.y=e.y,s.deltaX=e.x-this.state.x,s.deltaY=e.y-this.state.y}if(this.props.onDrag(i,s)===!1)return!1;this.setState(e)}),x(this,"onDragStop",(i,a)=>{if(!this.state.dragging||this.props.onStop(i,(0,h.createDraggableData)(this,a))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",a);const e={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:S,y:D}=this.props.position;e.x=S,e.y=D}this.setState(e)}),this.state={dragging:!1,dragged:!1,x:n.position?n.position.x:n.defaultPosition.x,y:n.position?n.position.y:n.defaultPosition.y,prevPropsPosition:{...n.position},slackX:0,slackY:0,isElementSVG:!1},n.position&&!(n.onDrag||n.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var n,i;return(n=(i=this.props)===null||i===void 0||(i=i.nodeRef)===null||i===void 0?void 0:i.current)!==null&&n!==void 0?n:u.default.findDOMNode(this)}render(){const{axis:n,bounds:i,children:a,defaultPosition:s,defaultClassName:e,defaultClassNameDragging:l,defaultClassNameDragged:S,position:D,positionOffset:_,scale:E,...W}=this.props;let H={},T=null;const z=!!!D||this.state.dragging,q=D||s,F={x:(0,h.canDragX)(this)&&z?this.state.x:q.x,y:(0,h.canDragY)(this)&&z?this.state.y:q.y};this.state.isElementSVG?T=(0,d.createSVGTransform)(F,_):H=(0,d.createCSSTransform)(F,_);const k=(0,y.default)(a.props.className||"",e,{[l]:this.state.dragging,[S]:this.state.dragged});return c.createElement(m.default,P({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),c.cloneElement(c.Children.only(a),{className:k,style:{...a.props.style,...H},transform:T}))}}r.default=o,x(o,"displayName","Draggable"),x(o,"propTypes",{...m.default.propTypes,axis:f.default.oneOf(["both","x","y","none"]),bounds:f.default.oneOfType([f.default.shape({left:f.default.number,right:f.default.number,top:f.default.number,bottom:f.default.number}),f.default.string,f.default.oneOf([!1])]),defaultClassName:f.default.string,defaultClassNameDragging:f.default.string,defaultClassNameDragged:f.default.string,defaultPosition:f.default.shape({x:f.default.number,y:f.default.number}),positionOffset:f.default.shape({x:f.default.oneOfType([f.default.number,f.default.string]),y:f.default.oneOfType([f.default.number,f.default.string])}),position:f.default.shape({x:f.default.number,y:f.default.number}),className:b.dontSetMe,style:b.dontSetMe,transform:b.dontSetMe}),x(o,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(fe)),fe}var Te;function Ae(){if(Te)return V.exports;Te=1;const{default:r,DraggableCore:c}=ft();return V.exports=r,V.exports.default=r,V.exports.DraggableCore=c,V.exports}var ne={},Me;function dt(){if(Me)return ne;Me=1,ne.__esModule=!0,ne.cloneElement=b;var r=c(ee());function c(m){return m&&m.__esModule?m:{default:m}}function f(m,v){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);v&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(m,O).enumerable})),g.push.apply(g,p)}return g}function u(m){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?f(Object(g),!0).forEach(function(p){y(m,p,g[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):f(Object(g)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(g,p))})}return m}function y(m,v,g){return v=d(v),v in m?Object.defineProperty(m,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[v]=g,m}function d(m){var v=h(m,"string");return typeof v=="symbol"?v:String(v)}function h(m,v){if(typeof m!="object"||m===null)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var p=g.call(m,v);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(m)}function b(m,v){return v.style&&m.props.style&&(v.style=u(u({},m.props.style),v.style)),v.className&&m.props.className&&(v.className=m.props.className+" "+v.className),r.default.cloneElement(m,v)}return ne}var J={},We;function Ue(){if(We)return J;We=1,J.__esModule=!0,J.resizableProps=void 0;var r=c(le());Ae();function c(u){return u&&u.__esModule?u:{default:u}}var f={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var y=arguments.length,d=new Array(y),h=0;h<y;h++)d[h]=arguments[h];var b=d[0];if(b.axis==="both"||b.axis==="y"){var m;return(m=r.default.number).isRequired.apply(m,d)}return r.default.number.apply(r.default,d)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var y=arguments.length,d=new Array(y),h=0;h<y;h++)d[h]=arguments[h];var b=d[0];if(b.axis==="both"||b.axis==="x"){var m;return(m=r.default.number).isRequired.apply(m,d)}return r.default.number.apply(r.default,d)}};return J.resizableProps=f,J}var je;function $e(){if(je)return $;je=1,$.__esModule=!0,$.default=void 0;var r=h(ee()),c=Ae(),f=dt(),u=Ue(),y=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function d(o){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(d=function(a){return a?n:t})(o)}function h(o,t){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var n=d(t);if(n&&n.has(o))return n.get(o);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in o)if(s!=="default"&&Object.prototype.hasOwnProperty.call(o,s)){var e=a?Object.getOwnPropertyDescriptor(o,s):null;e&&(e.get||e.set)?Object.defineProperty(i,s,e):i[s]=o[s]}return i.default=o,n&&n.set(o,i),i}function b(){return b=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},b.apply(this,arguments)}function m(o,t){if(o==null)return{};var n={},i=Object.keys(o),a,s;for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&(n[a]=o[a]);return n}function v(o,t){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),n.push.apply(n,i)}return n}function g(o){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(i){p(o,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(n,i))})}return o}function p(o,t,n){return t=O(t),t in o?Object.defineProperty(o,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[t]=n,o}function O(o){var t=P(o,"string");return typeof t=="symbol"?t:String(t)}function P(o,t){if(typeof o!="object"||o===null)return o;var n=o[Symbol.toPrimitive];if(n!==void 0){var i=n.call(o,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}function x(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,R(o,t)}function R(o,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},R(o,t)}var w=function(o){x(t,o);function t(){for(var i,a=arguments.length,s=new Array(a),e=0;e<a;e++)s[e]=arguments[e];return i=o.call.apply(o,[this].concat(s))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(a,s){var e=this.props,l=e.minConstraints,S=e.maxConstraints,D=e.lockAspectRatio;if(!l&&!S&&!D)return[a,s];if(D){var _=this.props.width/this.props.height,E=a-this.props.width,W=s-this.props.height;Math.abs(E)>Math.abs(W*_)?s=a/_:a=s*_}var H=a,T=s,M=this.slack||[0,0],z=M[0],q=M[1];return a+=z,s+=q,l&&(a=Math.max(l[0],a),s=Math.max(l[1],s)),S&&(a=Math.min(S[0],a),s=Math.min(S[1],s)),this.slack=[z+(H-a),q+(T-s)],[a,s]},n.resizeHandler=function(a,s){var e=this;return function(l,S){var D=S.node,_=S.deltaX,E=S.deltaY;a==="onResizeStart"&&e.resetData();var W=(e.props.axis==="both"||e.props.axis==="x")&&s!=="n"&&s!=="s",H=(e.props.axis==="both"||e.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!W&&!H)){var T=s[0],M=s[s.length-1],z=D.getBoundingClientRect();if(e.lastHandleRect!=null){if(M==="w"){var q=z.left-e.lastHandleRect.left;_+=q}if(T==="n"){var F=z.top-e.lastHandleRect.top;E+=F}}e.lastHandleRect=z,M==="w"&&(_=-_),T==="n"&&(E=-E);var k=e.props.width+(W?_/e.props.transformScale:0),L=e.props.height+(H?E/e.props.transformScale:0),B=e.runConstraints(k,L);k=B[0],L=B[1];var ce=k!==e.props.width||L!==e.props.height,A=typeof e.props[a]=="function"?e.props[a]:null,Ve=a==="onResize"&&!ce;A&&!Ve&&(l.persist==null||l.persist(),A(l,{node:D,size:{width:k,height:L},handle:s})),a==="onResizeStop"&&e.resetData()}}},n.renderResizeHandle=function(a,s){var e=this.props.handle;if(!e)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:s});if(typeof e=="function")return e(a,s);var l=typeof e.type=="string",S=g({ref:s},l?{}:{handleAxis:a});return r.cloneElement(e,S)},n.render=function(){var a=this,s=this.props,e=s.children,l=s.className,S=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var D=s.resizeHandles;s.transformScale;var _=m(s,y);return(0,f.cloneElement)(e,g(g({},_),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(e.props.children,D.map(function(E){var W,H=(W=a.handleRefs[E])!=null?W:a.handleRefs[E]=r.createRef();return r.createElement(c.DraggableCore,b({},S,{nodeRef:H,key:"resizableHandle-"+E,onStop:a.resizeHandler("onResizeStop",E),onStart:a.resizeHandler("onResizeStart",E),onDrag:a.resizeHandler("onResize",E)}),a.renderResizeHandle(E,H))}))}))},t}(r.Component);return $.default=w,w.propTypes=u.resizableProps,w.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},$}var Q={},qe;function pt(){if(qe)return Q;qe=1,Q.__esModule=!0,Q.default=void 0;var r=b(ee()),c=d(le()),f=d($e()),u=Ue(),y=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function d(t){return t&&t.__esModule?t:{default:t}}function h(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,i=new WeakMap;return(h=function(s){return s?i:n})(t)}function b(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var i=h(n);if(i&&i.has(t))return i.get(t);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=s?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,i&&i.set(t,a),a}function m(){return m=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},m.apply(this,arguments)}function v(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,a)}return i}function g(t){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?v(Object(i),!0).forEach(function(a){p(t,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))})}return t}function p(t,n,i){return n=O(n),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function O(t){var n=P(t,"string");return typeof n=="symbol"?n:String(n)}function P(t,n){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function x(t,n){if(t==null)return{};var i={},a=Object.keys(t),s,e;for(e=0;e<a.length;e++)s=a[e],!(n.indexOf(s)>=0)&&(i[s]=t[s]);return i}function R(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,w(t,n)}function w(t,n){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},w(t,n)}var o=function(t){R(n,t);function n(){for(var a,s=arguments.length,e=new Array(s),l=0;l<s;l++)e[l]=arguments[l];return a=t.call.apply(t,[this].concat(e))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(S,D){var _=D.size;a.props.onResize?(S.persist==null||S.persist(),a.setState(_,function(){return a.props.onResize&&a.props.onResize(S,D)})):a.setState(_)},a}n.getDerivedStateFromProps=function(s,e){return e.propsWidth!==s.width||e.propsHeight!==s.height?{width:s.width,height:s.height,propsWidth:s.width,propsHeight:s.height}:null};var i=n.prototype;return i.render=function(){var s=this.props,e=s.handle,l=s.handleSize;s.onResize;var S=s.onResizeStart,D=s.onResizeStop,_=s.draggableOpts,E=s.minConstraints,W=s.maxConstraints,H=s.lockAspectRatio,T=s.axis;s.width,s.height;var M=s.resizeHandles,z=s.style,q=s.transformScale,F=x(s,y);return r.createElement(f.default,{axis:T,draggableOpts:_,handle:e,handleSize:l,height:this.state.height,lockAspectRatio:H,maxConstraints:W,minConstraints:E,onResizeStart:S,onResize:this.onResize,onResizeStop:D,resizeHandles:M,transformScale:q,width:this.state.width},r.createElement("div",m({},F,{style:g(g({},z),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},n}(r.Component);return Q.default=o,o.propTypes=g(g({},u.resizableProps),{},{children:c.default.element}),Q}var He;function ht(){return He||(He=1,U.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},U.exports.Resizable=$e().default,U.exports.ResizableBox=pt().default),U.exports}var mt=ht();function gt(r){return typeof r=="object"&&r!=null}function yt(r,c){return typeof r=="function"?r(c):r}function ke(r,c){if(r==null)return;const f=yt(r,c);if(f!=null)return[f,0]}const ie={key(r){return`${r}_resize`},get(r){try{const c=window.localStorage.getItem(ie.key(r))??"{}",f=JSON.parse(c);return gt(f)?(Object.entries(f).forEach(([u,y])=>{Number.isFinite(y)||delete f[u]}),f):{}}catch{return{}}},set(r,c){window.localStorage.setItem(ie.key(r),JSON.stringify(c))}};function vt(r,c){const{storageKey:f,min:u,max:y}=c??{},{columns:d,instance:h}=r,[b,m]=N.useState(()=>f==null?{}:ie.get(f)),v=N.useCallback((O,P)=>{m(x=>{const R={...x,[`${O}`]:P};return f!=null&&ie.set(f,R),R})},[f]),g=N.useCallback((O,P)=>{const{column:x}=P;if(x.disableResize)return O;const R=me(x),w=Je(x,h.getCurrentProps().defaultColumnWidth);return C.jsx(mt.Resizable,{width:w,axis:"x",minConstraints:ke(x.minWidth??u,x),maxConstraints:ke(x.maxWidth??y,x),handle:C.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(o,{size:t})=>{v(R,t.width)},children:O})},[v,h,y,u]),p=N.useMemo(()=>d.map(O=>{const P=me(O).toString(),x=b[P];return x!=null&&x!==O.width?{...O,width:x}:O}),[b,d]);return{...r,columns:p,renderHeaderCell:g}}const Ft=te(vt),bt=r=>{const{colSpan:c,children:f}=r,{tableWidth:u}=Ie();return C.jsx("tr",{children:C.jsx("td",{colSpan:c,style:{padding:0},children:C.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:u<=0?void 0:u},children:f})})})};function St(r,c){const{children:f,visible:u=!0}=c,{dataSource:y}=r,h=(Array.isArray(y)?y.length===0:!0)&&u,b=N.useMemo(()=>typeof f=="function"?N.createElement(f):f,[f]),m=N.useCallback((v,g)=>{const{columnDescriptor:p}=g;return C.jsxs(C.Fragment,{children:[v,C.jsx(bt,{colSpan:p.length,children:b},"virtual-table-placeholder$")]})},[b]);return h?{...r,renderBodyContent:m}:r}const It=te(St),wt="ExpandRow",xt=r=>{const{className:c,style:f,rowKey:u,isExpanded:y,colSpan:d,children:h,fixed:b}=r,{setRowHeightByRowKey:m}=Xe(),{tableWidth:v}=Ie();return C.jsx("tr",{className:K("virtual-table-expanded-row",c),style:{...f,display:y?void 0:"none"},ref:g=>{g!=null&&m(u,wt,g.offsetHeight)},children:C.jsx("td",{colSpan:d,children:C.jsx("div",{className:K("virtual-table-cell",b&&"virtual-table-expanded-row-fixed"),style:{width:v<=0?void 0:v},children:h})})})},Ot="VirtualTable.EXPANSION_COLUMN";function Pt(r,c){const f=c==null,{rowKey:u,columns:y,dataSource:d}=r,{defaultExpandedRowKeys:h,expandedRowRender:b,columnTitle:m,expandRowByClick:v=!1,expandIcon:g,onExpand:p,defaultExpandAllRows:O=!1,showExpandColumn:P=!0,expandedRowClassName:x,rowExpandable:R,columnWidth:w=50,fixed:o,extraColumnProps:t}=c??{},n=N.useMemo(()=>d.map(T=>R?R(T):!1),[d,R]),i=be(()=>n),a=N.useRef("expandedRowKeys"in(c??{})||"defaultExpandedRowKeys"in(c??{})?!1:O),s=be(()=>a.current?d.map((M,z)=>i[z]?M[u]:null).filter(M=>M!=null):[]),e=N.useRef(new Set(h??s)),[l,S]=at(c??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:h??s}),D=Qe((T,M)=>{const z=Se(T,u);e.current.add(z),M==null?l.includes(z)?(S(l.filter(q=>q!==z)),p==null||p(!1,T)):(S([...l,z]),p==null||p(!0,T)):M?(S([...l,z]),p==null||p(!0,T)):(S(l.filter(q=>q!==z)),p==null||p(!1,T))}),_=ge(o),E=N.useCallback((T,M)=>{const{rowData:z,rowIndex:q,rowKey:F,columnDescriptor:k}=M;if(i[q]){const B=l.includes(F),ce=e.current.has(F);let A="";return typeof x=="string"?A=x:typeof x=="function"&&(A=x(z,q,0)),C.jsxs(C.Fragment,{children:[T,ce&&C.jsx(xt,{className:A,rowKey:F,isExpanded:B,colSpan:k.length,fixed:_,children:b==null?void 0:b(z,q,0,B)})]})}return T},[_,i,l,x,b]),W=N.useMemo(()=>P?[{...t,key:Ot,title:m,width:w,fixed:o,render(T,M,z){const q=Se(M,u),F=i[z]??!1,k=l.includes(q);return typeof g=="function"?g({expandable:F,expanded:k,record:M,prefixCls:"virtual-table",onExpand:(L,B)=>{D(L)}}):F?C.jsx("button",{className:K("virtual-table-row-expand-icon",k?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":k?"关闭行":"展开行","aria-expanded":k,onClick:()=>{D(M,!k)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...y]:y,[P,m,w,o,y,u,i,l,g,D,t]),H=N.useCallback((T,M)=>i[M]?{onClick:z=>{z.stopPropagation(),D(T)}}:{},[i,D]);return f?r:{...r,columns:W,renderRow:E,onRow:v?H:void 0}}const Xt=te(Pt);function Rt(r){const{column:c,className:f}=r,{align:u,fixed:y}=c,d=me(c),{size:h}=Ye();return C.jsx("td",{className:K("virtual-table-cell",f,u!=null&&`virtual-table-align-${u}`,ge(y)&&"virtual-table-sticky-cell"),style:{left:oe(y)?h.get(d):void 0,right:ae(y)?h.get(d):void 0},children:C.jsx("div",{className:"virtual-table-loading-skeleton"})})}const Dt=N.memo(Rt);function Ct(r){const{descriptor:c,style:f,rowKey:u}=r,{setRowHeightByRowKey:y}=Xe(),d=Ze(c,b=>b.type==="blank"?!1:oe(b.column.fixed)),h=c.findIndex(b=>b.type==="blank"?!1:ae(b.column.fixed));return C.jsx("tr",{className:"virtual-table-row virtual-table-loading-cell",style:f,ref:b=>{b!=null&&y(u,"loading-tr",b.offsetHeight)},children:c.map((b,m)=>{const{key:v}=b;if(b.type==="blank")return C.jsx("td",{},v);const{column:g}=b;return C.jsx(Dt,{className:K(d===m&&"virtual-table-cell-fix-left-last",h===m&&"virtual-table-cell-fix-right-first"),column:g},v)})})}const _t=N.memo(Ct);function Et(r,c){const{loading:f=!1}=c??{},{estimatedRowHeight:u,headerWrapperRef:y,getScroller:d}=r,[h,b]=N.useState(10);N.useEffect(()=>{const v=y.current,g=d();if(g!=null)return et(g,({height:p})=>{const O=(v==null?void 0:v.offsetHeight)??0;b(Math.ceil((p-O)/u))})},[d,y,u]);const m=N.useMemo(()=>Array.from({length:h},(v,g)=>({key:g})),[h]);return f?{...r,renderBodyRoot:v=>{if(N.isValidElement(v)&&Object.prototype.hasOwnProperty.call(v.props,"style")){const g=v.props.style;return N.cloneElement(v,{style:{...g,paddingBottom:void 0,paddingTop:void 0}})}return v},renderBodyContent:(v,{columnDescriptor:g,startRowIndex:p})=>m.map((O,P)=>C.jsx(_t,{style:{height:u},descriptor:g,rowKey:`__loading$-${P+p}`},O.key))}:r}const Yt=te(Et),se=N.createContext(null),Nt=r=>{const{className:c,style:f,zIndex:u,bottom:y,columns:d,fixed:h,children:b,defaultColumnWidth:m}=r,[v]=N.useState(()=>tt().height),g=rt("virtual-table-summary");return C.jsx("div",{className:K("virtual-table-summary-wrapper",h&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border",c),style:{...h?{"--virtual-table-summary-z-index":u,"--virtual-table-summary-sticky-bottom":Number.isFinite(y)?`${y}px`:y}:{},...f,paddingBottom:v},ref:g,children:C.jsxs("table",{className:"virtual-table-summary",children:[C.jsx(nt,{columns:d,defaultColumnWidth:m}),C.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:b})]})})};function zt(r){var x;const{className:c,style:f,children:u,align:y,colSpan:d,columnKey:h,...b}=r,{size:m,fixed:v}=Ye(),g=h==null?0:m.get(h),p=(x=v.find(R=>R.key===h))==null?void 0:x.fixed,{left:O,right:P}=N.useMemo(()=>{var o;const R=v.reduce((t,n)=>oe(n.fixed)?n.key:t,void 0),w=(o=v.find(t=>ae(t.fixed)))==null?void 0:o.key;return{left:R,right:w}},[v]);return d===0?null:C.jsx("td",{...b,colSpan:d,className:K("virtual-table-cell virtual-table-summary-cell",y!=null&&`virtual-table-align-${y}`,ge(p)&&"virtual-table-sticky-cell",O===h&&"virtual-table-cell-fix-left-last",P===h&&"virtual-table-cell-fix-right-first",c),style:{...f,left:oe(p)?g:void 0,right:ae(p)?g:void 0},children:u})}const ve=N.memo(zt);function Tt(r){const{dataSource:c,...f}=r,u=N.useContext(se);if(u==null)throw new Error("SummaryOutlet is missing the columns context and cannot use children as a function.");return C.jsx("tr",{...f,children:u.map(y=>{const{key:d}=y;if(y.type==="blank")return C.jsx("td",{},d);const{column:h}=y,{render:b,...m}=h.summary??{};return N.createElement(ve,{...m,key:d,columnKey:d},b==null?void 0:b(c))})})}const Mt=({children:r,...c})=>{const f=N.useContext(se);if(typeof r=="function"){if(f!=null)return C.jsx("tr",{...c,children:f.map(u=>{const{key:y}=u;if(u.type==="blank")return C.jsx("td",{},y);const{column:d}=u;let h=r(d,y);return N.isValidElement(h)&&h.type===ve&&(h=N.cloneElement(h,{columnKey:y})),C.jsx(N.Fragment,{children:h},y)})});throw new Error("SummaryRow is missing the columns context and cannot use children as a function.")}return C.jsx("tr",{...c,children:r})};function Z({children:r}){return r}Z.Row=Mt;Z.Cell=ve;Z.Outlet=Tt;function Wt(r,c){const{className:f,style:u,zIndex:y,bottom:d,summary:h}=c??{},{dataSource:b,instance:m}=r;let v=!1,g=!1;const p=h==null?void 0:h(b),O=[],P=[],x=R=>{const w=R.props.fixed;w==="top"?(v=!0,O.push(R)):((w==="bottom"||w===!0)&&(g=!0),P.push(R))};if(h==null)return r;if(N.isValidElement(p))if(p.type===N.Fragment){const R=p.props.children;N.Children.forEach(R,w=>{N.isValidElement(w)&&w.type===Z&&x(w)})}else p.type===Z&&x(p);else return r;return{...r,...v?{renderHeader:(R,{columnDescriptor:w})=>C.jsxs(C.Fragment,{children:[R,C.jsx("tfoot",{className:K("virtual-table-summary-tfoot",f),style:u,children:C.jsx(se.Provider,{value:w,children:O})})]})}:{},...g?{renderContent(R,{columnDescriptor:w}){const{defaultColumnWidth:o}=m.getCurrentProps();return C.jsxs(C.Fragment,{children:[R,C.jsx(Nt,{className:f,style:u,zIndex:y,bottom:d,fixed:g,columns:w,defaultColumnWidth:o,children:C.jsx(se.Provider,{value:w,children:P})})]})}}:{}}}const Kt=te(Wt);export{Z as S,Kt as a,Yt as b,Ft as c,It as d,Xt as t};
