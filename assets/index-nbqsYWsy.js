import{K as te,L as Xe,r as E,j as C}from"./index-BOW0m65N.js";import{b as re,g as se,d as Ge,i as Z,e as Le,f as Ye,c as K,j as Se,k as Je,l as ye,m as we,n as Ke,o as ie,p as Qe,q as Ze,r as et,s as tt,C as rt}from"./index-CJyhj_ro.js";import{u as nt}from"./table-selection-DXCwlFL7.js";var B={exports:{}},$={},V={exports:{}},pe={},he={exports:{}},me,xe;function ot(){if(xe)return me;xe=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return me=r,me}var ge,Re;function at(){if(Re)return ge;Re=1;var r=ot();function g(){}function c(){}return c.resetWarningCache=g,ge=function(){function u(d,S,y,h,x,m){if(m!==r){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}u.isRequired=u;function v(){return u}var f={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:v,element:u,elementType:u,instanceOf:v,node:u,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:c,resetWarningCache:g};return f.PropTypes=f,f},ge}var Pe;function ce(){return Pe||(Pe=1,he.exports=at()()),he.exports}var ne={exports:{}},Oe;function st(){if(Oe)return ne.exports;Oe=1;function r(c){var u,v,f="";if(typeof c=="string"||typeof c=="number")f+=c;else if(typeof c=="object")if(Array.isArray(c)){var d=c.length;for(u=0;u<d;u++)c[u]&&(v=r(c[u]))&&(f&&(f+=" "),f+=v)}else for(v in c)c[v]&&(f&&(f+=" "),f+=v);return f}function g(){for(var c,u,v=0,f="",d=arguments.length;v<d;v++)(c=arguments[v])&&(u=r(c))&&(f&&(f+=" "),f+=u);return f}return ne.exports=g,ne.exports.clsx=g,ne.exports}var W={},L={},De;function fe(){if(De)return L;De=1,Object.defineProperty(L,"__esModule",{value:!0}),L.dontSetMe=v,L.findInArray=r,L.int=u,L.isFunction=g,L.isNum=c;function r(f,d){for(let S=0,y=f.length;S<y;S++)if(d.apply(d,[f[S],S,f]))return f[S]}function g(f){return typeof f=="function"||Object.prototype.toString.call(f)==="[object Function]"}function c(f){return typeof f=="number"&&!isNaN(f)}function u(f){return parseInt(f,10)}function v(f,d,S){if(f[d])return new Error(`Invalid prop ${d} passed to ${S} - do not set this, set it on the child.`)}return L}var Y={},_e;function it(){if(_e)return Y;_e=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.browserPrefixToKey=c,Y.browserPrefixToStyle=u,Y.default=void 0,Y.getPrefix=g;const r=["Moz","Webkit","O","ms"];function g(){var S,y;let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const d=(y=(S=window.document)==null?void 0:S.documentElement)==null?void 0:y.style;if(!d||f in d)return"";for(let h=0;h<r.length;h++)if(c(f,r[h])in d)return r[h];return""}function c(f,d){return d?`${d}${v(f)}`:f}function u(f,d){return d?`-${d.toLowerCase()}-${f}`:f}function v(f){let d="",S=!0;for(let y=0;y<f.length;y++)S?(d+=f[y].toUpperCase(),S=!1):f[y]==="-"?S=!0:d+=f[y];return d}return Y.default=g(),Y}var Ce;function ve(){if(Ce)return W;Ce=1,Object.defineProperty(W,"__esModule",{value:!0}),W.addClassName=a,W.addEvent=d,W.addUserSelectStyles=e,W.createCSSTransform=O,W.createSVGTransform=P,W.getTouch=p,W.getTouchIdentifier=i,W.getTranslation=b,W.innerHeight=x,W.innerWidth=m,W.matchesSelector=v,W.matchesSelectorAndParentsTo=f,W.offsetXYFromParent=R,W.outerHeight=y,W.outerWidth=h,W.removeClassName=n,W.removeEvent=S,W.scheduleRemoveUserSelectStyles=o;var r=fe(),g=c(it());function c(t,l){if(typeof WeakMap=="function")var w=new WeakMap,D=new WeakMap;return(c=function(_,z){if(!z&&_&&_.__esModule)return _;var M,k,T={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return T;if(M=z?D:w){if(M.has(_))return M.get(_);M.set(_,T)}for(const N in _)N!=="default"&&{}.hasOwnProperty.call(_,N)&&((k=(M=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,N))&&(k.get||k.set)?M(T,N,k):T[N]=_[N]);return T})(t,l)}let u="";function v(t,l){return u||(u=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(w){return(0,r.isFunction)(t[w])})),(0,r.isFunction)(t[u])?t[u](l):!1}function f(t,l,w){let D=t;do{if(v(D,l))return!0;if(D===w)return!1;D=D.parentNode}while(D);return!1}function d(t,l,w,D){if(!t)return;const _={capture:!0,...D};t.addEventListener?t.addEventListener(l,w,_):t.attachEvent?t.attachEvent("on"+l,w):t["on"+l]=w}function S(t,l,w,D){if(!t)return;const _={capture:!0,...D};t.removeEventListener?t.removeEventListener(l,w,_):t.detachEvent?t.detachEvent("on"+l,w):t["on"+l]=null}function y(t){let l=t.clientHeight;const w=t.ownerDocument.defaultView.getComputedStyle(t);return l+=(0,r.int)(w.borderTopWidth),l+=(0,r.int)(w.borderBottomWidth),l}function h(t){let l=t.clientWidth;const w=t.ownerDocument.defaultView.getComputedStyle(t);return l+=(0,r.int)(w.borderLeftWidth),l+=(0,r.int)(w.borderRightWidth),l}function x(t){let l=t.clientHeight;const w=t.ownerDocument.defaultView.getComputedStyle(t);return l-=(0,r.int)(w.paddingTop),l-=(0,r.int)(w.paddingBottom),l}function m(t){let l=t.clientWidth;const w=t.ownerDocument.defaultView.getComputedStyle(t);return l-=(0,r.int)(w.paddingLeft),l-=(0,r.int)(w.paddingRight),l}function R(t,l,w){const _=l===l.ownerDocument.body?{left:0,top:0}:l.getBoundingClientRect(),z=(t.clientX+l.scrollLeft-_.left)/w,M=(t.clientY+l.scrollTop-_.top)/w;return{x:z,y:M}}function O(t,l){const w=b(t,l,"px");return{[(0,g.browserPrefixToKey)("transform",g.default)]:w}}function P(t,l){return b(t,l,"")}function b(t,l,w){let{x:D,y:_}=t,z=`translate(${D}${w},${_}${w})`;if(l){const M=`${typeof l.x=="string"?l.x:l.x+w}`,k=`${typeof l.y=="string"?l.y:l.y+w}`;z=`translate(${M}, ${k})`+z}return z}function p(t,l){return t.targetTouches&&(0,r.findInArray)(t.targetTouches,w=>l===w.identifier)||t.changedTouches&&(0,r.findInArray)(t.changedTouches,w=>l===w.identifier)}function i(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function e(t){if(!t)return;let l=t.getElementById("react-draggable-style-el");l||(l=t.createElement("style"),l.type="text/css",l.id="react-draggable-style-el",l.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,l.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(l)),t.body&&a(t.body,"react-draggable-transparent-selection")}function o(t){window.requestAnimationFrame?window.requestAnimationFrame(()=>{s(t)}):s(t)}function s(t){if(t)try{if(t.body&&n(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const l=(t.defaultView||window).getSelection();l&&l.type!=="Caret"&&l.removeAllRanges()}}catch{}}function a(t,l){t.classList?t.classList.add(l):t.className.match(new RegExp(`(?:^|\\s)${l}(?!\\S)`))||(t.className+=` ${l}`)}function n(t,l){t.classList?t.classList.remove(l):t.className=t.className.replace(new RegExp(`(?:^|\\s)${l}(?!\\S)`,"g"),"")}return W}var X={},Ee;function Ie(){if(Ee)return X;Ee=1,Object.defineProperty(X,"__esModule",{value:!0}),X.canDragX=v,X.canDragY=f,X.createCoreData=S,X.createDraggableData=y,X.getBoundPosition=c,X.getControlPosition=d,X.snapToGrid=u;var r=fe(),g=ve();function c(m,R,O){if(!m.props.bounds)return[R,O];let{bounds:P}=m.props;P=typeof P=="string"?P:h(P);const b=x(m);if(typeof P=="string"){const{ownerDocument:p}=b,i=p.defaultView;let e;if(P==="parent"?e=b.parentNode:e=b.getRootNode().querySelector(P),!(e instanceof i.HTMLElement))throw new Error('Bounds selector "'+P+'" could not find an element.');const o=e,s=i.getComputedStyle(b),a=i.getComputedStyle(o);P={left:-b.offsetLeft+(0,r.int)(a.paddingLeft)+(0,r.int)(s.marginLeft),top:-b.offsetTop+(0,r.int)(a.paddingTop)+(0,r.int)(s.marginTop),right:(0,g.innerWidth)(o)-(0,g.outerWidth)(b)-b.offsetLeft+(0,r.int)(a.paddingRight)-(0,r.int)(s.marginRight),bottom:(0,g.innerHeight)(o)-(0,g.outerHeight)(b)-b.offsetTop+(0,r.int)(a.paddingBottom)-(0,r.int)(s.marginBottom)}}return(0,r.isNum)(P.right)&&(R=Math.min(R,P.right)),(0,r.isNum)(P.bottom)&&(O=Math.min(O,P.bottom)),(0,r.isNum)(P.left)&&(R=Math.max(R,P.left)),(0,r.isNum)(P.top)&&(O=Math.max(O,P.top)),[R,O]}function u(m,R,O){const P=Math.round(R/m[0])*m[0],b=Math.round(O/m[1])*m[1];return[P,b]}function v(m){return m.props.axis==="both"||m.props.axis==="x"}function f(m){return m.props.axis==="both"||m.props.axis==="y"}function d(m,R,O){const P=typeof R=="number"?(0,g.getTouch)(m,R):null;if(typeof R=="number"&&!P)return null;const b=x(O),p=O.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,g.offsetXYFromParent)(P||m,p,O.props.scale)}function S(m,R,O){const P=!(0,r.isNum)(m.lastX),b=x(m);return P?{node:b,deltaX:0,deltaY:0,lastX:R,lastY:O,x:R,y:O}:{node:b,deltaX:R-m.lastX,deltaY:O-m.lastY,lastX:m.lastX,lastY:m.lastY,x:R,y:O}}function y(m,R){const O=m.props.scale;return{node:R.node,x:m.state.x+R.deltaX/O,y:m.state.y+R.deltaY/O,deltaX:R.deltaX/O,deltaY:R.deltaY/O,lastX:m.state.x,lastY:m.state.y}}function h(m){return{left:m.left,top:m.top,right:m.right,bottom:m.bottom}}function x(m){const R=m.findDOMNode();if(!R)throw new Error("<DraggableCore>: Unmounted during event!");return R}return X}var G={},oe={},Ne;function Ae(){if(Ne)return oe;Ne=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=r;function r(){}return oe}var ze;function lt(){if(ze)return G;ze=1,Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var r=y(te()),g=S(ce()),c=S(Xe()),u=ve(),v=Ie(),f=fe(),d=S(Ae());function S(b){return b&&b.__esModule?b:{default:b}}function y(b,p){if(typeof WeakMap=="function")var i=new WeakMap,e=new WeakMap;return(y=function(o,s){if(!s&&o&&o.__esModule)return o;var a,n,t={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return t;if(a=s?e:i){if(a.has(o))return a.get(o);a.set(o,t)}for(const l in o)l!=="default"&&{}.hasOwnProperty.call(o,l)&&((n=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,l))&&(n.get||n.set)?a(t,l,n):t[l]=o[l]);return t})(b,p)}function h(b,p,i){return(p=x(p))in b?Object.defineProperty(b,p,{value:i,enumerable:!0,configurable:!0,writable:!0}):b[p]=i,b}function x(b){var p=m(b,"string");return typeof p=="symbol"?p:p+""}function m(b,p){if(typeof b!="object"||!b)return b;var i=b[Symbol.toPrimitive];if(i!==void 0){var e=i.call(b,p);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(b)}const R={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let O=R.mouse,P=class extends r.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",p=>{if(this.props.onMouseDown(p),!this.props.allowAnyClick&&typeof p.button=="number"&&p.button!==0)return!1;const i=this.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:e}=i;if(this.props.disabled||!(p.target instanceof e.defaultView.Node)||this.props.handle&&!(0,u.matchesSelectorAndParentsTo)(p.target,this.props.handle,i)||this.props.cancel&&(0,u.matchesSelectorAndParentsTo)(p.target,this.props.cancel,i))return;p.type==="touchstart"&&!this.props.allowMobileScroll&&p.preventDefault();const o=(0,u.getTouchIdentifier)(p);this.touchIdentifier=o;const s=(0,v.getControlPosition)(p,o,this);if(s==null)return;const{x:a,y:n}=s,t=(0,v.createCoreData)(this,a,n);(0,d.default)("DraggableCore: handleDragStart: %j",t),(0,d.default)("calling",this.props.onStart),!(this.props.onStart(p,t)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(e),this.dragging=!0,this.lastX=a,this.lastY=n,(0,u.addEvent)(e,O.move,this.handleDrag),(0,u.addEvent)(e,O.stop,this.handleDragStop))}),h(this,"handleDrag",p=>{const i=(0,v.getControlPosition)(p,this.touchIdentifier,this);if(i==null)return;let{x:e,y:o}=i;if(Array.isArray(this.props.grid)){let n=e-this.lastX,t=o-this.lastY;if([n,t]=(0,v.snapToGrid)(this.props.grid,n,t),!n&&!t)return;e=this.lastX+n,o=this.lastY+t}const s=(0,v.createCoreData)(this,e,o);if((0,d.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(p,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}return}this.lastX=e,this.lastY=o}),h(this,"handleDragStop",p=>{if(!this.dragging)return;const i=(0,v.getControlPosition)(p,this.touchIdentifier,this);if(i==null)return;let{x:e,y:o}=i;if(Array.isArray(this.props.grid)){let t=e-this.lastX||0,l=o-this.lastY||0;[t,l]=(0,v.snapToGrid)(this.props.grid,t,l),e=this.lastX+t,o=this.lastY+l}const s=(0,v.createCoreData)(this,e,o);if(this.props.onStop(p,s)===!1||this.mounted===!1)return!1;const n=this.findDOMNode();n&&this.props.enableUserSelectHack&&(0,u.scheduleRemoveUserSelectStyles)(n.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,n&&((0,d.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(n.ownerDocument,O.move,this.handleDrag),(0,u.removeEvent)(n.ownerDocument,O.stop,this.handleDragStop))}),h(this,"onMouseDown",p=>(O=R.mouse,this.handleDragStart(p))),h(this,"onMouseUp",p=>(O=R.mouse,this.handleDragStop(p))),h(this,"onTouchStart",p=>(O=R.touch,this.handleDragStart(p))),h(this,"onTouchEnd",p=>(O=R.touch,this.handleDragStop(p)))}componentDidMount(){this.mounted=!0;const p=this.findDOMNode();p&&(0,u.addEvent)(p,R.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const p=this.findDOMNode();if(p){const{ownerDocument:i}=p;(0,u.removeEvent)(i,R.mouse.move,this.handleDrag),(0,u.removeEvent)(i,R.touch.move,this.handleDrag),(0,u.removeEvent)(i,R.mouse.stop,this.handleDragStop),(0,u.removeEvent)(i,R.touch.stop,this.handleDragStop),(0,u.removeEvent)(p,R.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.scheduleRemoveUserSelectStyles)(i)}}findDOMNode(){var p,i,e;return(p=this.props)!=null&&p.nodeRef?(e=(i=this.props)==null?void 0:i.nodeRef)==null?void 0:e.current:c.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return G.default=P,h(P,"displayName","DraggableCore"),h(P,"propTypes",{allowAnyClick:g.default.bool,allowMobileScroll:g.default.bool,children:g.default.node.isRequired,disabled:g.default.bool,enableUserSelectHack:g.default.bool,offsetParent:function(b,p){if(b[p]&&b[p].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:g.default.arrayOf(g.default.number),handle:g.default.string,cancel:g.default.string,nodeRef:g.default.object,onStart:g.default.func,onDrag:g.default.func,onStop:g.default.func,onMouseDown:g.default.func,scale:g.default.number,className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),h(P,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),G}var Te;function ut(){return Te||(Te=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return y.default}}),r.default=void 0;var g=m(te()),c=x(ce()),u=x(Xe()),v=st(),f=ve(),d=Ie(),S=fe(),y=x(lt()),h=x(Ae());function x(i){return i&&i.__esModule?i:{default:i}}function m(i,e){if(typeof WeakMap=="function")var o=new WeakMap,s=new WeakMap;return(m=function(a,n){if(!n&&a&&a.__esModule)return a;var t,l,w={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return w;if(t=n?s:o){if(t.has(a))return t.get(a);t.set(a,w)}for(const D in a)D!=="default"&&{}.hasOwnProperty.call(a,D)&&((l=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,D))&&(l.get||l.set)?t(w,D,l):w[D]=a[D]);return w})(i,e)}function R(){return R=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)({}).hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},R.apply(null,arguments)}function O(i,e,o){return(e=P(e))in i?Object.defineProperty(i,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[e]=o,i}function P(i){var e=b(i,"string");return typeof e=="symbol"?e:e+""}function b(i,e){if(typeof i!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var s=o.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}class p extends g.Component{static getDerivedStateFromProps(e,o){let{position:s}=e,{prevPropsPosition:a}=o;return s&&(!a||s.x!==a.x||s.y!==a.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:s,prevPropsPosition:a}),{x:s.x,y:s.y,prevPropsPosition:{...s}}):null}constructor(e){super(e),O(this,"onDragStart",(o,s)=>{if((0,h.default)("Draggable: onDragStart: %j",s),this.props.onStart(o,(0,d.createDraggableData)(this,s))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),O(this,"onDrag",(o,s)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",s);const a=(0,d.createDraggableData)(this,s),n={x:a.x,y:a.y,slackX:0,slackY:0};if(this.props.bounds){const{x:l,y:w}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;const[D,_]=(0,d.getBoundPosition)(this,n.x,n.y);n.x=D,n.y=_,n.slackX=this.state.slackX+(l-n.x),n.slackY=this.state.slackY+(w-n.y),a.x=n.x,a.y=n.y,a.deltaX=n.x-this.state.x,a.deltaY=n.y-this.state.y}if(this.props.onDrag(o,a)===!1)return!1;this.setState(n)}),O(this,"onDragStop",(o,s)=>{if(!this.state.dragging||this.props.onStop(o,(0,d.createDraggableData)(this,s))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",s);const n={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:l,y:w}=this.props.position;n.x=l,n.y=w}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var e,o;return((o=(e=this.props)==null?void 0:e.nodeRef)==null?void 0:o.current)??u.default.findDOMNode(this)}render(){const{axis:e,bounds:o,children:s,defaultPosition:a,defaultClassName:n,defaultClassNameDragging:t,defaultClassNameDragged:l,position:w,positionOffset:D,scale:_,...z}=this.props;let M={},k=null;const N=!!!w||this.state.dragging,j=w||a,q={x:(0,d.canDragX)(this)&&N?this.state.x:j.x,y:(0,d.canDragY)(this)&&N?this.state.y:j.y};this.state.isElementSVG?k=(0,f.createSVGTransform)(q,D):M=(0,f.createCSSTransform)(q,D);const H=(0,v.clsx)(s.props.className||"",n,{[t]:this.state.dragging,[l]:this.state.dragged});return g.createElement(y.default,R({},z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),g.cloneElement(g.Children.only(s),{className:H,style:{...s.props.style,...M},transform:k}))}}r.default=p,O(p,"displayName","Draggable"),O(p,"propTypes",{...y.default.propTypes,axis:c.default.oneOf(["both","x","y","none"]),bounds:c.default.oneOfType([c.default.shape({left:c.default.number,right:c.default.number,top:c.default.number,bottom:c.default.number}),c.default.string,c.default.oneOf([!1])]),defaultClassName:c.default.string,defaultClassNameDragging:c.default.string,defaultClassNameDragged:c.default.string,defaultPosition:c.default.shape({x:c.default.number,y:c.default.number}),positionOffset:c.default.shape({x:c.default.oneOfType([c.default.number,c.default.string]),y:c.default.oneOfType([c.default.number,c.default.string])}),position:c.default.shape({x:c.default.number,y:c.default.number}),className:S.dontSetMe,style:S.dontSetMe,transform:S.dontSetMe}),O(p,"defaultProps",{...y.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(pe)),pe}var je;function Ue(){if(je)return V.exports;je=1;const{default:r,DraggableCore:g}=ut();return V.exports=r,V.exports.default=r,V.exports.DraggableCore=g,V.exports}var ae={},Me;function ct(){if(Me)return ae;Me=1,ae.__esModule=!0,ae.cloneElement=S;var r=g(te());function g(y){return y&&y.__esModule?y:{default:y}}function c(y,h){var x=Object.keys(y);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(y);h&&(m=m.filter(function(R){return Object.getOwnPropertyDescriptor(y,R).enumerable})),x.push.apply(x,m)}return x}function u(y){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{};h%2?c(Object(x),!0).forEach(function(m){v(y,m,x[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(x)):c(Object(x)).forEach(function(m){Object.defineProperty(y,m,Object.getOwnPropertyDescriptor(x,m))})}return y}function v(y,h,x){return h=f(h),h in y?Object.defineProperty(y,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[h]=x,y}function f(y){var h=d(y,"string");return typeof h=="symbol"?h:String(h)}function d(y,h){if(typeof y!="object"||y===null)return y;var x=y[Symbol.toPrimitive];if(x!==void 0){var m=x.call(y,h);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(y)}function S(y,h){return h.style&&y.props.style&&(h.style=u(u({},y.props.style),h.style)),h.className&&y.props.className&&(h.className=y.props.className+" "+h.className),r.default.cloneElement(y,h)}return ae}var J={},ke;function Be(){if(ke)return J;ke=1,J.__esModule=!0,J.resizableProps=void 0;var r=g(ce());Ue();function g(u){return u&&u.__esModule?u:{default:u}}var c={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var v=arguments.length,f=new Array(v),d=0;d<v;d++)f[d]=arguments[d];var S=f[0];if(S.axis==="both"||S.axis==="y"){var y;return(y=r.default.number).isRequired.apply(y,f)}return r.default.number.apply(r.default,f)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var v=arguments.length,f=new Array(v),d=0;d<v;d++)f[d]=arguments[d];var S=f[0];if(S.axis==="both"||S.axis==="x"){var y;return(y=r.default.number).isRequired.apply(y,f)}return r.default.number.apply(r.default,f)}};return J.resizableProps=c,J}var We;function $e(){if(We)return $;We=1,$.__esModule=!0,$.default=void 0;var r=d(te()),g=Ue(),c=ct(),u=Be(),v=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function f(i){if(typeof WeakMap!="function")return null;var e=new WeakMap,o=new WeakMap;return(f=function(a){return a?o:e})(i)}function d(i,e){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var o=f(e);if(o&&o.has(i))return o.get(i);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in i)if(n!=="default"&&Object.prototype.hasOwnProperty.call(i,n)){var t=a?Object.getOwnPropertyDescriptor(i,n):null;t&&(t.get||t.set)?Object.defineProperty(s,n,t):s[n]=i[n]}return s.default=i,o&&o.set(i,s),s}function S(){return S=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},S.apply(this,arguments)}function y(i,e){if(i==null)return{};var o={},s=Object.keys(i),a,n;for(n=0;n<s.length;n++)a=s[n],!(e.indexOf(a)>=0)&&(o[a]=i[a]);return o}function h(i,e){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),o.push.apply(o,s)}return o}function x(i){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?h(Object(o),!0).forEach(function(s){m(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}function m(i,e,o){return e=R(e),e in i?Object.defineProperty(i,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[e]=o,i}function R(i){var e=O(i,"string");return typeof e=="symbol"?e:String(e)}function O(i,e){if(typeof i!="object"||i===null)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var s=o.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function P(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,b(i,e)}function b(i,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},b(i,e)}var p=(function(i){P(e,i);function e(){for(var s,a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];return s=i.call.apply(i,[this].concat(n))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var o=e.prototype;return o.componentWillUnmount=function(){this.resetData()},o.resetData=function(){this.lastHandleRect=this.slack=null},o.runConstraints=function(a,n){var t=this.props,l=t.minConstraints,w=t.maxConstraints,D=t.lockAspectRatio;if(!l&&!w&&!D)return[a,n];if(D){var _=this.props.width/this.props.height,z=a-this.props.width,M=n-this.props.height;Math.abs(z)>Math.abs(M*_)?n=a/_:a=n*_}var k=a,T=n,N=this.slack||[0,0],j=N[0],q=N[1];return a+=j,n+=q,l&&(a=Math.max(l[0],a),n=Math.max(l[1],n)),w&&(a=Math.min(w[0],a),n=Math.min(w[1],n)),this.slack=[j+(k-a),q+(T-n)],[a,n]},o.resizeHandler=function(a,n){var t=this;return function(l,w){var D=w.node,_=w.deltaX,z=w.deltaY;a==="onResizeStart"&&t.resetData();var M=(t.props.axis==="both"||t.props.axis==="x")&&n!=="n"&&n!=="s",k=(t.props.axis==="both"||t.props.axis==="y")&&n!=="e"&&n!=="w";if(!(!M&&!k)){var T=n[0],N=n[n.length-1],j=D.getBoundingClientRect();if(t.lastHandleRect!=null){if(N==="w"){var q=j.left-t.lastHandleRect.left;_+=q}if(T==="n"){var H=j.top-t.lastHandleRect.top;z+=H}}t.lastHandleRect=j,N==="w"&&(_=-_),T==="n"&&(z=-z);var F=t.props.width+(M?_/t.props.transformScale:0),I=t.props.height+(k?z/t.props.transformScale:0),A=t.runConstraints(F,I);F=A[0],I=A[1];var de=F!==t.props.width||I!==t.props.height,U=typeof t.props[a]=="function"?t.props[a]:null,Ve=a==="onResize"&&!de;U&&!Ve&&(l.persist==null||l.persist(),U(l,{node:D,size:{width:F,height:I},handle:n})),a==="onResizeStop"&&t.resetData()}}},o.renderResizeHandle=function(a,n){var t=this.props.handle;if(!t)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:n});if(typeof t=="function")return t(a,n);var l=typeof t.type=="string",w=x({ref:n},l?{}:{handleAxis:a});return r.cloneElement(t,w)},o.render=function(){var a=this,n=this.props,t=n.children,l=n.className,w=n.draggableOpts;n.width,n.height,n.handle,n.handleSize,n.lockAspectRatio,n.axis,n.minConstraints,n.maxConstraints,n.onResize,n.onResizeStop,n.onResizeStart;var D=n.resizeHandles;n.transformScale;var _=y(n,v);return(0,c.cloneElement)(t,x(x({},_),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(t.props.children,D.map(function(z){var M,k=(M=a.handleRefs[z])!=null?M:a.handleRefs[z]=r.createRef();return r.createElement(g.DraggableCore,S({},w,{nodeRef:k,key:"resizableHandle-"+z,onStop:a.resizeHandler("onResizeStop",z),onStart:a.resizeHandler("onResizeStart",z),onDrag:a.resizeHandler("onResize",z)}),a.renderResizeHandle(z,k))}))}))},e})(r.Component);return $.default=p,p.propTypes=u.resizableProps,p.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},$}var Q={},qe;function ft(){if(qe)return Q;qe=1,Q.__esModule=!0,Q.default=void 0;var r=S(te()),g=f(ce()),c=f($e()),u=Be(),v=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(d=function(n){return n?s:o})(e)}function S(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var s=d(o);if(s&&s.has(e))return s.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if(t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)){var l=n?Object.getOwnPropertyDescriptor(e,t):null;l&&(l.get||l.set)?Object.defineProperty(a,t,l):a[t]=e[t]}return a.default=e,s&&s.set(e,a),a}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y.apply(this,arguments)}function h(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function x(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?h(Object(s),!0).forEach(function(a){m(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function m(e,o,s){return o=R(o),o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}function R(e){var o=O(e,"string");return typeof o=="symbol"?o:String(o)}function O(e,o){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,o);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function P(e,o){if(e==null)return{};var s={},a=Object.keys(e),n,t;for(t=0;t<a.length;t++)n=a[t],!(o.indexOf(n)>=0)&&(s[n]=e[n]);return s}function b(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,p(e,o)}function p(e,o){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},p(e,o)}var i=(function(e){b(o,e);function o(){for(var a,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return a=e.call.apply(e,[this].concat(t))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(w,D){var _=D.size;a.props.onResize?(w.persist==null||w.persist(),a.setState(_,function(){return a.props.onResize&&a.props.onResize(w,D)})):a.setState(_)},a}o.getDerivedStateFromProps=function(n,t){return t.propsWidth!==n.width||t.propsHeight!==n.height?{width:n.width,height:n.height,propsWidth:n.width,propsHeight:n.height}:null};var s=o.prototype;return s.render=function(){var n=this.props,t=n.handle,l=n.handleSize;n.onResize;var w=n.onResizeStart,D=n.onResizeStop,_=n.draggableOpts,z=n.minConstraints,M=n.maxConstraints,k=n.lockAspectRatio,T=n.axis;n.width,n.height;var N=n.resizeHandles,j=n.style,q=n.transformScale,H=P(n,v);return r.createElement(c.default,{axis:T,draggableOpts:_,handle:t,handleSize:l,height:this.state.height,lockAspectRatio:k,maxConstraints:M,minConstraints:z,onResizeStart:w,onResize:this.onResize,onResizeStop:D,resizeHandles:N,transformScale:q,width:this.state.width},r.createElement("div",y({},H,{style:x(x({},j),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o})(r.Component);return Q.default=i,i.propTypes=x(x({},u.resizableProps),{},{children:g.default.element}),Q}var He;function dt(){return He||(He=1,B.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},B.exports.Resizable=$e().default,B.exports.ResizableBox=ft().default),B.exports}var pt=dt();function ht(r){return typeof r=="object"&&r!=null}function mt(r,g){return typeof r=="function"?r(g):r}function Fe(r,g){if(r==null)return;const c=mt(r,g);if(c!=null)return[c,0]}const le={key(r){return`${r}_resize`},get(r){try{const g=window.localStorage.getItem(le.key(r))??"{}",c=JSON.parse(g);return ht(c)?(Object.entries(c).forEach(([u,v])=>{Number.isFinite(v)||delete c[u]}),c):{}}catch{return{}}},set(r,g){window.localStorage.setItem(le.key(r),JSON.stringify(g))}};function gt(r,g){const{storageKey:c,min:u,max:v,usePlaceholderWhenWidthLTContainerWidth:f=!0}=g??{},{columns:d,instance:S,headerWrapperRef:y}=r,[h,x]=E.useState(()=>c==null?{}:le.get(c)),m=E.useCallback((P,b)=>{x(p=>{const i={...p,[`${P}`]:b};return c!=null&&le.set(c,i),i})},[c]),R=E.useCallback((P,b)=>{const{column:p}=b;if(p.disableResize)return P;const i=se(p),e=Ge(p,S.getCurrentProps().defaultColumnWidth);return C.jsx(pt.Resizable,{width:e,axis:"x",minConstraints:Fe(p.minWidth??u,p),maxConstraints:Fe(p.maxWidth??v,p),handle:C.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(o,{size:s})=>{m(i,s.width)},children:P})},[m,S,v,u]),O=E.useMemo(()=>{var i;let P=d.reduce((e,o)=>{const s=se(o).toString(),a=h[s]||(o.width??0)||0;return e+=a,e},0);const b=(i=y.current)==null?void 0:i.getBoundingClientRect();let p=d;if(f&&(b==null?void 0:b.width)!=null&&P<b.width){const e=d.findIndex(s=>Z(s.fixed)),o={key:"__placeholder__",dataIndex:"__placeholder__",disableResize:!0,width:b.width-P};e===-1?p=[...d,o]:p=[...d.slice(0,e),o,...d.slice(e)]}return p.map(e=>{const o=se(e).toString(),s=h[o];return s!=null&&s!==e.width&&e.key!=="__placeholder__"?{...e,width:s}:e})},[h,d,y,f]);return{...r,columns:O,renderHeaderCell:R}}const qt=re(gt),yt=r=>{const{colSpan:g,children:c}=r,{tableWidth:u}=Le();return C.jsx("tr",{children:C.jsx("td",{colSpan:g,style:{padding:0},children:C.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:u<=0?void 0:u},children:c})})})};function vt(r,g){const{children:c,visible:u=!0}=g,{dataSource:v}=r,d=(Array.isArray(v)?v.length===0:!0)&&u,S=E.useMemo(()=>typeof c=="function"?E.createElement(c):c,[c]),y=E.useCallback((h,x)=>{const{columnDescriptor:m}=x;return C.jsxs(C.Fragment,{children:[h,C.jsx(yt,{colSpan:m.length,children:S},"virtual-table-placeholder$")]})},[S]);return d?{...r,renderBodyContent:y}:r}const Ht=re(vt),bt="ExpandRow",St=r=>{const{className:g,style:c,rowKey:u,isExpanded:v,colSpan:f,children:d,fixed:S}=r,{setRowHeightByRowKey:y}=Ye(),{tableWidth:h}=Le();return C.jsx("tr",{className:K("virtual-table-expanded-row",g),style:{...c,display:v?void 0:"none"},ref:x=>{x!=null&&y(u,bt,x.offsetHeight)},children:C.jsx("td",{colSpan:f,children:C.jsx("div",{className:K("virtual-table-cell",S&&"virtual-table-expanded-row-fixed"),style:{width:h<=0?void 0:h},children:d})})})},wt="VirtualTable.EXPANSION_COLUMN";function xt(r,g){const c=g==null,{rowKey:u,columns:v,dataSource:f}=r,{defaultExpandedRowKeys:d,expandedRowRender:S,columnTitle:y,expandRowByClick:h=!1,expandIcon:x,onExpand:m,defaultExpandAllRows:R=!1,showExpandColumn:O=!0,expandedRowClassName:P,rowExpandable:b,columnWidth:p=50,fixed:i,extraColumnProps:e}=g??{},o=E.useMemo(()=>f.map(T=>b?b(T):!1),[f,b]),s=Se(()=>o),a=E.useRef("expandedRowKeys"in(g??{})||"defaultExpandedRowKeys"in(g??{})?!1:R),n=Se(()=>a.current?f.map((N,j)=>s[j]?N[u]:null).filter(N=>N!=null):[]),t=E.useRef(new Set(d??n)),[l,w]=nt(g??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:d??n}),D=Je((T,N)=>{const j=we(T,u);t.current.add(j),N==null?l.includes(j)?(w(l.filter(q=>q!==j)),m==null||m(!1,T)):(w([...l,j]),m==null||m(!0,T)):N?(w([...l,j]),m==null||m(!0,T)):(w(l.filter(q=>q!==j)),m==null||m(!1,T))}),_=ye(i),z=E.useCallback((T,N)=>{const{rowData:j,rowIndex:q,rowKey:H,columnDescriptor:F}=N;if(s[q]){const A=l.includes(H),de=t.current.has(H);let U="";return typeof P=="string"?U=P:typeof P=="function"&&(U=P(j,q,0)),C.jsxs(C.Fragment,{children:[T,de&&C.jsx(St,{className:U,rowKey:H,isExpanded:A,colSpan:F.length,fixed:_,children:S==null?void 0:S(j,q,0,A)})]})}return T},[_,s,l,P,S]),M=E.useMemo(()=>O?[{...e,key:wt,title:y,width:p,fixed:i,render(T,N,j){const q=we(N,u),H=s[j]??!1,F=l.includes(q);return typeof x=="function"?x({expandable:H,expanded:F,record:N,prefixCls:"virtual-table",onExpand:(I,A)=>{D(I)}}):H?C.jsx("button",{className:K("virtual-table-row-expand-icon",F?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":F?"关闭行":"展开行","aria-expanded":F,onClick:()=>{D(N,!F)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...v]:v,[O,y,p,i,v,u,s,l,x,D,e]),k=E.useCallback((T,N)=>s[N]?{onClick:j=>{j.stopPropagation(),D(T)}}:{},[s,D]);return c?r:{...r,columns:M,renderRow:z,onRow:h?k:void 0}}const Ft=re(xt);function Rt(r){const{column:g,className:c}=r,{align:u,fixed:v}=g,f=se(g),{size:d}=Ke();return C.jsx("td",{className:K("virtual-table-cell",c,u!=null&&`virtual-table-align-${u}`,ye(v)&&"virtual-table-sticky-cell"),style:{left:ie(v)?d.get(f):void 0,right:Z(v)?d.get(f):void 0},children:C.jsx("div",{className:"virtual-table-loading-skeleton"})})}const Pt=E.memo(Rt);function Ot(r){const{descriptor:g,style:c,rowKey:u}=r,{setRowHeightByRowKey:v}=Ye(),f=Qe(g,S=>S.type==="blank"?!1:ie(S.column.fixed)),d=g.findIndex(S=>S.type==="blank"?!1:Z(S.column.fixed));return C.jsx("tr",{className:"virtual-table-row virtual-table-loading-cell",style:c,ref:S=>{S!=null&&v(u,"loading-tr",S.offsetHeight)},children:g.map((S,y)=>{const{key:h}=S;if(S.type==="blank")return C.jsx("td",{},h);const{column:x}=S;return C.jsx(Pt,{className:K(f===y&&"virtual-table-cell-fix-left-last",d===y&&"virtual-table-cell-fix-right-first"),column:x},h)})})}const Dt=E.memo(Ot);function _t(r,g){const{loading:c=!1}=g??{},{estimatedRowHeight:u,headerWrapperRef:v,getScroller:f}=r,[d,S]=E.useState(10);E.useEffect(()=>{const h=v.current,x=f();if(x!=null)return Ze(x,({height:m})=>{const R=(h==null?void 0:h.offsetHeight)??0;S(Math.ceil((m-R)/u))})},[f,v,u]);const y=E.useMemo(()=>Array.from({length:d},(h,x)=>({key:x})),[d]);return c?{...r,renderBodyRoot:h=>{if(E.isValidElement(h)&&Object.prototype.hasOwnProperty.call(h.props,"style")){const x=h.props.style;return E.cloneElement(h,{style:{...x,paddingBottom:void 0,paddingTop:void 0}})}return h},renderBodyContent:(h,{columnDescriptor:x,startRowIndex:m})=>y.map((R,O)=>C.jsx(Dt,{style:{height:u},descriptor:x,rowKey:`__loading$-${O+m}`},R.key))}:r}const Xt=re(_t),ue=E.createContext(null),Ct=r=>{const{className:g,style:c,zIndex:u,bottom:v,columns:f,fixed:d,children:S,defaultColumnWidth:y}=r,[h]=E.useState(()=>et().height),x=tt("virtual-table-summary");return C.jsx("div",{className:K("virtual-table-summary-wrapper",d&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border",g),style:{...d?{"--virtual-table-summary-z-index":u,"--virtual-table-summary-sticky-bottom":Number.isFinite(v)?`${v}px`:v}:{},...c,paddingBottom:h},ref:x,children:C.jsxs("table",{className:"virtual-table-summary",children:[C.jsx(rt,{columns:f,defaultColumnWidth:y}),C.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:S})]})})};function Et(r){var P;const{className:g,style:c,children:u,align:v,colSpan:f,columnKey:d,...S}=r,{size:y,fixed:h}=Ke(),x=d==null?0:y.get(d),m=(P=h.find(b=>b.key===d))==null?void 0:P.fixed,{left:R,right:O}=E.useMemo(()=>{var i;const b=h.reduce((e,o)=>ie(o.fixed)?o.key:e,void 0),p=(i=h.find(e=>Z(e.fixed)))==null?void 0:i.key;return{left:b,right:p}},[h]);return f===0?null:C.jsx("td",{...S,colSpan:f,className:K("virtual-table-cell virtual-table-summary-cell",v!=null&&`virtual-table-align-${v}`,ye(m)&&"virtual-table-sticky-cell",R===d&&"virtual-table-cell-fix-left-last",O===d&&"virtual-table-cell-fix-right-first",g),style:{...c,left:ie(m)?x:void 0,right:Z(m)?x:void 0},children:u})}const be=E.memo(Et);function Nt(r){const{dataSource:g,...c}=r,u=E.useContext(ue);if(u==null)throw new Error("SummaryOutlet is missing the columns context and cannot use children as a function.");return C.jsx("tr",{...c,children:u.map(v=>{const{key:f}=v;if(v.type==="blank")return C.jsx("td",{},f);const{column:d}=v,{render:S,...y}=d.summary??{};return E.createElement(be,{...y,key:f,columnKey:f},S==null?void 0:S(g))})})}const zt=({children:r,...g})=>{const c=E.useContext(ue);if(typeof r=="function"){if(c!=null)return C.jsx("tr",{...g,children:c.map(u=>{const{key:v}=u;if(u.type==="blank")return C.jsx("td",{},v);const{column:f}=u;let d=r(f,v);return E.isValidElement(d)&&d.type===be&&(d=E.cloneElement(d,{columnKey:v})),C.jsx(E.Fragment,{children:d},v)})});throw new Error("SummaryRow is missing the columns context and cannot use children as a function.")}return C.jsx("tr",{...g,children:r})};function ee({children:r}){return r}ee.Row=zt;ee.Cell=be;ee.Outlet=Nt;function Tt(r,g){const{className:c,style:u,zIndex:v,bottom:f,summary:d}=g??{},{dataSource:S,instance:y}=r;let h=!1,x=!1;const m=d==null?void 0:d(S),R=[],O=[],P=b=>{const p=b.props.fixed;p==="top"?(h=!0,R.push(b)):((p==="bottom"||p===!0)&&(x=!0),O.push(b))};if(d==null)return r;if(E.isValidElement(m))if(m.type===E.Fragment){const b=m.props.children;E.Children.forEach(b,p=>{E.isValidElement(p)&&p.type===ee&&P(p)})}else m.type===ee&&P(m);else return r;return{...r,...h?{renderHeader:(b,{columnDescriptor:p})=>C.jsxs(C.Fragment,{children:[b,C.jsx("tfoot",{className:K("virtual-table-summary-tfoot",c),style:u,children:C.jsx(ue.Provider,{value:p,children:R})})]})}:{},...x?{renderContent(b,{columnDescriptor:p}){const{defaultColumnWidth:i}=y.getCurrentProps();return C.jsxs(C.Fragment,{children:[b,C.jsx(Ct,{className:c,style:u,zIndex:v,bottom:f,fixed:x,columns:p,defaultColumnWidth:i,children:C.jsx(ue.Provider,{value:p,children:O})})]})}}:{}}}const Lt=re(Tt);export{ee as S,Lt as a,Xt as b,qt as c,Ht as d,Ft as t};
