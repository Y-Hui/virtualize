var mn=Object.defineProperty;var gn=(e,t,n)=>t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ue=(e,t,n)=>gn(e,typeof t!="symbol"?t+"":t,n);import{r as c,j as b,g as yn,a as Nt}from"./index-8V3bJXfn.js";function _t(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=_t(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function F(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=_t(e))&&(r&&(r+=" "),r+=t);return r}const Tt=c.createContext(null);function rt(){const e=c.useContext(Tt);if(e==null)throw new Error("useTableSticky 脱离上下文调用");return e}function G(e,t,n){return typeof t=="function"?t(e,n):e}function ne(e){return e==="left"}function re(e){return e==="right"}function $e(e){return ne(e)||re(e)}function bn(e,t,n){const{render:r}=n,o=t;if("dataIndex"in n){const s=n.dataIndex;return typeof r!="function"?o[s]:r(o[s],t,e)}return(r==null?void 0:r(t,t,e))??null}function vn(e){const{className:t,style:n,column:r,rowData:o,rowIndex:s,columnIndex:a,renderCell:i,...u}=e,{align:f,fixed:d,onCell:l}=r,{size:y}=rt(),{className:p,style:m,colSpan:w,rowSpan:x,...C}=(l==null?void 0:l(o,s))??{};return w===0||x===0?null:G(b.jsx("td",{...u,...C,colSpan:w,rowSpan:x,className:F("virtual-table-cell",f!=null&&`virtual-table-align-${f}`,$e(d)&&"virtual-table-sticky-cell",t,r.className,p),style:{...n,...m,left:ne(d)?y[a]:void 0,right:re(d)?y[a]:void 0},children:bn(s,o,r)}),i,{column:r,columnIndex:a})}const wn=c.memo(vn),Mt=e=>{const{columns:t,colRef:n}=e;return b.jsx("colgroup",{children:t.map((r,o)=>{const s="key"in r?r.key:r.dataIndex;return b.jsx("col",{ref:typeof n=="function"?a=>{n(a,o)}:n,style:{width:r.width,minWidth:r.minWidth}},typeof s=="symbol"?o:s)})})},Ht=c.createContext(null);function zt(){const e=c.useContext(Ht);if(e==null)throw new Error("useContainerSize 脱离上下文调用");return e}function yt(e,t){return e[t]}const jt=c.createContext(null);function Sn(e){const{children:t}=e,[n,r]=c.useState({}),o=c.useMemo(()=>({getElements(){return Object.values(n)},addShouldSyncElement(s,a){return r(i=>i[s]===a?i:{...i,[s]:a}),()=>{r(i=>{if(yt(i,s)!=null){const u={...i};return delete u[s],u}return i})}},removeShouldSyncElement(s){r(a=>{if(yt(a,s)!=null){const i={...a};return delete i[s],i}return a})}}),[n]);return c.useLayoutEffect(()=>{const s=Object.values(n),a=new Set,i=(f,d)=>{s.forEach(l=>{l!==f&&(a.add(l),l.scrollLeft=d)})},u=f=>{const d=f.target;if(a.has(d)){a.delete(d);return}const l=()=>{const{scrollLeft:p}=d;i(d,p)},y=window.requestAnimationFrame;y!=null?y(l):l()};return s.forEach(f=>{f.addEventListener("scroll",u)}),()=>{s.forEach(f=>{f.removeEventListener("scroll",u)})}},[n]),b.jsx(jt.Provider,{value:o,children:t})}function Te(){const e=c.useContext(jt);if(e==null)throw new Error("useHorizontalScrollContext 脱离上下文调用");return e}const Wt=c.createContext(null);function kt(){const e=c.useContext(Wt);if(e==null)throw new Error("useTableShared 脱离上下文调用");return e}function bt(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(let s=0;s<o;s+=1){const a=n[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function We(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=e.length;if(t.length!==n)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}function Lt(e,t){return Object.is(e,t)?!0:Array.isArray(e)&&Array.isArray(t)?We(e,t)?!0:e.length===t.length&&e.findIndex(r=>typeof r=="object"&&r!=null)>-1?e.every((r,o)=>Array.isArray(r)?We(r,t[o]):typeof r=="object"&&r!=null?bt(r,t[o]):Object.is(r,t[o])):!1:typeof e=="object"&&e!=null?bt(e,t):!1}function Se(e){const t=e(),n=c.useRef(t);return Lt(t,n.current)||(n.current=t),n.current}const It=c.createContext(null);function xn(e){const{columns:t,children:n}=e,[r,o]=c.useState([]),s=c.useRef([]),a=l=>{const y=l.slice();We(s.current,y)||(s.current=y,o(y))},i=Se(()=>t.map(l=>l.fixed)),u=Se(()=>{let l=0;const y=i.reduce((w,x,C)=>(ne(x)&&(w[C]=l,l+=r[C]??0),w),[]);let p=0;const m=i.reduceRight((w,x,C)=>(re(x)&&(w[C]=p,p+=r[C]??0),w),[]);return i.map((w,x)=>ne(w)?y[x]:re(w)?m[x]:0)}),f=c.useMemo(()=>({size:u,fixed:i}),[i,u]),d=c.useMemo(()=>({widthList:r,setWidthList:a}),[r]);return b.jsx(It.Provider,{value:d,children:b.jsx(Tt.Provider,{value:f,children:n})})}function Rn(){const e=c.useContext(It);if(e==null)throw new Error("useTableColumns 脱离上下文调用");return e}function ot(e){const t=c.useRef(null);return c.useLayoutEffect(()=>{t.current=e},[e]),c.useCallback((...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}function ge(e){const t={current:null,options:null};return(...n)=>{const r=o=>e(o,...n);return Lt(n,t.options)?t.current??r:(t.options=n,t.current=r,r)}}function Cn(e){return Array.isArray(e)?e.filter(t=>t!=null&&(typeof t=="function"||typeof t.hook=="function")).map(t=>typeof t=="function"?{priority:100,hook:t}:t):[]}const Ie=class Ie{constructor(){Ue(this,"hooks",[]);this.use=this.use.bind(this)}setHooks(t){this.hooks=t}use(t){if(this.hooks.length===0)return t;const n={current:t},r={render:[],renderRoot:[],renderContent:[],renderHeaderWrapper:[],renderHeaderRoot:[],renderHeader:[],renderHeaderRow:[],renderHeaderCell:[],renderBodyWrapper:[],renderBodyRoot:[],renderBody:[],renderRow:[],renderCell:[]},o=[],s=[],a=this.hooks.slice();return a.sort((i,u)=>i.priority-u.priority),a.map(i=>i.hook).forEach(i=>{const u=i(n.current),{render:f,renderRoot:d,renderContent:l,renderHeaderWrapper:y,renderHeaderRoot:p,renderHeader:m,renderHeaderRow:w,renderHeaderCell:x,renderBodyWrapper:C,renderBodyRoot:v,renderBody:h,renderRow:S,renderCell:g,rowClassName:O,onRow:R,...D}=u;Object.entries(r).forEach(([k,_])=>{const W=u[k];typeof W=="function"&&_.push(W)}),typeof O=="function"&&o.push(O),typeof R=="function"&&s.push(R),n.current=D}),Object.entries(r).forEach(([i,u])=>{u.length>0&&(n.current[i]=(f,d)=>u.reduce((l,y)=>y(l,d),f))}),o.length>0&&(n.current.rowClassName=(i,u)=>F(...o.map(f=>f(i,u)))),s.length>0&&(n.current.onRow=(i,u)=>s.reduce((f,d)=>({...f,...d(i,u)}),{})),n.current}};Ue(Ie,"defaultPipeline",new Ie);let _e=Ie;function Eo(e){const{use:t,pipeline:n}=e,r=c.useMemo(()=>({current:new _e}),[]);if(t!=null){const o=Cn([...t,...(n==null?void 0:n.hooks)??[]]);if(!We(r.current.hooks,o)){const s=new _e;return s.setHooks(o),r.current=s,s}}return r.current}function st(e,t){let n=-1;for(let r=0;r<e.length;r+=1)t(e[r],r)&&(n=r);return n}function On(e){const{className:t,rowIndex:n,rowData:r,columns:o,onRow:s,renderRow:a,renderCell:i,...u}=e,{updateRowHeight:f}=kt(),d=st(o,m=>ne(m.fixed)),l=o.findIndex(m=>re(m.fixed)),{className:y,...p}=(s==null?void 0:s(r,n))??{};return G(b.jsx("tr",{...u,...p,className:F("virtual-table-row",t,y),ref:m=>{m!=null&&f(n,m.offsetHeight)},children:o.map((m,w)=>{const x="key"in m?m.key:m.dataIndex;return b.jsx(wn,{className:F(d===w&&"virtual-table-cell-fix-left-last",l===w&&"virtual-table-cell-fix-right-first"),column:m,rowIndex:n,rowData:r,columnIndex:w,renderCell:i},typeof x=="symbol"?w:x)})}),a,{columns:o,rowIndex:n,rowData:r})}const Pn=c.memo(On),En=/auto|scroll|overlay|hidden/;function $t(e){return e instanceof Node?e.nodeType===1:!1}function Dn(e,t=window){let n=e;for(;n!==t&&$t(n);){if(n===document.body)return t;const{overflow:r,overflowY:o,overflowX:s}=window.getComputedStyle(n);if(En.test(r+o+s))return n;n=n.parentNode}return e.ownerDocument.defaultView??window}function Ft(e){return Object.prototype.toString.call(e)==="[object Window]"}function Nn(e){return Object.prototype.toString.call(e)==="[object HTMLDocument]"}function _n(e){return Object.prototype.toString.call(e)==="[object HTMLHtmlElement]"}function vt(e){return Nn(e)?e.scrollingElement:$t(e)?e:document.scrollingElement}function Tn(e,t){typeof e=="function"?e(t):typeof e=="object"&&e&&"current"in e&&(e.current=t)}function xe(...e){const t=e.filter(Boolean);return t.length<=1?t[0]:n=>{e.forEach(r=>{Tn(r,n)})}}function Mn(e){const{wrapperRef:t,tableRef:n,className:r,style:o,dataSource:s,columns:a,rowKey:i,startIndex:u,rowClassName:f,onRow:d,renderBodyWrapper:l,renderBodyRoot:y,renderBody:p,renderRow:m,renderCell:w}=e,{addShouldSyncElement:x}=Te(),C=G(b.jsx("tbody",{children:s==null?void 0:s.map((h,S)=>{const g=h[i];return b.jsx(Pn,{className:F(f==null?void 0:f(h,S)),rowIndex:S+u,rowData:h,columns:a,onRow:d,renderRow:m,renderCell:w},g)})}),p,{columns:a}),v=G(b.jsxs("table",{className:F(r,"virtual-table-body"),style:o,ref:n,children:[b.jsx(Mt,{columns:a}),C]}),y,{columns:a});return G(b.jsx("div",{ref:xe(t,h=>{h!=null&&x("virtual-table-body",h)}),className:"virtual-table-body-wrapper",children:v}),l,{columns:a})}const Hn=e=>{const{className:t,style:n,wrapperRef:r,columns:o,stickyHeader:s,renderHeaderWrapper:a,renderHeaderRoot:i,renderHeader:u,renderHeaderRow:f,renderHeaderCell:d}=e,{widthList:l,setWidthList:y}=Rn(),{size:p}=rt(),m=c.useRef([]);c.useLayoutEffect(()=>{y(m.current)});const w=st(o,g=>ne(g.fixed)),x=o.findIndex(g=>re(g.fixed)),{addShouldSyncElement:C}=Te(),v=G(b.jsx("tr",{children:o.map((g,O)=>{var W;if(g.colSpan===0)return null;const R="key"in g?g.key:g.dataIndex,{className:D,style:k,..._}=((W=g.onHeaderCell)==null?void 0:W.call(g,g,O))??{};return b.jsx(c.Fragment,{children:G(c.createElement("th",{scope:"col",..._,colSpan:g.colSpan,className:F("virtual-table-header-cell",g.align!=null&&`virtual-table-align-${g.align}`,$e(g.fixed)&&"virtual-table-sticky-cell",w===O&&"virtual-table-cell-fix-left-last",x===O&&"virtual-table-cell-fix-right-first",g.className,D),style:{...k,left:ne(g.fixed)?p[O]:void 0,right:re(g.fixed)?p[O]:void 0}},g.title),d,{column:g,columns:o,columnIndex:O,columnWidthList:l})},typeof R=="symbol"?O:R)})}),f,{columns:o}),h=G(b.jsx("thead",{className:"virtual-table-thead",children:v}),u,{columns:o}),S=G(b.jsxs("table",{style:{...n,top:Number.isFinite(s)?s:void 0},children:[b.jsx(Mt,{columns:o,colRef:(g,O)=>{g!=null&&(m.current[O]=g.offsetWidth)}}),h]}),i,{columns:o});return G(b.jsx("div",{ref:xe(r,g=>{g!=null&&C("virtual-table-header",g)}),className:F("virtual-table-header",t,{"virtual-table-header-sticky":s}),children:S}),a,{columns:o})};function zn(e){const{getScroller:t,root:n}=e,[r,o]=c.useState(0),[s,a]=c.useState(0),[i,u]=c.useState(0),[f,d]=c.useState(0),l=c.useRef(null);return c.useLayoutEffect(()=>{const y=t();if(y==null)return;let p;Ft(y)?p=document.scrollingElement:p=y,l.current=p;const m=new ResizeObserver(w=>{const{width:x,height:C}=w[0].contentRect;o(x),a(C)});return m.observe(p),()=>{m.disconnect()}},[t]),c.useLayoutEffect(()=>{const y=n.current;if(y==null)return;const p=new ResizeObserver(m=>{const{width:w,height:x}=m[0].contentRect;u(w),d(x)});return p.observe(y),()=>{p.disconnect()}},[n]),{scrollContainerWidth:r,scrollContainerHeight:s,tableWidth:i,tableHeight:f}}function jn(e){const{itemCount:t,estimatedRowHeight:n=46,onChange:r}=e,o=c.useRef([]);(()=>{for(let d=0;d<t;d+=1)o.current[d]==null&&(o.current[d]=n);o.current=o.current.slice(0,t)})();const a=c.useRef([]),i=()=>{const d=[];let l=0;o.current.forEach((y,p)=>{p!==0&&(l+=y),d.push({index:p,height:y,top:l,bottom:l+y})}),a.current=d},u=ot((d,l)=>{o.current[d]=l,i(),r==null||r(d,l,a.current)});return{rowHeightList:o,updateRowHeight:u,sum:(d,l)=>o.current.slice(d,l).reduce((y,p)=>y+p,0),rects:c.useCallback(()=>a.current,[])}}function Wn(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const s=Math.floor((n+r)/2);e[s].bottom>t?(o=s,r=s-1):n=s+1}if(o!==-1)return e[o]}function kn(e,t){const{className:n,style:r,children:o,hasFixedLeftColumn:s,hasFixedRightColumn:a,renderRoot:i}=e,u=c.useRef(null),[f,d]=c.useState(!1),[l,y]=c.useState(!1),{getElements:p}=Te(),m=c.useMemo(()=>p(),[p]);return c.useEffect(()=>{const w=()=>{const x=m[0];if(x==null)return;const{scrollLeft:C,clientWidth:v,scrollWidth:h}=x;s&&d(C!==0),a&&y(!(C+v>=h))};return w(),m.forEach(x=>{x.addEventListener("scroll",w)}),()=>{m.forEach(x=>{x.removeEventListener("scroll",w)})}},[m,s,a]),G(b.jsx("div",{ref:xe(t,u),className:F("virtual-table",f&&"virtual-table-has-fix-left",l&&"virtual-table-has-fix-right",n),style:r,children:o}),i,{})}const Ln=c.forwardRef(kn);function In(e,t){const{className:n,style:r,tableBodyClassName:o,tableBodyStyle:s,columns:a,dataSource:i,rowKey:u="key",estimatedRowHeight:f,overscanCount:d=5,stickyHeader:l,pipeline:y=_e.defaultPipeline,rowClassName:p,onRow:m}=e,w=c.useRef(null),x=c.useRef(null),C=c.useRef(null),v=c.useCallback(()=>{const M=x.current;if(M!=null)return Dn(M)},[]),{scrollContainerHeight:h,scrollContainerWidth:S,tableHeight:g,tableWidth:O}=zn({getScroller:v,root:x}),R=c.useMemo(()=>({width:S,height:h,tableWidth:O,tableHeight:g,container(){return C.current}}),[S,h,O,g]),D=c.useRef(0),k=c.useRef(0),[_,W]=c.useState(0),[Q,L]=c.useState(0),{dataSource:z,columns:E,rowKey:N,rowClassName:T,render:I,renderRoot:ee,renderContent:A,renderHeaderWrapper:ae,renderHeaderRoot:Re,renderHeader:be,renderHeaderRow:H,renderHeaderCell:$,renderBodyWrapper:U,renderBodyRoot:ie,renderBody:pe,renderRow:he,renderCell:Ce,onRow:te}=y.use({dataSource:i,rowKey:u,columns:a,visibleCount:Q-_}),ue=c.useCallback((M,Y)=>F(p==null?void 0:p(M,Y),T==null?void 0:T(M,Y)),[p,T]),ce=c.useCallback((M,Y)=>({...m==null?void 0:m(M,Y),...te==null?void 0:te(M,Y)}),[te,m]),Oe=c.useMemo(()=>(z??[]).slice(_,Q),[z,_,Q]),ze=z==null?!1:z.length>0;c.useLayoutEffect(()=>{const M=v();if(M==null)return;let Y=0,le=0;if(Ft(M)||_n(M))Y=window.innerHeight,le=window.scrollY;else{const q=vt(M);Y=q.getBoundingClientRect().height,le=q.scrollTop}const ve=Math.ceil(Y/f);if(D.current===0){let q=0;le>=f&&(q=Math.max(Math.floor(le/f)-1-d,0)),W(q),L(q+ve+d)}k.current=Y,D.current=ve},[f,v,ze,d]);const Pe=c.useRef(0),Ee=c.useRef({index:0,height:f,top:0,bottom:f}),{rowHeightList:pt,rects:ht,updateRowHeight:mt,sum:gt}=jn({itemCount:(z==null?void 0:z.length)??0,estimatedRowHeight:f,onChange(M,Y,le){Ee.current.index===M&&(Ee.current=le[M])}});c.useEffect(()=>{const M=v();if(M==null)return;const Y=ve=>{const q=Wn(ht(),ve);q!=null&&(Ee.current=q,W(Math.max(0,q.index-d)),L(q.index+D.current+d))},le=ve=>{const q=vt(ve.target),{scrollTop:me}=q;me>Pe.current?me>Ee.current.bottom&&Y(me):me<Pe.current&&me<Ee.current.top&&Y(me),Pe.current=me};return M.addEventListener("scroll",le),()=>{M.removeEventListener("scroll",le)}},[v,d,ht]);const ln=gt(0,_),un=gt(Q),cn=E.some(M=>ne(M.fixed)),fn=E.some(M=>re(M.fixed)),dn=c.useMemo(()=>({getRowHeightList(){return pt.current},updateRowHeight:mt}),[pt,mt]),pn=G(b.jsxs(b.Fragment,{children:[b.jsx(Hn,{columns:E,stickyHeader:l,renderHeaderWrapper:ae,renderHeaderRoot:Re,renderHeader:be,renderHeaderRow:H,renderHeaderCell:$}),b.jsx(Mn,{tableRef:xe(w,t),className:o,style:{...s,paddingBottom:un,paddingTop:ln},columns:E,rowKey:N,dataSource:Oe,startIndex:_,rowClassName:ue,onRow:ce,renderBodyWrapper:U,renderBodyRoot:ie,renderBody:pe,renderRow:he,renderCell:Ce})]}),A,{columns:E}),hn=G(b.jsx(Ln,{ref:x,className:n,style:r,hasFixedLeftColumn:cn,hasFixedRightColumn:fn,renderRoot:ee,children:pn}),I,{columns:E});return b.jsx(Wt.Provider,{value:dn,children:b.jsx(xn,{columns:E,children:b.jsx(Ht.Provider,{value:R,children:b.jsx(Sn,{children:hn})})})})}const Do=c.memo(c.forwardRef(In));var at={exports:{}},Me={},Fe={exports:{}},At={},Bt={exports:{}},$n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fn=$n,An=Fn;function Kt(){}function Yt(){}Yt.resetWarningCache=Kt;var Bn=function(){function e(r,o,s,a,i,u){if(u!==An){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Yt,resetWarningCache:Kt};return n.PropTypes=n,n};Bt.exports=Bn();var Ae=Bt.exports;function Xt(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Xt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function wt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Xt(e))&&(r&&(r+=" "),r+=t);return r}const Kn=Object.freeze(Object.defineProperty({__proto__:null,clsx:wt,default:wt},Symbol.toStringTag,{value:"Module"})),Yn=yn(Kn);var j={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.dontSetMe=Gn;oe.findInArray=Xn;oe.int=Vn;oe.isFunction=Un;oe.isNum=qn;function Xn(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Un(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function qn(e){return typeof e=="number"&&!isNaN(e)}function Vn(e){return parseInt(e,10)}function Gn(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.browserPrefixToKey=qt;ye.browserPrefixToStyle=Jn;ye.default=void 0;ye.getPrefix=Ut;const qe=["Moz","Webkit","O","ms"];function Ut(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<qe.length;r++)if(qt(t,qe[r])in n)return qe[r];return""}function qt(e,t){return t?"".concat(t).concat(Qn(e)):e}function Jn(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Qn(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}ye.default=Ut();Object.defineProperty(j,"__esModule",{value:!0});j.addClassName=Jt;j.addEvent=tr;j.addUserSelectStyles=dr;j.createCSSTransform=lr;j.createSVGTransform=ur;j.getTouch=cr;j.getTouchIdentifier=fr;j.getTranslation=it;j.innerHeight=sr;j.innerWidth=ar;j.matchesSelector=Gt;j.matchesSelectorAndParentsTo=er;j.offsetXYFromParent=ir;j.outerHeight=rr;j.outerWidth=or;j.removeClassName=Qt;j.removeEvent=nr;j.removeUserSelectStyles=pr;var J=oe,St=Zn(ye);function Vt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Vt=function(r){return r?n:t})(e)}function Zn(e,t){if(e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Vt(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}let je="";function Gt(e,t){return je||(je=(0,J.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,J.isFunction)(e[n])})),(0,J.isFunction)(e[je])?e[je](t):!1}function er(e,t,n){let r=e;do{if(Gt(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function tr(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function nr(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function rr(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,J.int)(n.borderTopWidth),t+=(0,J.int)(n.borderBottomWidth),t}function or(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,J.int)(n.borderLeftWidth),t+=(0,J.int)(n.borderRightWidth),t}function sr(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,J.int)(n.paddingTop),t-=(0,J.int)(n.paddingBottom),t}function ar(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,J.int)(n.paddingLeft),t-=(0,J.int)(n.paddingRight),t}function ir(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),s=(e.clientX+t.scrollLeft-o.left)/n,a=(e.clientY+t.scrollTop-o.top)/n;return{x:s,y:a}}function lr(e,t){const n=it(e,t,"px");return{[(0,St.browserPrefixToKey)("transform",St.default)]:n}}function ur(e,t){return it(e,t,"")}function it(e,t,n){let{x:r,y:o}=e,s="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+n),i="".concat(typeof t.y=="string"?t.y:t.y+n);s="translate(".concat(a,", ").concat(i,")")+s}return s}function cr(e,t){return e.targetTouches&&(0,J.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,J.findInArray)(e.changedTouches,n=>t===n.identifier)}function fr(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function dr(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Jt(e.body,"react-draggable-transparent-selection")}function pr(e){if(e)try{if(e.body&&Qt(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Jt(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Qt(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var se={};Object.defineProperty(se,"__esModule",{value:!0});se.canDragX=gr;se.canDragY=yr;se.createCoreData=vr;se.createDraggableData=wr;se.getBoundPosition=hr;se.getControlPosition=br;se.snapToGrid=mr;var V=oe,we=j;function hr(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:Sr(r);const o=lt(e);if(typeof r=="string"){const{ownerDocument:s}=o,a=s.defaultView;let i;if(r==="parent"?i=o.parentNode:i=s.querySelector(r),!(i instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const u=i,f=a.getComputedStyle(o),d=a.getComputedStyle(u);r={left:-o.offsetLeft+(0,V.int)(d.paddingLeft)+(0,V.int)(f.marginLeft),top:-o.offsetTop+(0,V.int)(d.paddingTop)+(0,V.int)(f.marginTop),right:(0,we.innerWidth)(u)-(0,we.outerWidth)(o)-o.offsetLeft+(0,V.int)(d.paddingRight)-(0,V.int)(f.marginRight),bottom:(0,we.innerHeight)(u)-(0,we.outerHeight)(o)-o.offsetTop+(0,V.int)(d.paddingBottom)-(0,V.int)(f.marginBottom)}}return(0,V.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,V.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,V.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,V.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function mr(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function gr(e){return e.props.axis==="both"||e.props.axis==="x"}function yr(e){return e.props.axis==="both"||e.props.axis==="y"}function br(e,t,n){const r=typeof t=="number"?(0,we.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=lt(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,we.offsetXYFromParent)(r||e,s,n.props.scale)}function vr(e,t,n){const r=!(0,V.isNum)(e.lastX),o=lt(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function wr(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Sr(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function lt(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Be={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=xr;function xr(){}Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var Ve=Cr(c),X=ut(Ae),Rr=ut(Nt),B=j,fe=se,Ge=oe,De=ut(Ke);function ut(e){return e&&e.__esModule?e:{default:e}}function Zt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Zt=function(r){return r?n:t})(e)}function Cr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Zt(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function K(e,t,n){return t=Or(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Or(e){var t=Pr(e,"string");return typeof t=="symbol"?t:String(t)}function Pr(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Z={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let de=Z.mouse,Ye=class extends Ve.Component{constructor(){super(...arguments),K(this,"dragging",!1),K(this,"lastX",NaN),K(this,"lastY",NaN),K(this,"touchIdentifier",null),K(this,"mounted",!1),K(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,B.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,B.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const o=(0,B.getTouchIdentifier)(t);this.touchIdentifier=o;const s=(0,fe.getControlPosition)(t,o,this);if(s==null)return;const{x:a,y:i}=s,u=(0,fe.createCoreData)(this,a,i);(0,De.default)("DraggableCore: handleDragStart: %j",u),(0,De.default)("calling",this.props.onStart),!(this.props.onStart(t,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,B.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=i,(0,B.addEvent)(r,de.move,this.handleDrag),(0,B.addEvent)(r,de.stop,this.handleDragStop))}),K(this,"handleDrag",t=>{const n=(0,fe.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,u=o-this.lastY;if([i,u]=(0,fe.snapToGrid)(this.props.grid,i,u),!i&&!u)return;r=this.lastX+i,o=this.lastY+u}const s=(0,fe.createCoreData)(this,r,o);if((0,De.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(t,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=r,this.lastY=o}),K(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,fe.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let u=r-this.lastX||0,f=o-this.lastY||0;[u,f]=(0,fe.snapToGrid)(this.props.grid,u,f),r=this.lastX+u,o=this.lastY+f}const s=(0,fe.createCoreData)(this,r,o);if(this.props.onStop(t,s)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(i.ownerDocument),(0,De.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,De.default)("DraggableCore: Removing handlers"),(0,B.removeEvent)(i.ownerDocument,de.move,this.handleDrag),(0,B.removeEvent)(i.ownerDocument,de.stop,this.handleDragStop))}),K(this,"onMouseDown",t=>(de=Z.mouse,this.handleDragStart(t))),K(this,"onMouseUp",t=>(de=Z.mouse,this.handleDragStop(t))),K(this,"onTouchStart",t=>(de=Z.touch,this.handleDragStart(t))),K(this,"onTouchEnd",t=>(de=Z.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,B.addEvent)(t,Z.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,B.removeEvent)(n,Z.mouse.move,this.handleDrag),(0,B.removeEvent)(n,Z.touch.move,this.handleDrag),(0,B.removeEvent)(n,Z.mouse.stop,this.handleDragStop),(0,B.removeEvent)(n,Z.touch.stop,this.handleDragStop),(0,B.removeEvent)(t,Z.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Rr.default.findDOMNode(this)}render(){return Ve.cloneElement(Ve.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Be.default=Ye;K(Ye,"displayName","DraggableCore");K(Ye,"propTypes",{allowAnyClick:X.default.bool,children:X.default.node.isRequired,disabled:X.default.bool,enableUserSelectHack:X.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:X.default.arrayOf(X.default.number),handle:X.default.string,cancel:X.default.string,nodeRef:X.default.object,onStart:X.default.func,onDrag:X.default.func,onStop:X.default.func,onMouseDown:X.default.func,scale:X.default.number,className:Ge.dontSetMe,style:Ge.dontSetMe,transform:Ge.dontSetMe});K(Ye,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var t=y(c),n=d(Ae),r=d(Nt),o=d(Yn),s=j,a=se,i=oe,u=d(Be),f=d(Ke);function d(v){return v&&v.__esModule?v:{default:v}}function l(v){if(typeof WeakMap!="function")return null;var h=new WeakMap,S=new WeakMap;return(l=function(g){return g?S:h})(v)}function y(v,h){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var S=l(h);if(S&&S.has(v))return S.get(v);var g={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in v)if(R!=="default"&&Object.prototype.hasOwnProperty.call(v,R)){var D=O?Object.getOwnPropertyDescriptor(v,R):null;D&&(D.get||D.set)?Object.defineProperty(g,R,D):g[R]=v[R]}return g.default=v,S&&S.set(v,g),g}function p(){return p=Object.assign?Object.assign.bind():function(v){for(var h=1;h<arguments.length;h++){var S=arguments[h];for(var g in S)Object.prototype.hasOwnProperty.call(S,g)&&(v[g]=S[g])}return v},p.apply(this,arguments)}function m(v,h,S){return h=w(h),h in v?Object.defineProperty(v,h,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[h]=S,v}function w(v){var h=x(v,"string");return typeof h=="symbol"?h:String(h)}function x(v,h){if(typeof v!="object"||v===null)return v;var S=v[Symbol.toPrimitive];if(S!==void 0){var g=S.call(v,h||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(v)}class C extends t.Component{static getDerivedStateFromProps(h,S){let{position:g}=h,{prevPropsPosition:O}=S;return g&&(!O||g.x!==O.x||g.y!==O.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:g,prevPropsPosition:O}),{x:g.x,y:g.y,prevPropsPosition:{...g}}):null}constructor(h){super(h),m(this,"onDragStart",(S,g)=>{if((0,f.default)("Draggable: onDragStart: %j",g),this.props.onStart(S,(0,a.createDraggableData)(this,g))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(S,g)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",g);const O=(0,a.createDraggableData)(this,g),R={x:O.x,y:O.y,slackX:0,slackY:0};if(this.props.bounds){const{x:k,y:_}=R;R.x+=this.state.slackX,R.y+=this.state.slackY;const[W,Q]=(0,a.getBoundPosition)(this,R.x,R.y);R.x=W,R.y=Q,R.slackX=this.state.slackX+(k-R.x),R.slackY=this.state.slackY+(_-R.y),O.x=R.x,O.y=R.y,O.deltaX=R.x-this.state.x,O.deltaY=R.y-this.state.y}if(this.props.onDrag(S,O)===!1)return!1;this.setState(R)}),m(this,"onDragStop",(S,g)=>{if(!this.state.dragging||this.props.onStop(S,(0,a.createDraggableData)(this,g))===!1)return!1;(0,f.default)("Draggable: onDragStop: %j",g);const R={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:k,y:_}=this.props.position;R.x=k,R.y=_}this.setState(R)}),this.state={dragging:!1,dragged:!1,x:h.position?h.position.x:h.defaultPosition.x,y:h.position?h.position.y:h.defaultPosition.y,prevPropsPosition:{...h.position},slackX:0,slackY:0,isElementSVG:!1},h.position&&!(h.onDrag||h.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var h,S;return(h=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&h!==void 0?h:r.default.findDOMNode(this)}render(){const{axis:h,bounds:S,children:g,defaultPosition:O,defaultClassName:R,defaultClassNameDragging:D,defaultClassNameDragged:k,position:_,positionOffset:W,scale:Q,...L}=this.props;let z={},E=null;const T=!!!_||this.state.dragging,I=_||O,ee={x:(0,a.canDragX)(this)&&T?this.state.x:I.x,y:(0,a.canDragY)(this)&&T?this.state.y:I.y};this.state.isElementSVG?E=(0,s.createSVGTransform)(ee,W):z=(0,s.createCSSTransform)(ee,W);const A=(0,o.default)(g.props.className||"",R,{[D]:this.state.dragging,[k]:this.state.dragged});return t.createElement(u.default,p({},L,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(g),{className:A,style:{...g.props.style,...z},transform:E}))}}e.default=C,m(C,"displayName","Draggable"),m(C,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),m(C,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(At);const{default:en,DraggableCore:Er}=At;Fe.exports=en;Fe.exports.default=en;Fe.exports.DraggableCore=Er;var Dr=Fe.exports,ct={};ct.__esModule=!0;ct.cloneElement=zr;var Nr=_r(c);function _r(e){return e&&e.__esModule?e:{default:e}}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xt(Object(n),!0).forEach(function(r){Tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tr(e,t,n){return t=Mr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e){var t=Hr(e,"string");return typeof t=="symbol"?t:String(t)}function Hr(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t){return t.style&&e.props.style&&(t.style=Rt(Rt({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),Nr.default.cloneElement(e,t)}var He={};He.__esModule=!0;He.resizableProps=void 0;var P=jr(Ae);function jr(e){return e&&e.__esModule?e:{default:e}}var Wr={axis:P.default.oneOf(["both","x","y","none"]),className:P.default.string,children:P.default.element.isRequired,draggableOpts:P.default.shape({allowAnyClick:P.default.bool,cancel:P.default.string,children:P.default.node,disabled:P.default.bool,enableUserSelectHack:P.default.bool,offsetParent:P.default.node,grid:P.default.arrayOf(P.default.number),handle:P.default.string,nodeRef:P.default.object,onStart:P.default.func,onDrag:P.default.func,onStop:P.default.func,onMouseDown:P.default.func,scale:P.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(o.axis==="both"||o.axis==="y"){var s;return(s=P.default.number).isRequired.apply(s,n)}return P.default.number.apply(P.default,n)},handle:P.default.oneOfType([P.default.node,P.default.func]),handleSize:P.default.arrayOf(P.default.number),lockAspectRatio:P.default.bool,maxConstraints:P.default.arrayOf(P.default.number),minConstraints:P.default.arrayOf(P.default.number),onResizeStop:P.default.func,onResizeStart:P.default.func,onResize:P.default.func,resizeHandles:P.default.arrayOf(P.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:P.default.number,width:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(o.axis==="both"||o.axis==="x"){var s;return(s=P.default.number).isRequired.apply(s,n)}return P.default.number.apply(P.default,n)}};He.resizableProps=Wr;Me.__esModule=!0;Me.default=void 0;var Ne=Fr(c),kr=Dr,Lr=ct,Ir=He,$r=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function tn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(tn=function(o){return o?n:t})(e)}function Fr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=tn(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}function Ar(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(r){Br(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Br(e,t,n){return t=Kr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){var t=Yr(e,"string");return typeof t=="symbol"?t:String(t)}function Yr(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,et(e,t)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},et(e,t)}var ft=function(e){Xr(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(o,s){var a=this.props,i=a.minConstraints,u=a.maxConstraints,f=a.lockAspectRatio;if(!i&&!u&&!f)return[o,s];if(f){var d=this.props.width/this.props.height,l=o-this.props.width,y=s-this.props.height;Math.abs(l)>Math.abs(y*d)?s=o/d:o=s*d}var p=o,m=s,w=this.slack||[0,0],x=w[0],C=w[1];return o+=x,s+=C,i&&(o=Math.max(i[0],o),s=Math.max(i[1],s)),u&&(o=Math.min(u[0],o),s=Math.min(u[1],s)),this.slack=[x+(p-o),C+(m-s)],[o,s]},n.resizeHandler=function(o,s){var a=this;return function(i,u){var f=u.node,d=u.deltaX,l=u.deltaY;o==="onResizeStart"&&a.resetData();var y=(a.props.axis==="both"||a.props.axis==="x")&&s!=="n"&&s!=="s",p=(a.props.axis==="both"||a.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!y&&!p)){var m=s[0],w=s[s.length-1],x=f.getBoundingClientRect();if(a.lastHandleRect!=null){if(w==="w"){var C=x.left-a.lastHandleRect.left;d+=C}if(m==="n"){var v=x.top-a.lastHandleRect.top;l+=v}}a.lastHandleRect=x,w==="w"&&(d=-d),m==="n"&&(l=-l);var h=a.props.width+(y?d/a.props.transformScale:0),S=a.props.height+(p?l/a.props.transformScale:0),g=a.runConstraints(h,S);h=g[0],S=g[1];var O=h!==a.props.width||S!==a.props.height,R=typeof a.props[o]=="function"?a.props[o]:null,D=o==="onResize"&&!O;R&&!D&&(i.persist==null||i.persist(),R(i,{node:f,size:{width:h,height:S},handle:s})),o==="onResizeStop"&&a.resetData()}}},n.renderResizeHandle=function(o,s){var a=this.props.handle;if(!a)return Ne.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:s});if(typeof a=="function")return a(o,s);var i=typeof a.type=="string",u=Je({ref:s},i?{}:{handleAxis:o});return Ne.cloneElement(a,u)},n.render=function(){var o=this,s=this.props,a=s.children,i=s.className,u=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var f=s.resizeHandles;s.transformScale;var d=Ar(s,$r);return(0,Lr.cloneElement)(a,Je(Je({},d),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(a.props.children,f.map(function(l){var y,p=(y=o.handleRefs[l])!=null?y:o.handleRefs[l]=Ne.createRef();return Ne.createElement(kr.DraggableCore,Ze({},u,{nodeRef:p,key:"resizableHandle-"+l,onStop:o.resizeHandler("onResizeStop",l),onStart:o.resizeHandler("onResizeStart",l),onDrag:o.resizeHandler("onResize",l)}),o.renderResizeHandle(l,p))}))}))},t}(Ne.Component);Me.default=ft;ft.propTypes=Ir.resizableProps;ft.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Xe={};Xe.__esModule=!0;Xe.default=void 0;var Qe=Jr(c),Ur=nn(Ae),qr=nn(Me),Vr=He,Gr=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function nn(e){return e&&e.__esModule?e:{default:e}}function rn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(rn=function(o){return o?n:t})(e)}function Jr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=rn(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(r){Qr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qr(e,t,n){return t=Zr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e){var t=eo(e,"string");return typeof t=="symbol"?t:String(t)}function eo(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function to(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function no(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nt(e,t)}function nt(e,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},nt(e,t)}var on=function(e){no(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(i,u){var f=u.size;r.props.onResize?(i.persist==null||i.persist(),r.setState(f,function(){return r.props.onResize&&r.props.onResize(i,u)})):r.setState(f)},r}t.getDerivedStateFromProps=function(o,s){return s.propsWidth!==o.width||s.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var n=t.prototype;return n.render=function(){var o=this.props,s=o.handle,a=o.handleSize;o.onResize;var i=o.onResizeStart,u=o.onResizeStop,f=o.draggableOpts,d=o.minConstraints,l=o.maxConstraints,y=o.lockAspectRatio,p=o.axis;o.width,o.height;var m=o.resizeHandles,w=o.style,x=o.transformScale,C=to(o,Gr);return Qe.createElement(qr.default,{axis:p,draggableOpts:f,handle:s,handleSize:a,height:this.state.height,lockAspectRatio:y,maxConstraints:l,minConstraints:d,onResizeStart:i,onResize:this.onResize,onResizeStop:u,resizeHandles:m,transformScale:x,width:this.state.width},Qe.createElement("div",tt({},C,{style:ke(ke({},w),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(Qe.Component);Xe.default=on;on.propTypes=ke(ke({},Vr.resizableProps),{},{children:Ur.default.element});at.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var ro=at.exports.Resizable=Me.default;at.exports.ResizableBox=Xe.default;function oo(e){return typeof e=="object"&&e!=null}function so(e,t){return typeof e=="function"?e(t):e}function Pt(e,t){if(e==null)return;const n=so(e,t);if(n!=null)return[n,0]}const Le={key(e){return`${e}_resize`},get(e){try{const t=window.localStorage.getItem(Le.key(e))??"{}",n=JSON.parse(t);return oo(n)?(Object.entries(n).forEach(([r,o])=>{Number.isFinite(o)||delete n[r]}),n):{}}catch{return{}}},set(e,t){window.localStorage.setItem(Le.key(e),JSON.stringify(t))}};function ao(e,t){const{storageKey:n,min:r,max:o}=t??{},{columns:s}=e,[a,i]=c.useState(()=>n==null?{}:Le.get(n)),u=c.useCallback((l,y)=>{const p=Math.min(1e3,Math.max(100,y));i(m=>{const w={...m,[l]:p};return n!=null&&Le.set(n,w),w})},[n]),f=c.useCallback((l,y)=>{const{column:p,columnIndex:m=0,columnWidthList:w=[]}=y;if(p.disableResize)return l;const x="key"in p?p.key:p.dataIndex;let{width:C}=p;return typeof C=="string"&&(C=w[m]),b.jsx(ro,{width:C??0,axis:"x",minConstraints:Pt(r,p),maxConstraints:Pt(o,p),handle:b.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(v,{size:h})=>{u(x,h.width)},children:l})},[u,o,r]),d=c.useMemo(()=>s.map(l=>{const y="key"in l?l.key:l.dataIndex,p=a[y];return p!=null&&p!==l.width?{...l,width:p}:l}),[a,s]);return{...e,columns:d,renderHeaderCell:f}}const _o=ge(ao),io=e=>{const{colSpan:t,children:n}=e,{tableWidth:r}=zt();return b.jsx("tr",{children:b.jsx("td",{colSpan:t,children:b.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:r<=0?void 0:r},children:n})})})};function lo(e,t){const{children:n,visible:r=!0}=t,{dataSource:o}=e,a=(o==null?!0:o.length===0)&&r,i=c.useMemo(()=>typeof n=="function"?c.createElement(n):n,[n]),u=c.useCallback((f,d)=>{const{columns:l}=d;if(c.isValidElement(f)){const y=f.props;return c.cloneElement(f,y,[...Array.isArray(y.children)?y.children:[],b.jsx(io,{colSpan:l.length,children:i},"virtual-table-placeholder$")])}return b.jsxs(b.Fragment,{children:[f,i]})},[i]);return a?{...e,renderBody:u}:e}const To=ge(lo);function sn(e,t){const{valuePropName:n="value",defaultValue:r,trigger:o="onChange"}=t??{},s=n in e,a=e[n],i=a??r,[u,f]=c.useState(i),d=c.useRef(i);s&&(d.current=a);const l=e[o],y=c.useCallback((p,...m)=>{typeof p=="function"?l==null||l(p(d.current),...m):l==null||l(p,...m)},[l]);return s?[a,y]:[u,f]}const uo=e=>{const{className:t,style:n,rowIndex:r,isExpanded:o,colSpan:s,children:a,fixed:i}=e,{getRowHeightList:u,updateRowHeight:f}=kt(),{tableWidth:d}=zt(),l=c.useRef(0);return b.jsx("tr",{className:F("virtual-table-expanded-row",t),style:{...n,display:o?void 0:"none"},ref:y=>{if(y==null)return;const p=u()[r]??0;o&&(l.current=y.offsetHeight,f(r,p+l.current))},children:b.jsx("td",{colSpan:s,children:b.jsx("div",{className:F("virtual-table-cell",i&&"virtual-table-expanded-row-fixed"),style:{width:d<=0?void 0:d},children:a})})})},co="VirtualTable.EXPANSION_COLUMN";function Et(e,t){return e[t]}function fo(e,t){const n=t==null,{rowKey:r,columns:o,dataSource:s}=e,{defaultExpandedRowKeys:a,expandedRowRender:i,columnTitle:u,expandRowByClick:f=!1,expandIcon:d,onExpand:l,defaultExpandAllRows:y=!1,showExpandColumn:p=!0,expandedRowClassName:m,rowExpandable:w,columnWidth:x=50,fixed:C,extraColumnProps:v}=t??{},h=c.useMemo(()=>(s??[]).map(E=>w?w(E):!1),[s,w]),S=Se(()=>h),g=c.useRef("expandedRowKeys"in(t??{})||"defaultExpandedRowKeys"in(t??{})?!1:y),O=Se(()=>g.current?(s??[]).map((N,T)=>S[T]?N[r]:null).filter(N=>N!=null):[]),R=c.useRef(new Set(a??O)),[D,k]=sn(t??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:a??O}),_=ot((E,N)=>{const T=Et(E,r);R.current.add(T),N==null?D.includes(T)?(k(D.filter(I=>I!==T)),l==null||l(!1,E)):(k([...D,T]),l==null||l(!0,E)):N?(k([...D,T]),l==null||l(!0,E)):(k(D.filter(I=>I!==T)),l==null||l(!1,E))}),W=$e(C),Q=c.useCallback((E,N)=>{const{rowData:T,rowIndex:I}=N;if(S[I]){const A=Et(T,r),ae=D.includes(A),Re=R.current.has(A);let be="";return typeof m=="string"?be=m:typeof m=="function"&&(be=m(T,I,0)),b.jsxs(b.Fragment,{children:[E,Re&&b.jsx(uo,{className:be,rowIndex:I,isExpanded:ae,colSpan:N.columns.length,fixed:W,children:i==null?void 0:i(T,I,0,ae)})]})}return E},[W,S,r,D,m,i]),L=c.useMemo(()=>p?[{...v,key:co,title:u,width:x,fixed:C,render(E,N,T){const I=N[r],ee=S[T]??!1,A=D.includes(I);return typeof d=="function"?d({expandable:ee,expanded:A,record:N,prefixCls:"virtual-table",onExpand:(ae,Re)=>{_(ae)}}):ee?b.jsx("button",{className:F("virtual-table-row-expand-icon",A?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":A?"关闭行":"展开行","aria-expanded":A,onClick:()=>{_(N,!A)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...o]:o,[p,u,x,C,o,r,S,D,d,_,v]),z=c.useCallback((E,N)=>S[N]?{onClick:T=>{T.stopPropagation(),_(E)}}:{},[S,_]);return n?e:{...e,columns:L,renderRow:Q,onRow:f?z:void 0}}const Mo=ge(fo);function an(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}const po=e=>{const{className:t,style:n,bottom:r,zIndex:o}=e,{addShouldSyncElement:s}=Te(),a=c.useRef(null),[i,u]=c.useState(0);c.useEffect(()=>{var p;const d=(p=a.current)==null?void 0:p.parentElement,l=d==null?void 0:d.querySelector(":scope > .virtual-table-body-wrapper > .virtual-table-body");if(l==null)return;const y=new ResizeObserver(m=>{const{width:w}=m[0].contentRect;u(w)});return y.observe(l),()=>{y.disconnect()}},[]);const[f]=c.useState(an);return b.jsx("div",{className:F("virtual-table-sticky-scroll",t),style:{...n,paddingTop:f.height>0?0:12,marginTop:f.height>0?0:f.height*-1,height:f.height,bottom:r,zIndex:o},ref:xe(d=>{d!=null&&s("virtual-table-sticky-bottom-scroll",d)},a),children:b.jsx("div",{className:"virtual-table-sticky-scroll-bar",style:{width:i}})})};function ho(e,t){return{...e,renderContent(n){return b.jsxs(b.Fragment,{children:[n,b.jsx(po,{...t})]})}}}const Ho=ge(ho);function mo(e,t){const{loading:n=!1}=t??{},{columns:r,visibleCount:o}=e,s=c.useMemo(()=>Array.from({length:o},(i,u)=>({key:u})),[o]),a=c.useMemo(()=>n?r.map(i=>({...i,onCell(){return{className:"virtual-table-loading-cell"}},render(){return b.jsx("div",{className:"virtual-table-loading-skeleton"})}})):r,[n,r]);return n?{...e,columns:a,rowKey:"key",dataSource:s}:e}const zo=ge(mo),go=e=>{const{columns:t,fixed:n,children:r}=e,{addShouldSyncElement:o}=Te(),[s]=c.useState(()=>an().height);return b.jsx("div",{className:F("virtual-table-summary-wrapper",n&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border"),style:{paddingBottom:s},ref:a=>{a!=null&&o("virtual-table-summary",a)},children:b.jsxs("table",{className:"virtual-table-summary",children:[b.jsx("colgroup",{children:t.map((a,i)=>{const u="key"in a?a.key:a.dataIndex;return b.jsx("col",{style:{width:a.width,minWidth:a.minWidth}},typeof u=="symbol"?i:u)})}),b.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:r})]})})};function yo(e){const{className:t,style:n,children:r,align:o,colSpan:s,index:a,...i}=e,{size:u,fixed:f}=rt(),d=f[a],{left:l,right:y}=c.useMemo(()=>{const x=st(f,v=>ne(v)),C=f.findIndex(v=>re(v));return{left:x,right:C}},[f]);if(s===0)return null;const p=Math.max(0,(s??0)-1);let m=a+p,w=u[m];return s!=null&&(m===l?m=a+p:a===y&&(m=a,w=u[m+p])),b.jsx("td",{...i,colSpan:s,className:F("virtual-table-cell virtual-table-summary-cell",o!=null&&`virtual-table-align-${o}`,$e(d)&&"virtual-table-sticky-cell",l===m&&"virtual-table-cell-fix-left-last",y===m&&"virtual-table-cell-fix-right-first",t),style:{...n,left:ne(d)?u[a]:void 0,right:re(d)?w:void 0},children:r})}const bo=c.memo(yo),vo=({children:e,...t})=>b.jsx("tr",{...t,children:e});function dt({children:e}){return e}dt.Row=vo;dt.Cell=bo;function wo(e,t){const{summary:n}=t??{},{columns:r,dataSource:o}=e,s=n==null?void 0:n(o??[]),a=c.isValidElement(s)&&s.type===dt&&s.props.fixed,i=c.useCallback(u=>b.jsxs(b.Fragment,{children:[u,b.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:s})]}),[s]);return n==null?e:a==="top"?{...e,renderHeader:i}:{...e,renderContent(u){return b.jsxs(b.Fragment,{children:[u,b.jsx(go,{fixed:a==="bottom"||a,columns:r,children:s})]})}}}const jo=ge(wo);function So(e,t){const{className:n,multiple:r,indeterminate:o,value:s=!1,onChange:a,component:i,...u}=e,f=i!=null,d=c.useRef(null);return c.useEffect(()=>{if(f)return;const l=d.current;l!=null&&(l.indeterminate=!!o)},[f,o]),f?c.createElement(i,e):b.jsx("input",{...u,ref:xe(d,t),className:F("virtual-table-selection",n),type:r?"checkbox":"radio",checked:s,onChange:l=>{a==null||a(l.target.checked,l.nativeEvent)}})}const Dt=c.forwardRef(So),xo="VirtualTable.SELECTION_COLUMN",Ro=[];function Co(e,t){const n=t==null,{columns:r}=e,o=e.rowKey,s=n?Ro:e.dataSource??[],{defaultSelectedRowKeys:a,component:i,preserveSelectedRowKeys:u,multiple:f=!0,getSelectionProps:d,onSelect:l,hideSelectAll:y=!1,fixed:p,columnWidth:m,columnTitle:w,extraColumnProps:x,renderCell:C,onCell:v}=t??{},[h=[],S]=sn(t??{},{defaultValue:a,valuePropName:"selectedRowKeys",trigger:"onChange"}),g=c.useCallback(L=>{const z=L[o];return h.includes(z)?"virtual-table-row-selected":""},[o,h]),O=Se(()=>s.map(L=>d?d(L):{})),R=Se(()=>s.filter((L,z)=>!O[z].disabled).map(L=>L[o])),D=c.useRef(new Map),k=!O.some(L=>!L.disabled),_=ot(L=>{const z=[];return L.forEach(E=>{let N=s.find(T=>T[o]===E);N==null&&u&&(N=D.current.get(E)),!(N==null&&!u)&&z.push(N)}),z}),W=c.useRef(null),Q=c.useMemo(()=>{if(n)return r;const L=h.length>0,z=L&&R.length>h.length,E=L?R.length>0&&R.every(H=>h.includes(H)):!1,N=H=>{const $=new Set(H);return u?Array.from($):Array.from($).filter(U=>R.includes(U))},T=(H,$)=>{const U=W.current??H,ie=Math.min(U,H),pe=Math.max(U,H),he=R.slice(ie,pe+1),Ce=he.some(ce=>!h.includes(ce));W.current=Ce?pe:null;const te=N($?[...h,...he]:h.filter(ce=>!he.includes(ce))),ue=_(te);S(te,ue,{type:"multiple"})},I=()=>{const H=N([...h,...R]),$=_(H);S(H,$,{type:"all"})},ee=()=>{const H=R.filter(U=>!h.includes(U)),$=_(H);S(H,$,{type:"invert"})},A=()=>{S([],[],{type:"none"})},ae={indeterminate:z,value:E,disabled:k,multiple:f,onChange:H=>{H?I():A()},onClear:A,onSelectAll:I,onSelectInvert:ee,allKeys:R};return[{...x,title:y?void 0:(()=>{if(!f)return c.isValidElement(w)?w:typeof w=="function"?w(void 0,ae):null;let H=b.jsx("div",{className:"virtual-table-selection",children:b.jsx(Dt,{component:i,multiple:f,value:E,indeterminate:z,disabled:k,onChange:$=>{$?I():A()}})});return c.isValidElement(w)?H=w:typeof w=="function"&&(H=w(H,ae)),H})(),width:m??32,align:"center",fixed:p?"left":void 0,key:xo,render(H,$,U){const ie=$[o],pe=h.includes(ie),he=O[U],Ce=()=>{u&&D.current.set(ie,$)},te=b.jsx(Dt,{...he,component:i,value:pe,multiple:f,onChange:(ue,ce)=>{if(Ce(),f&&ce.shiftKey){T(U,ue);return}ue?W.current=U:W.current=null;let Oe=[ie];f&&(Oe=N(ue?[...h,ie]:h.filter(Pe=>Pe!==ie)));const ze=_(Oe);l==null||l($,ue,ze,ce),S(Oe,ze,{type:"single"})}});return typeof C=="function"?C(pe,$,U,te):te},onCell:v,onHeaderCell(){return{className:"virtual-table-selection-column"}}},...r]},[n,x,k,R,w,m,p,_,y,v,l,u,r,C,o,h,O,S,f,i]);return n?e:{...e,rowClassName:g,columns:Q}}const Wo=ge(Co);export{dt as S,Do as V,ge as a,Mo as b,F as c,_o as d,zo as e,To as f,jo as g,Ho as h,Wo as t,Eo as u};
