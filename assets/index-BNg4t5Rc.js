import{K as Ge,L as ee,M as Fe,r as N,j as C}from"./index-BNzIjINb.js";import{a as te,g as ge,b as Ie,d as Le,c as A,e as Se,f as Je,i as fe,j as ye,k as Xe,l as ae,m as oe,n as Qe,o as Ze,p as et,q as tt,C as rt}from"./index-Dy_ys-wD.js";import{u as nt}from"./table-selection-xPbwZURT.js";var K={exports:{}},$={},V={exports:{}},de={},pe={exports:{}},he,we;function at(){if(we)return he;we=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return he=r,he}var me,xe;function ot(){if(xe)return me;xe=1;var r=at();function c(){}function d(){}return d.resetWarningCache=c,me=function(){function u(m,b,h,S,g,f){if(f!==r){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}u.isRequired=u;function y(){return u}var p={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:y,element:u,elementType:u,instanceOf:y,node:u,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:d,resetWarningCache:c};return p.PropTypes=p,p},me}var Oe;function le(){return Oe||(Oe=1,pe.exports=ot()()),pe.exports}function Ye(r){var c,d,u="";if(typeof r=="string"||typeof r=="number")u+=r;else if(typeof r=="object")if(Array.isArray(r))for(c=0;c<r.length;c++)r[c]&&(d=Ye(r[c]))&&(u&&(u+=" "),u+=d);else for(c in r)r[c]&&(u&&(u+=" "),u+=c);return u}function Pe(){for(var r,c,d=0,u="";d<arguments.length;)(r=arguments[d++])&&(c=Ye(r))&&(u&&(u+=" "),u+=c);return u}const it=Object.freeze(Object.defineProperty({__proto__:null,clsx:Pe,default:Pe},Symbol.toStringTag,{value:"Module"})),st=Ge(it);var q={},X={},Re;function ue(){if(Re)return X;Re=1,Object.defineProperty(X,"__esModule",{value:!0}),X.dontSetMe=y,X.findInArray=r,X.int=u,X.isFunction=c,X.isNum=d;function r(p,m){for(let b=0,h=p.length;b<h;b++)if(m.apply(m,[p[b],b,p]))return p[b]}function c(p){return typeof p=="function"||Object.prototype.toString.call(p)==="[object Function]"}function d(p){return typeof p=="number"&&!isNaN(p)}function u(p){return parseInt(p,10)}function y(p,m,b){if(p[m])return new Error("Invalid prop ".concat(m," passed to ").concat(b," - do not set this, set it on the child."))}return X}var Y={},De;function lt(){if(De)return Y;De=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.browserPrefixToKey=d,Y.browserPrefixToStyle=u,Y.default=void 0,Y.getPrefix=c;const r=["Moz","Webkit","O","ms"];function c(){var p;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const b=(p=window.document)===null||p===void 0||(p=p.documentElement)===null||p===void 0?void 0:p.style;if(!b||m in b)return"";for(let h=0;h<r.length;h++)if(d(m,r[h])in b)return r[h];return""}function d(p,m){return m?"".concat(m).concat(y(p)):p}function u(p,m){return m?"-".concat(m.toLowerCase(),"-").concat(p):p}function y(p){let m="",b=!0;for(let h=0;h<p.length;h++)b?(m+=p[h].toUpperCase(),b=!1):p[h]==="-"?b=!0:m+=p[h];return m}return Y.default=c(),Y}var Ce;function ve(){if(Ce)return q;Ce=1,Object.defineProperty(q,"__esModule",{value:!0}),q.addClassName=a,q.addEvent=b,q.addUserSelectStyles=n,q.createCSSTransform=w,q.createSVGTransform=R,q.getTouch=i,q.getTouchIdentifier=t,q.getTranslation=O,q.innerHeight=f,q.innerWidth=P,q.matchesSelector=p,q.matchesSelectorAndParentsTo=m,q.offsetXYFromParent=x,q.outerHeight=S,q.outerWidth=g,q.removeClassName=s,q.removeEvent=h,q.removeUserSelectStyles=o;var r=ue(),c=u(lt());function d(e){if(typeof WeakMap!="function")return null;var l=new WeakMap,v=new WeakMap;return(d=function(D){return D?v:l})(e)}function u(e,l){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var v=d(l);if(v&&v.has(e))return v.get(e);var D={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in e)if(E!=="default"&&Object.prototype.hasOwnProperty.call(e,E)){var j=_?Object.getOwnPropertyDescriptor(e,E):null;j&&(j.get||j.set)?Object.defineProperty(D,E,j):D[E]=e[E]}return D.default=e,v&&v.set(e,D),D}let y="";function p(e,l){return y||(y=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(v){return(0,r.isFunction)(e[v])})),(0,r.isFunction)(e[y])?e[y](l):!1}function m(e,l,v){let D=e;do{if(p(D,l))return!0;if(D===v)return!1;D=D.parentNode}while(D);return!1}function b(e,l,v,D){if(!e)return;const _={capture:!0,...D};e.addEventListener?e.addEventListener(l,v,_):e.attachEvent?e.attachEvent("on"+l,v):e["on"+l]=v}function h(e,l,v,D){if(!e)return;const _={capture:!0,...D};e.removeEventListener?e.removeEventListener(l,v,_):e.detachEvent?e.detachEvent("on"+l,v):e["on"+l]=null}function S(e){let l=e.clientHeight;const v=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(v.borderTopWidth),l+=(0,r.int)(v.borderBottomWidth),l}function g(e){let l=e.clientWidth;const v=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(v.borderLeftWidth),l+=(0,r.int)(v.borderRightWidth),l}function f(e){let l=e.clientHeight;const v=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(v.paddingTop),l-=(0,r.int)(v.paddingBottom),l}function P(e){let l=e.clientWidth;const v=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(v.paddingLeft),l-=(0,r.int)(v.paddingRight),l}function x(e,l,v){const _=l===l.ownerDocument.body?{left:0,top:0}:l.getBoundingClientRect(),E=(e.clientX+l.scrollLeft-_.left)/v,j=(e.clientY+l.scrollTop-_.top)/v;return{x:E,y:j}}function w(e,l){const v=O(e,l,"px");return{[(0,c.browserPrefixToKey)("transform",c.default)]:v}}function R(e,l){return O(e,l,"")}function O(e,l,v){let{x:D,y:_}=e,E="translate(".concat(D).concat(v,",").concat(_).concat(v,")");if(l){const j="".concat(typeof l.x=="string"?l.x:l.x+v),H="".concat(typeof l.y=="string"?l.y:l.y+v);E="translate(".concat(j,", ").concat(H,")")+E}return E}function i(e,l){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,v=>l===v.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,v=>l===v.identifier)}function t(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function n(e){if(!e)return;let l=e.getElementById("react-draggable-style-el");l||(l=e.createElement("style"),l.type="text/css",l.id="react-draggable-style-el",l.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,l.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(l)),e.body&&a(e.body,"react-draggable-transparent-selection")}function o(e){if(e)try{if(e.body&&s(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const l=(e.defaultView||window).getSelection();l&&l.type!=="Caret"&&l.removeAllRanges()}}catch{}}function a(e,l){e.classList?e.classList.add(l):e.className.match(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)")))||(e.className+=" ".concat(l))}function s(e,l){e.classList?e.classList.remove(l):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)"),"g"),"")}return q}var I={},_e;function Ae(){if(_e)return I;_e=1,Object.defineProperty(I,"__esModule",{value:!0}),I.canDragX=y,I.canDragY=p,I.createCoreData=b,I.createDraggableData=h,I.getBoundPosition=d,I.getControlPosition=m,I.snapToGrid=u;var r=ue(),c=ve();function d(f,P,x){if(!f.props.bounds)return[P,x];let{bounds:w}=f.props;w=typeof w=="string"?w:S(w);const R=g(f);if(typeof w=="string"){const{ownerDocument:O}=R,i=O.defaultView;let t;if(w==="parent"?t=R.parentNode:t=O.querySelector(w),!(t instanceof i.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const n=t,o=i.getComputedStyle(R),a=i.getComputedStyle(n);w={left:-R.offsetLeft+(0,r.int)(a.paddingLeft)+(0,r.int)(o.marginLeft),top:-R.offsetTop+(0,r.int)(a.paddingTop)+(0,r.int)(o.marginTop),right:(0,c.innerWidth)(n)-(0,c.outerWidth)(R)-R.offsetLeft+(0,r.int)(a.paddingRight)-(0,r.int)(o.marginRight),bottom:(0,c.innerHeight)(n)-(0,c.outerHeight)(R)-R.offsetTop+(0,r.int)(a.paddingBottom)-(0,r.int)(o.marginBottom)}}return(0,r.isNum)(w.right)&&(P=Math.min(P,w.right)),(0,r.isNum)(w.bottom)&&(x=Math.min(x,w.bottom)),(0,r.isNum)(w.left)&&(P=Math.max(P,w.left)),(0,r.isNum)(w.top)&&(x=Math.max(x,w.top)),[P,x]}function u(f,P,x){const w=Math.round(P/f[0])*f[0],R=Math.round(x/f[1])*f[1];return[w,R]}function y(f){return f.props.axis==="both"||f.props.axis==="x"}function p(f){return f.props.axis==="both"||f.props.axis==="y"}function m(f,P,x){const w=typeof P=="number"?(0,c.getTouch)(f,P):null;if(typeof P=="number"&&!w)return null;const R=g(x),O=x.props.offsetParent||R.offsetParent||R.ownerDocument.body;return(0,c.offsetXYFromParent)(w||f,O,x.props.scale)}function b(f,P,x){const w=!(0,r.isNum)(f.lastX),R=g(f);return w?{node:R,deltaX:0,deltaY:0,lastX:P,lastY:x,x:P,y:x}:{node:R,deltaX:P-f.lastX,deltaY:x-f.lastY,lastX:f.lastX,lastY:f.lastY,x:P,y:x}}function h(f,P){const x=f.props.scale;return{node:P.node,x:f.state.x+P.deltaX/x,y:f.state.y+P.deltaY/x,deltaX:P.deltaX/x,deltaY:P.deltaY/x,lastX:f.state.x,lastY:f.state.y}}function S(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function g(f){const P=f.findDOMNode();if(!P)throw new Error("<DraggableCore>: Unmounted during event!");return P}return I}var G={},re={},Ee;function Ue(){if(Ee)return re;Ee=1,Object.defineProperty(re,"__esModule",{value:!0}),re.default=r;function r(){}return re}var Ne;function ut(){if(Ne)return G;Ne=1,Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var r=S(ee()),c=b(le()),d=b(Fe()),u=ve(),y=Ae(),p=ue(),m=b(Ue());function b(O){return O&&O.__esModule?O:{default:O}}function h(O){if(typeof WeakMap!="function")return null;var i=new WeakMap,t=new WeakMap;return(h=function(n){return n?t:i})(O)}function S(O,i){if(O&&O.__esModule)return O;if(O===null||typeof O!="object"&&typeof O!="function")return{default:O};var t=h(i);if(t&&t.has(O))return t.get(O);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in O)if(a!=="default"&&Object.prototype.hasOwnProperty.call(O,a)){var s=o?Object.getOwnPropertyDescriptor(O,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=O[a]}return n.default=O,t&&t.set(O,n),n}function g(O,i,t){return i=f(i),i in O?Object.defineProperty(O,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):O[i]=t,O}function f(O){var i=P(O,"string");return typeof i=="symbol"?i:String(i)}function P(O,i){if(typeof O!="object"||O===null)return O;var t=O[Symbol.toPrimitive];if(t!==void 0){var n=t.call(O,i);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(O)}const x={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let w=x.mouse,R=class extends r.Component{constructor(){super(...arguments),g(this,"dragging",!1),g(this,"lastX",NaN),g(this,"lastY",NaN),g(this,"touchIdentifier",null),g(this,"mounted",!1),g(this,"handleDragStart",i=>{if(this.props.onMouseDown(i),!this.props.allowAnyClick&&typeof i.button=="number"&&i.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(i.target instanceof n.defaultView.Node)||this.props.handle&&!(0,u.matchesSelectorAndParentsTo)(i.target,this.props.handle,t)||this.props.cancel&&(0,u.matchesSelectorAndParentsTo)(i.target,this.props.cancel,t))return;i.type==="touchstart"&&i.preventDefault();const o=(0,u.getTouchIdentifier)(i);this.touchIdentifier=o;const a=(0,y.getControlPosition)(i,o,this);if(a==null)return;const{x:s,y:e}=a,l=(0,y.createCoreData)(this,s,e);(0,m.default)("DraggableCore: handleDragStart: %j",l),(0,m.default)("calling",this.props.onStart),!(this.props.onStart(i,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=e,(0,u.addEvent)(n,w.move,this.handleDrag),(0,u.addEvent)(n,w.stop,this.handleDragStop))}),g(this,"handleDrag",i=>{const t=(0,y.getControlPosition)(i,this.touchIdentifier,this);if(t==null)return;let{x:n,y:o}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,l=o-this.lastY;if([e,l]=(0,y.snapToGrid)(this.props.grid,e,l),!e&&!l)return;n=this.lastX+e,o=this.lastY+l}const a=(0,y.createCoreData)(this,n,o);if((0,m.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(i,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=o}),g(this,"handleDragStop",i=>{if(!this.dragging)return;const t=(0,y.getControlPosition)(i,this.touchIdentifier,this);if(t==null)return;let{x:n,y:o}=t;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,v=o-this.lastY||0;[l,v]=(0,y.snapToGrid)(this.props.grid,l,v),n=this.lastX+l,o=this.lastY+v}const a=(0,y.createCoreData)(this,n,o);if(this.props.onStop(i,a)===!1||this.mounted===!1)return!1;const e=this.findDOMNode();e&&this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(e.ownerDocument),(0,m.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,e&&((0,m.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(e.ownerDocument,w.move,this.handleDrag),(0,u.removeEvent)(e.ownerDocument,w.stop,this.handleDragStop))}),g(this,"onMouseDown",i=>(w=x.mouse,this.handleDragStart(i))),g(this,"onMouseUp",i=>(w=x.mouse,this.handleDragStop(i))),g(this,"onTouchStart",i=>(w=x.touch,this.handleDragStart(i))),g(this,"onTouchEnd",i=>(w=x.touch,this.handleDragStop(i)))}componentDidMount(){this.mounted=!0;const i=this.findDOMNode();i&&(0,u.addEvent)(i,x.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const i=this.findDOMNode();if(i){const{ownerDocument:t}=i;(0,u.removeEvent)(t,x.mouse.move,this.handleDrag),(0,u.removeEvent)(t,x.touch.move,this.handleDrag),(0,u.removeEvent)(t,x.mouse.stop,this.handleDragStop),(0,u.removeEvent)(t,x.touch.stop,this.handleDragStop),(0,u.removeEvent)(i,x.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(t)}}findDOMNode(){var i,t;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:d.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return G.default=R,g(R,"displayName","DraggableCore"),g(R,"propTypes",{allowAnyClick:c.default.bool,children:c.default.node.isRequired,disabled:c.default.bool,enableUserSelectHack:c.default.bool,offsetParent:function(O,i){if(O[i]&&O[i].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:c.default.arrayOf(c.default.number),handle:c.default.string,cancel:c.default.string,nodeRef:c.default.object,onStart:c.default.func,onDrag:c.default.func,onStop:c.default.func,onMouseDown:c.default.func,scale:c.default.number,className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),g(R,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),G}var ze;function ct(){return ze||(ze=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),r.default=void 0;var c=P(ee()),d=g(le()),u=g(Fe()),y=g(st),p=ve(),m=Ae(),b=ue(),h=g(ut()),S=g(Ue());function g(t){return t&&t.__esModule?t:{default:t}}function f(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(f=function(a){return a?o:n})(t)}function P(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=s?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,o&&o.set(t,a),a}function x(){return x=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},x.apply(this,arguments)}function w(t,n,o){return n=R(n),n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function R(t){var n=O(t,"string");return typeof n=="symbol"?n:String(n)}function O(t,n){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var a=o.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}class i extends c.Component{static getDerivedStateFromProps(n,o){let{position:a}=n,{prevPropsPosition:s}=o;return a&&(!s||a.x!==s.x||a.y!==s.y)?((0,S.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:s}),{x:a.x,y:a.y,prevPropsPosition:{...a}}):null}constructor(n){super(n),w(this,"onDragStart",(o,a)=>{if((0,S.default)("Draggable: onDragStart: %j",a),this.props.onStart(o,(0,m.createDraggableData)(this,a))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(o,a)=>{if(!this.state.dragging)return!1;(0,S.default)("Draggable: onDrag: %j",a);const s=(0,m.createDraggableData)(this,a),e={x:s.x,y:s.y,slackX:0,slackY:0};if(this.props.bounds){const{x:v,y:D}=e;e.x+=this.state.slackX,e.y+=this.state.slackY;const[_,E]=(0,m.getBoundPosition)(this,e.x,e.y);e.x=_,e.y=E,e.slackX=this.state.slackX+(v-e.x),e.slackY=this.state.slackY+(D-e.y),s.x=e.x,s.y=e.y,s.deltaX=e.x-this.state.x,s.deltaY=e.y-this.state.y}if(this.props.onDrag(o,s)===!1)return!1;this.setState(e)}),w(this,"onDragStop",(o,a)=>{if(!this.state.dragging||this.props.onStop(o,(0,m.createDraggableData)(this,a))===!1)return!1;(0,S.default)("Draggable: onDragStop: %j",a);const e={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:v,y:D}=this.props.position;e.x=v,e.y=D}this.setState(e)}),this.state={dragging:!1,dragged:!1,x:n.position?n.position.x:n.defaultPosition.x,y:n.position?n.position.y:n.defaultPosition.y,prevPropsPosition:{...n.position},slackX:0,slackY:0,isElementSVG:!1},n.position&&!(n.onDrag||n.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var n,o;return(n=(o=this.props)===null||o===void 0||(o=o.nodeRef)===null||o===void 0?void 0:o.current)!==null&&n!==void 0?n:u.default.findDOMNode(this)}render(){const{axis:n,bounds:o,children:a,defaultPosition:s,defaultClassName:e,defaultClassNameDragging:l,defaultClassNameDragged:v,position:D,positionOffset:_,scale:E,...j}=this.props;let H={},T=null;const z=!!!D||this.state.dragging,W=D||s,F={x:(0,m.canDragX)(this)&&z?this.state.x:W.x,y:(0,m.canDragY)(this)&&z?this.state.y:W.y};this.state.isElementSVG?T=(0,p.createSVGTransform)(F,_):H=(0,p.createCSSTransform)(F,_);const k=(0,y.default)(a.props.className||"",e,{[l]:this.state.dragging,[v]:this.state.dragged});return c.createElement(h.default,x({},j,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),c.cloneElement(c.Children.only(a),{className:k,style:{...a.props.style,...H},transform:T}))}}r.default=i,w(i,"displayName","Draggable"),w(i,"propTypes",{...h.default.propTypes,axis:d.default.oneOf(["both","x","y","none"]),bounds:d.default.oneOfType([d.default.shape({left:d.default.number,right:d.default.number,top:d.default.number,bottom:d.default.number}),d.default.string,d.default.oneOf([!1])]),defaultClassName:d.default.string,defaultClassNameDragging:d.default.string,defaultClassNameDragged:d.default.string,defaultPosition:d.default.shape({x:d.default.number,y:d.default.number}),positionOffset:d.default.shape({x:d.default.oneOfType([d.default.number,d.default.string]),y:d.default.oneOfType([d.default.number,d.default.string])}),position:d.default.shape({x:d.default.number,y:d.default.number}),className:b.dontSetMe,style:b.dontSetMe,transform:b.dontSetMe}),w(i,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(de)),de}var Te;function Be(){if(Te)return V.exports;Te=1;const{default:r,DraggableCore:c}=ct();return V.exports=r,V.exports.default=r,V.exports.DraggableCore=c,V.exports}var ne={},Me;function ft(){if(Me)return ne;Me=1,ne.__esModule=!0,ne.cloneElement=b;var r=c(ee());function c(h){return h&&h.__esModule?h:{default:h}}function d(h,S){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);S&&(f=f.filter(function(P){return Object.getOwnPropertyDescriptor(h,P).enumerable})),g.push.apply(g,f)}return g}function u(h){for(var S=1;S<arguments.length;S++){var g=arguments[S]!=null?arguments[S]:{};S%2?d(Object(g),!0).forEach(function(f){y(h,f,g[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):d(Object(g)).forEach(function(f){Object.defineProperty(h,f,Object.getOwnPropertyDescriptor(g,f))})}return h}function y(h,S,g){return S=p(S),S in h?Object.defineProperty(h,S,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[S]=g,h}function p(h){var S=m(h,"string");return typeof S=="symbol"?S:String(S)}function m(h,S){if(typeof h!="object"||h===null)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var f=g.call(h,S);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(h)}function b(h,S){return S.style&&h.props.style&&(S.style=u(u({},h.props.style),S.style)),S.className&&h.props.className&&(S.className=h.props.className+" "+S.className),r.default.cloneElement(h,S)}return ne}var J={},je;function Ke(){if(je)return J;je=1,J.__esModule=!0,J.resizableProps=void 0;var r=c(le());Be();function c(u){return u&&u.__esModule?u:{default:u}}var d={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var y=arguments.length,p=new Array(y),m=0;m<y;m++)p[m]=arguments[m];var b=p[0];if(b.axis==="both"||b.axis==="y"){var h;return(h=r.default.number).isRequired.apply(h,p)}return r.default.number.apply(r.default,p)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var y=arguments.length,p=new Array(y),m=0;m<y;m++)p[m]=arguments[m];var b=p[0];if(b.axis==="both"||b.axis==="x"){var h;return(h=r.default.number).isRequired.apply(h,p)}return r.default.number.apply(r.default,p)}};return J.resizableProps=d,J}var We;function $e(){if(We)return $;We=1,$.__esModule=!0,$.default=void 0;var r=m(ee()),c=Be(),d=ft(),u=Ke(),y=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function p(i){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(p=function(a){return a?n:t})(i)}function m(i,t){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var n=p(t);if(n&&n.has(i))return n.get(i);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in i)if(s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)){var e=a?Object.getOwnPropertyDescriptor(i,s):null;e&&(e.get||e.set)?Object.defineProperty(o,s,e):o[s]=i[s]}return o.default=i,n&&n.set(i,o),o}function b(){return b=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},b.apply(this,arguments)}function h(i,t){if(i==null)return{};var n={},o=Object.keys(i),a,s;for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&(n[a]=i[a]);return n}function S(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,o)}return n}function g(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(o){f(i,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))})}return i}function f(i,t,n){return t=P(t),t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function P(i){var t=x(i,"string");return typeof t=="symbol"?t:String(t)}function x(i,t){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var o=n.call(i,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function w(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,R(i,t)}function R(i,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},R(i,t)}var O=function(i){w(t,i);function t(){for(var o,a=arguments.length,s=new Array(a),e=0;e<a;e++)s[e]=arguments[e];return o=i.call.apply(i,[this].concat(s))||this,o.handleRefs={},o.lastHandleRect=null,o.slack=null,o}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(a,s){var e=this.props,l=e.minConstraints,v=e.maxConstraints,D=e.lockAspectRatio;if(!l&&!v&&!D)return[a,s];if(D){var _=this.props.width/this.props.height,E=a-this.props.width,j=s-this.props.height;Math.abs(E)>Math.abs(j*_)?s=a/_:a=s*_}var H=a,T=s,M=this.slack||[0,0],z=M[0],W=M[1];return a+=z,s+=W,l&&(a=Math.max(l[0],a),s=Math.max(l[1],s)),v&&(a=Math.min(v[0],a),s=Math.min(v[1],s)),this.slack=[z+(H-a),W+(T-s)],[a,s]},n.resizeHandler=function(a,s){var e=this;return function(l,v){var D=v.node,_=v.deltaX,E=v.deltaY;a==="onResizeStart"&&e.resetData();var j=(e.props.axis==="both"||e.props.axis==="x")&&s!=="n"&&s!=="s",H=(e.props.axis==="both"||e.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!j&&!H)){var T=s[0],M=s[s.length-1],z=D.getBoundingClientRect();if(e.lastHandleRect!=null){if(M==="w"){var W=z.left-e.lastHandleRect.left;_+=W}if(T==="n"){var F=z.top-e.lastHandleRect.top;E+=F}}e.lastHandleRect=z,M==="w"&&(_=-_),T==="n"&&(E=-E);var k=e.props.width+(j?_/e.props.transformScale:0),L=e.props.height+(H?E/e.props.transformScale:0),U=e.runConstraints(k,L);k=U[0],L=U[1];var ce=k!==e.props.width||L!==e.props.height,B=typeof e.props[a]=="function"?e.props[a]:null,Ve=a==="onResize"&&!ce;B&&!Ve&&(l.persist==null||l.persist(),B(l,{node:D,size:{width:k,height:L},handle:s})),a==="onResizeStop"&&e.resetData()}}},n.renderResizeHandle=function(a,s){var e=this.props.handle;if(!e)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:s});if(typeof e=="function")return e(a,s);var l=typeof e.type=="string",v=g({ref:s},l?{}:{handleAxis:a});return r.cloneElement(e,v)},n.render=function(){var a=this,s=this.props,e=s.children,l=s.className,v=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var D=s.resizeHandles;s.transformScale;var _=h(s,y);return(0,d.cloneElement)(e,g(g({},_),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(e.props.children,D.map(function(E){var j,H=(j=a.handleRefs[E])!=null?j:a.handleRefs[E]=r.createRef();return r.createElement(c.DraggableCore,b({},v,{nodeRef:H,key:"resizableHandle-"+E,onStop:a.resizeHandler("onResizeStop",E),onStart:a.resizeHandler("onResizeStart",E),onDrag:a.resizeHandler("onResize",E)}),a.renderResizeHandle(E,H))}))}))},t}(r.Component);return $.default=O,O.propTypes=u.resizableProps,O.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},$}var Q={},qe;function dt(){if(qe)return Q;qe=1,Q.__esModule=!0,Q.default=void 0;var r=b(ee()),c=p(le()),d=p($e()),u=Ke(),y=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function p(t){return t&&t.__esModule?t:{default:t}}function m(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(m=function(s){return s?o:n})(t)}function b(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=m(n);if(o&&o.has(t))return o.get(t);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=s?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,o&&o.set(t,a),a}function h(){return h=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},h.apply(this,arguments)}function S(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,a)}return o}function g(t){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?S(Object(o),!0).forEach(function(a){f(t,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(o,a))})}return t}function f(t,n,o){return n=P(n),n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function P(t){var n=x(t,"string");return typeof n=="symbol"?n:String(n)}function x(t,n){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var a=o.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function w(t,n){if(t==null)return{};var o={},a=Object.keys(t),s,e;for(e=0;e<a.length;e++)s=a[e],!(n.indexOf(s)>=0)&&(o[s]=t[s]);return o}function R(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,O(t,n)}function O(t,n){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},O(t,n)}var i=function(t){R(n,t);function n(){for(var a,s=arguments.length,e=new Array(s),l=0;l<s;l++)e[l]=arguments[l];return a=t.call.apply(t,[this].concat(e))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(v,D){var _=D.size;a.props.onResize?(v.persist==null||v.persist(),a.setState(_,function(){return a.props.onResize&&a.props.onResize(v,D)})):a.setState(_)},a}n.getDerivedStateFromProps=function(s,e){return e.propsWidth!==s.width||e.propsHeight!==s.height?{width:s.width,height:s.height,propsWidth:s.width,propsHeight:s.height}:null};var o=n.prototype;return o.render=function(){var s=this.props,e=s.handle,l=s.handleSize;s.onResize;var v=s.onResizeStart,D=s.onResizeStop,_=s.draggableOpts,E=s.minConstraints,j=s.maxConstraints,H=s.lockAspectRatio,T=s.axis;s.width,s.height;var M=s.resizeHandles,z=s.style,W=s.transformScale,F=w(s,y);return r.createElement(d.default,{axis:T,draggableOpts:_,handle:e,handleSize:l,height:this.state.height,lockAspectRatio:H,maxConstraints:j,minConstraints:E,onResizeStart:v,onResize:this.onResize,onResizeStop:D,resizeHandles:M,transformScale:W,width:this.state.width},r.createElement("div",h({},F,{style:g(g({},z),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},n}(r.Component);return Q.default=i,i.propTypes=g(g({},u.resizableProps),{},{children:c.default.element}),Q}var He;function pt(){return He||(He=1,K.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},K.exports.Resizable=$e().default,K.exports.ResizableBox=dt().default),K.exports}var ht=pt();function mt(r){return typeof r=="object"&&r!=null}function gt(r,c){return typeof r=="function"?r(c):r}function ke(r,c){if(r==null)return;const d=gt(r,c);if(d!=null)return[d,0]}const ie={key(r){return`${r}_resize`},get(r){try{const c=window.localStorage.getItem(ie.key(r))??"{}",d=JSON.parse(c);return mt(d)?(Object.entries(d).forEach(([u,y])=>{Number.isFinite(y)||delete d[u]}),d):{}}catch{return{}}},set(r,c){window.localStorage.setItem(ie.key(r),JSON.stringify(c))}};function yt(r,c){const{storageKey:d,min:u,max:y}=c??{},{columns:p}=r,[m,b]=N.useState(()=>d==null?{}:ie.get(d)),h=N.useCallback((f,P)=>{b(x=>{const w={...x,[`${f}`]:P};return d!=null&&ie.set(d,w),w})},[d]),S=N.useCallback((f,P)=>{const{column:x,columnWidths:w}=P;if(x.disableResize)return f;const R=ge(x),O=Number.isFinite(x.width)?x.width:w.get(R)??0;return C.jsx(ht.Resizable,{width:O,axis:"x",minConstraints:ke(x.minWidth??u,x),maxConstraints:ke(x.maxWidth??y,x),handle:C.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(i,{size:t})=>{h(R,t.width)},children:f})},[h,y,u]),g=N.useMemo(()=>p.map(f=>{const P=ge(f).toString(),x=m[P];return x!=null&&x!==f.width?{...f,width:x}:f}),[m,p]);return{...r,columns:g,renderHeaderCell:S}}const kt=te(yt),vt=r=>{const{colSpan:c,children:d}=r,{tableWidth:u}=Ie();return C.jsx("tr",{children:C.jsx("td",{colSpan:c,style:{padding:0},children:C.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:u<=0?void 0:u},children:d})})})};function bt(r,c){const{children:d,visible:u=!0}=c,{dataSource:y}=r,m=(Array.isArray(y)?y.length===0:!0)&&u,b=N.useMemo(()=>typeof d=="function"?N.createElement(d):d,[d]),h=N.useCallback((S,g)=>{const{columnDescriptor:f}=g;return C.jsxs(C.Fragment,{children:[S,C.jsx(vt,{colSpan:f.length,children:b},"virtual-table-placeholder$")]})},[b]);return m?{...r,renderBodyContent:h}:r}const Ft=te(bt),St=r=>{const{className:c,style:d,rowIndex:u,isExpanded:y,colSpan:p,children:m,fixed:b}=r,{updateRowHeight:h}=Le(),{tableWidth:S}=Ie();return C.jsx("tr",{className:A("virtual-table-expanded-row",c),style:{...d,display:y?void 0:"none"},ref:g=>{g!=null&&h(u,`row(${u})-expandable`,g.offsetHeight)},children:C.jsx("td",{colSpan:p,children:C.jsx("div",{className:A("virtual-table-cell",b&&"virtual-table-expanded-row-fixed"),style:{width:S<=0?void 0:S},children:m})})})},wt="VirtualTable.EXPANSION_COLUMN";function xt(r,c){const d=c==null,{rowKey:u,columns:y,dataSource:p}=r,{defaultExpandedRowKeys:m,expandedRowRender:b,columnTitle:h,expandRowByClick:S=!1,expandIcon:g,onExpand:f,defaultExpandAllRows:P=!1,showExpandColumn:x=!0,expandedRowClassName:w,rowExpandable:R,columnWidth:O=50,fixed:i,extraColumnProps:t}=c??{},n=N.useMemo(()=>p.map(T=>R?R(T):!1),[p,R]),o=Se(()=>n),a=N.useRef("expandedRowKeys"in(c??{})||"defaultExpandedRowKeys"in(c??{})?!1:P),s=Se(()=>a.current?p.map((M,z)=>o[z]?M[u]:null).filter(M=>M!=null):[]),e=N.useRef(new Set(m??s)),[l,v]=nt(c??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:m??s}),D=Je((T,M)=>{const z=fe(T,u);e.current.add(z),M==null?l.includes(z)?(v(l.filter(W=>W!==z)),f==null||f(!1,T)):(v([...l,z]),f==null||f(!0,T)):M?(v([...l,z]),f==null||f(!0,T)):(v(l.filter(W=>W!==z)),f==null||f(!1,T))}),_=ye(i),E=N.useCallback((T,M)=>{const{rowData:z,rowIndex:W,columnDescriptor:F}=M;if(o[W]){const L=fe(z,u),U=l.includes(L),ce=e.current.has(L);let B="";return typeof w=="string"?B=w:typeof w=="function"&&(B=w(z,W,0)),C.jsxs(C.Fragment,{children:[T,ce&&C.jsx(St,{className:B,rowIndex:W,isExpanded:U,colSpan:F.length,fixed:_,children:b==null?void 0:b(z,W,0,U)})]})}return T},[_,o,u,l,w,b]),j=N.useMemo(()=>x?[{...t,key:wt,title:h,width:O,fixed:i,render(T,M,z){const W=fe(M,u),F=o[z]??!1,k=l.includes(W);return typeof g=="function"?g({expandable:F,expanded:k,record:M,prefixCls:"virtual-table",onExpand:(L,U)=>{D(L)}}):F?C.jsx("button",{className:A("virtual-table-row-expand-icon",k?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":k?"关闭行":"展开行","aria-expanded":k,onClick:()=>{D(M,!k)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...y]:y,[x,h,O,i,y,u,o,l,g,D,t]),H=N.useCallback((T,M)=>o[M]?{onClick:z=>{z.stopPropagation(),D(T)}}:{},[o,D]);return d?r:{...r,columns:j,renderRow:E,onRow:S?H:void 0}}const It=te(xt);function Ot(r){const{column:c,className:d}=r,{align:u,fixed:y}=c,p=ge(c),{size:m}=Xe();return C.jsx("td",{className:A("virtual-table-cell",d,u!=null&&`virtual-table-align-${u}`,ye(y)&&"virtual-table-sticky-cell"),style:{left:oe(y)?m.get(p):void 0,right:ae(y)?m.get(p):void 0},children:C.jsx("div",{className:"virtual-table-loading-skeleton"})})}const Pt=N.memo(Ot);function Rt(r){const{descriptor:c,style:d,rowIndex:u}=r,{updateRowHeight:y}=Le(),p=Qe(c,b=>b.type==="blank"?!1:oe(b.column.fixed)),m=c.findIndex(b=>b.type==="blank"?!1:ae(b.column.fixed));return C.jsx("tr",{className:"virtual-table-row virtual-table-loading-cell",style:d,ref:b=>{b!=null&&y(u,u,b.offsetHeight)},children:c.map((b,h)=>{const{key:S}=b;if(b.type==="blank")return C.jsx("td",{},S);const{column:g}=b;return C.jsx(Pt,{className:A(p===h&&"virtual-table-cell-fix-left-last",m===h&&"virtual-table-cell-fix-right-first"),column:g},S)})})}const Dt=N.memo(Rt),Ct=[];function _t(r,c){const{loading:d=!1}=c??{},{estimatedRowHeight:u,headerWrapperRef:y,getScroller:p}=r,[m,b]=N.useState(10);N.useEffect(()=>{const S=y.current,g=p();if(g!=null)return Ze(g,({height:f})=>{const P=(S==null?void 0:S.offsetHeight)??0;b(Math.ceil((f-P)/u))})},[p,y,u]);const h=N.useMemo(()=>Array.from({length:m},(S,g)=>({key:g})),[m]);return d?{...r,dataSource:Ct,renderBodyContent:(S,{columnDescriptor:g,startRowIndex:f})=>h.map((P,x)=>C.jsx(Dt,{style:{height:u},descriptor:g,rowIndex:x+f},P.key))}:r}const Lt=te(_t),se=N.createContext(null),Et=r=>{const{className:c,style:d,zIndex:u,bottom:y,columns:p,fixed:m,children:b}=r,{listen:h,notify:S}=et(),[g]=N.useState(()=>tt().height),f=N.useRef(null);return N.useEffect(()=>{const P=f.current;if(P==null)return;const x="virtual-table-summary",w=()=>{S(x,{scrollLeft:()=>P.scrollLeft,node:P})},R=h(x,O=>{P.scrollLeft=O});return P.addEventListener("scroll",w),()=>{P.removeEventListener("scroll",w),R()}},[h,S]),C.jsx("div",{className:A("virtual-table-summary-wrapper",m&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border",c),style:{...m?{"--virtual-table-summary-z-index":u,"--virtual-table-summary-sticky-bottom":Number.isFinite(y)?`${y}px`:y}:{},...d,paddingBottom:g},ref:f,children:C.jsxs("table",{className:"virtual-table-summary",children:[C.jsx(rt,{columns:p}),C.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:b})]})})};function Nt(r){var w;const{className:c,style:d,children:u,align:y,colSpan:p,columnKey:m,...b}=r,{size:h,fixed:S}=Xe(),g=m==null?0:h.get(m),f=(w=S.find(R=>R.key===m))==null?void 0:w.fixed,{left:P,right:x}=N.useMemo(()=>{var i;const R=S.reduce((t,n)=>oe(n.fixed)?n.key:t,void 0),O=(i=S.find(t=>ae(t.fixed)))==null?void 0:i.key;return{left:R,right:O}},[S]);return p===0?null:C.jsx("td",{...b,colSpan:p,className:A("virtual-table-cell virtual-table-summary-cell",y!=null&&`virtual-table-align-${y}`,ye(f)&&"virtual-table-sticky-cell",P===m&&"virtual-table-cell-fix-left-last",x===m&&"virtual-table-cell-fix-right-first",c),style:{...d,left:oe(f)?g:void 0,right:ae(f)?g:void 0},children:u})}const be=N.memo(Nt);function zt(r){const{dataSource:c,...d}=r,u=N.useContext(se);if(u==null)throw new Error("SummaryOutlet is missing the columns context and cannot use children as a function.");return C.jsx("tr",{...d,children:u.map(y=>{const{key:p}=y;if(y.type==="blank")return C.jsx("td",{},p);const{column:m}=y,{render:b,...h}=m.summary??{};return N.createElement(be,{...h,key:p,columnKey:p},b==null?void 0:b(c))})})}const Tt=({children:r,...c})=>{const d=N.useContext(se);if(typeof r=="function"){if(d!=null)return C.jsx("tr",{...c,children:d.map(u=>{const{key:y}=u;if(u.type==="blank")return C.jsx("td",{},y);const{column:p}=u;let m=r(p,y);return N.isValidElement(m)&&m.type===be&&(m=N.cloneElement(m,{columnKey:y})),C.jsx(N.Fragment,{children:m},y)})});throw new Error("SummaryRow is missing the columns context and cannot use children as a function.")}return C.jsx("tr",{...c,children:r})};function Z({children:r}){return r}Z.Row=Tt;Z.Cell=be;Z.Outlet=zt;function Mt(r,c){const{className:d,style:u,zIndex:y,bottom:p,summary:m}=c??{},{dataSource:b}=r;let h=!1,S=!1;const g=m==null?void 0:m(b),f=[],P=[],x=w=>{const R=w.props.fixed;R==="top"?(h=!0,f.push(w)):((R==="bottom"||R===!0)&&(S=!0),P.push(w))};if(m==null)return r;if(N.isValidElement(g))if(g.type===N.Fragment){const w=g.props.children;N.Children.forEach(w,R=>{N.isValidElement(R)&&R.type===Z&&x(R)})}else g.type===Z&&x(g);else return r;return{...r,...h?{renderHeader:(w,{columnDescriptor:R})=>C.jsxs(C.Fragment,{children:[w,C.jsx("tfoot",{className:A("virtual-table-summary-tfoot",d),style:u,children:C.jsx(se.Provider,{value:R,children:f})})]})}:{},...S?{renderContent(w,{columnDescriptor:R}){return C.jsxs(C.Fragment,{children:[w,C.jsx(Et,{className:d,style:u,zIndex:y,bottom:p,fixed:S,columns:R,children:C.jsx(se.Provider,{value:R,children:P})})]})}}:{}}}const Xt=te(Mt);export{Z as S,Xt as a,Lt as b,kt as c,Ft as d,It as t};
