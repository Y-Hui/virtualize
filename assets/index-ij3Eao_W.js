var Ge=Object.defineProperty;var Je=(e,t,n)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>Je(e,typeof t!="symbol"?t+"":t,n);import{r as s,j as g}from"./index-BepQum1n.js";function fe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=fe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function B(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=fe(e))&&(r&&(r+=" "),r+=t);return r}function ue(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(let c=0;c<o;c+=1){const i=n[c];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}function Y(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=e.length;if(t.length!==n)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}function he(e,t){return Object.is(e,t)?!0:Array.isArray(e)&&Array.isArray(t)?Y(e,t)?!0:e.length===t.length&&e.findIndex(r=>typeof r=="object"&&r!=null)>-1?e.every((r,o)=>Array.isArray(r)?Y(r,t[o]):typeof r=="object"&&r!=null?ue(r,t[o]):Object.is(r,t[o])):!1:typeof e=="object"&&e!=null?ue(e,t):!1}function ae(e){const t=e(),n=s.useRef(t);return he(t,n.current)||(n.current=t),n.current}function _(e){return"key"in e?e.key:e.dataIndex}function K(e){return e==="left"}function P(e){return e==="right"}function pe(e){return K(e)||P(e)}const me=s.createContext(null);function te(){const e=s.useContext(me);if(e==null)throw new Error("useColumnSizes provider not found");return e}const ye=s.createContext(null);function Ze(e){const{columns:t,children:n}=e,{widthList:r}=te(),o=s.useMemo(()=>t.map(w=>({key:_(w),fixed:w.fixed})),[t]),c=s.useMemo(()=>{let w=0;const p=o.reduce((y,C,R)=>{const{fixed:h,key:b}=C;return K(h)&&(y[R]=w,w+=r.get(b)??0),y},[]);let m=0;const a=o.reduceRight((y,C,R)=>{const{fixed:h,key:b}=C;return P(h)&&(y[R]=m,m+=r.get(b)??0),y},[]);return o.reduce((y,C,R)=>{const{key:h,fixed:b}=C;return K(b)?(y.set(h,p[R]),y):(P(b)&&y.set(h,a[R]),y)},new Map)},[o,r]),i=ae(()=>o),u=ae(()=>c),f=s.useMemo(()=>({size:u,fixed:i}),[i,u]);return g.jsx(ye.Provider,{value:f,children:n})}function xe(){const e=s.useContext(ye);if(e==null)throw new Error("useTableSticky provider not found");return e}function D(e,t,n){return typeof t=="function"?t(e,n):e}function et(e,t,n){const{render:r}=n,o=t;if("dataIndex"in n){const c=n.dataIndex;return typeof r!="function"?o[c]:r(o[c],t,e)}return(r==null?void 0:r(t,t,e))??null}function tt(e){const{className:t,style:n,column:r,rowData:o,rowIndex:c,renderCell:i,...u}=e,{align:f,fixed:w,onCell:p}=r,m=_(r),{size:a}=xe(),{className:y,style:C,colSpan:R,rowSpan:h,...b}=(p==null?void 0:p(o,c))??{};return R===0||h===0?null:D(g.jsx("td",{...u,...b,colSpan:R,rowSpan:h,className:B("virtual-table-cell",f!=null&&`virtual-table-align-${f}`,pe(w)&&"virtual-table-sticky-cell",t,r.className,y),style:{...n,...C,left:K(w)?a.get(m):void 0,right:P(w)?a.get(m):void 0},children:et(c,o,r)}),i,{column:r})}const nt=s.memo(tt),ge=e=>{const{columns:t,colRef:n}=e;return g.jsx("colgroup",{children:t.map((r,o)=>{const{key:c}=r;if(r.type==="blank")return g.jsx("col",{style:{width:r.width}},c);const{column:i}=r;return g.jsx("col",{ref:typeof n=="function"?u=>{n(u,i,o)}:n,style:{width:i.width,minWidth:i.minWidth}},c)})})},rt=/auto|scroll|overlay|hidden/;function we(e){return e instanceof Node?e.nodeType===1:!1}function ot(e,t=window){let n=e;for(;n!==t&&we(n);){if(n===document.body)return t;const{overflow:r,overflowY:o,overflowX:c}=window.getComputedStyle(n);if(rt.test(r+o+c))return n;n=n.parentNode}return e.ownerDocument.defaultView??window}function J(e){return Object.prototype.toString.call(e)==="[object Window]"}function st(e){return Object.prototype.toString.call(e)==="[object HTMLDocument]"}function Re(e){return Object.prototype.toString.call(e)==="[object HTMLHtmlElement]"}function de(e){return st(e)?e.scrollingElement:we(e)?e:document.scrollingElement}function ct(e){const{getScroller:t,root:n}=e,[r,o]=s.useState(0),[c,i]=s.useState(0),[u,f]=s.useState(0),[w,p]=s.useState(0),m=s.useRef(null);return s.useLayoutEffect(()=>{const a=t();if(a==null)return;let y;J(a)?y=document.scrollingElement:y=a,m.current=y;const C=new ResizeObserver(R=>{const{width:h,height:b}=R[0].contentRect;o(h),i(b)});return C.observe(y),()=>{C.disconnect()}},[t]),s.useLayoutEffect(()=>{const a=n.current;if(a==null)return;const y=new ResizeObserver(C=>{const{width:R,height:h}=C[0].contentRect;f(R),p(h)});return y.observe(a),()=>{y.disconnect()}},[n]),{scrollContainerWidth:r,scrollContainerHeight:c,tableWidth:u,tableHeight:w}}const be=s.createContext(null);function lt(e){const{getScroller:t,root:n,children:r}=e,{scrollContainerHeight:o,scrollContainerWidth:c,tableHeight:i,tableWidth:u}=ct({getScroller:t,root:n}),f=s.useMemo(()=>({scrollContainerWidth:c,scrollContainerHeight:o,tableWidth:u,tableHeight:i}),[c,o,u,i]);return g.jsx(be.Provider,{value:f,children:r})}function zt(){const e=s.useContext(be);if(e==null)throw new Error("useContainerSize provider not found");return e}const Ce=s.createContext(null);function it(e){const{children:t}=e,n=s.useRef(new Map),r=s.useMemo(()=>({listen(o,c){return n.current.set(o,c),()=>{n.current.delete(o)}},notify(o,c){let i=window.requestAnimationFrame;i==null&&(i=u=>{u()}),i(()=>{n.current.forEach((u,f)=>{f!==o&&u(c)})})}}),[]);return g.jsx(Ce.Provider,{value:r,children:t})}function ne(){const e=s.useContext(Ce);if(e==null)throw new Error("useHorizontalScrollContext provider not found");return e}const Se=s.createContext(null);function ut(){const e=s.useContext(Se);if(e==null)throw new Error("useTableRowManager provider not found");return e}function ee(e){const t=s.useRef(null);return s.useLayoutEffect(()=>{t.current=e},[e]),s.useCallback((...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}function at(e){const t={current:null,options:null};return(...n)=>{const r=o=>e(o,...n);return he(n,t.options)?t.current??r:(t.options=n,t.current=r,r)}}function dt(e){return Array.isArray(e)?e.filter(t=>t!=null&&(typeof t=="function"||typeof t.hook=="function")).map(t=>typeof t=="function"?{priority:100,hook:t}:t):[]}const G=class G{constructor(){Z(this,"hooks",[]);this.use=this.use.bind(this)}setHooks(t){this.hooks=t}use(t){if(this.hooks.length===0)return t;const n={current:t},r={render:[],renderRoot:[],renderContent:[],renderHeaderWrapper:[],renderHeaderRoot:[],renderHeader:[],renderHeaderRow:[],renderHeaderCell:[],renderBodyWrapper:[],renderBodyRoot:[],renderBody:[],renderRow:[],renderCell:[]},o=[],c=[],i=this.hooks.slice();return i.sort((u,f)=>u.priority-f.priority),i.map(u=>u.hook).forEach(u=>{const f=u(n.current),{render:w,renderRoot:p,renderContent:m,renderHeaderWrapper:a,renderHeaderRoot:y,renderHeader:C,renderHeaderRow:R,renderHeaderCell:h,renderBodyWrapper:b,renderBodyRoot:E,renderBody:W,renderRow:v,renderCell:T,rowClassName:N,onRow:z,...k}=f;Object.entries(r).forEach(([j,L])=>{const H=f[j];typeof H=="function"&&L.push(H)}),typeof N=="function"&&o.push(N),typeof z=="function"&&c.push(z),n.current=k}),Object.entries(r).forEach(([u,f])=>{f.length>0&&(n.current[u]=(w,p)=>f.reduce((m,a)=>a(m,p),w))}),o.length>0&&(n.current.rowClassName=(u,f)=>B(...o.map(w=>w(u,f)))),c.length>0&&(n.current.onRow=(u,f)=>c.reduce((w,p)=>({...w,...p(u,f)}),{})),n.current}};Z(G,"defaultPipeline",new G);let q=G;function Tt(e){const{use:t,pipeline:n}=e,r=s.useMemo(()=>({current:new q}),[]);if(t!=null){const o=dt([...t,...(n==null?void 0:n.hooks)??[]]);if(!Y(r.current.hooks,o)){const c=new q;return c.setHooks(o),r.current=c,c}}return r.current}function re(e,t){let n=-1;for(let r=0;r<e.length;r+=1)t(e[r],r)&&(n=r);return n}function ft(e){const{className:t,rowIndex:n,rowData:r,columns:o,onRow:c,renderRow:i,renderCell:u,...f}=e,{updateRowHeight:w}=ut(),{columns:p,descriptor:m}=o,a=re(m,h=>h.type==="blank"?!1:K(h.column.fixed)),y=m.findIndex(h=>h.type==="blank"?!1:P(h.column.fixed)),{className:C,...R}=(c==null?void 0:c(r,n))??{};return D(g.jsx("tr",{...f,...R,className:B("virtual-table-row",t,C),ref:h=>{h!=null&&w(n,h.offsetHeight)},children:m.map((h,b)=>{const{key:E}=h;if(h.type==="blank")return g.jsx("td",{},E);const{column:W}=h;return g.jsx(nt,{className:B(a===b&&"virtual-table-cell-fix-left-last",y===b&&"virtual-table-cell-fix-right-first"),column:W,rowIndex:n,rowData:r,renderCell:u},E)})}),i,{columns:p,rowIndex:n,rowData:r,columnDescriptor:m})}const ht=s.memo(ft);function pt(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function mt(...e){return t=>{e.forEach(n=>pt(n,t))}}function V(...e){return s.useCallback(mt(...e),e)}function yt(e){const{bodyWrapperRef:t,bodyRootRef:n,bodyRef:r,className:o,style:c,dataSource:i,columns:u,rowKey:f,startIndex:w,rowClassName:p,onRow:m,renderBodyWrapper:a,renderBodyRoot:y,renderBody:C,renderRow:R,renderCell:h}=e,{columns:b,descriptor:E}=u,{listen:W,notify:v}=ne(),{widthList:T,setWidthList:N}=te(),z=s.useRef(new Map);s.useLayoutEffect(()=>{const l=T,d=[...l.keys()],x=[...z.current.keys()],S=[...l.values()],I=[...z.current.values()];(!Y(d,x)||!Y(S,I))&&N(new Map(z.current))});const k=D(g.jsx("tbody",{ref:r,children:i.map((l,d)=>{const x=l[f];return g.jsx(ht,{className:B(p==null?void 0:p(l,d)),rowIndex:d+w,rowData:l,columns:u,onRow:m,renderRow:R,renderCell:h},x)})}),C,{columns:b,columnDescriptor:E}),j=D(g.jsxs("table",{className:B(o,"virtual-table-body"),style:c,ref:n,children:[g.jsx(ge,{columns:E,colRef:(l,d)=>{if(l==null)return;const x=_(d);z.current.set(x,l.offsetWidth)}}),k]}),y,{columns:b,columnDescriptor:E}),L=s.useRef(null);s.useEffect(()=>{const l=L.current;if(l==null)return;const d="virtual-table-body",x=()=>{const I=l.scrollLeft;v(d,I)},S=W(d,I=>{l.scrollLeft=I});return l.addEventListener("scroll",x),()=>{l.removeEventListener("scroll",x),S()}},[W,v]);const H=V(L,t);return D(g.jsx("div",{ref:H,className:"virtual-table-body-wrapper",children:j}),a,{columns:b,columnDescriptor:E})}const xt=e=>{const{className:t,style:n,wrapperRef:r,columns:o,stickyHeader:c,renderHeaderWrapper:i,renderHeaderRoot:u,renderHeader:f,renderHeaderRow:w,renderHeaderCell:p}=e,{columns:m,descriptor:a}=o,{widthList:y}=te(),{size:C}=xe(),R=re(a,k=>k.type==="blank"?!1:K(k.column.fixed)),h=a.findIndex(k=>k.type==="blank"?!1:P(k.column.fixed)),{listen:b,notify:E}=ne(),W=s.useRef(null);s.useEffect(()=>{const k=W.current;if(k==null)return;const j="virtual-table-header",L=()=>{const l=k.scrollLeft;E(j,l)},H=b(j,l=>{k.scrollLeft=l});return k.addEventListener("scroll",L),()=>{k.removeEventListener("scroll",L),H()}},[b,E]);const v=D(g.jsx("tr",{children:a.map((k,j)=>{var S;const{key:L}=k;if(k.type==="blank")return g.jsx("th",{},L);const{column:H}=k;if(H.colSpan===0)return null;const{className:l,style:d,...x}=((S=H.onHeaderCell)==null?void 0:S.call(H,H,j))??{};return g.jsx(s.Fragment,{children:D(s.createElement("th",{scope:"col",...x,colSpan:H.colSpan,className:B("virtual-table-header-cell",H.align!=null&&`virtual-table-align-${H.align}`,pe(H.fixed)&&"virtual-table-sticky-cell",R===j&&"virtual-table-cell-fix-left-last",h===j&&"virtual-table-cell-fix-right-first",H.className,l),style:{...d,left:K(H.fixed)?C.get(L):void 0,right:P(H.fixed)?C.get(L):void 0}},H.title),p,{column:H,columns:m,columnWidths:y,columnDescriptor:a})},L)})}),w,{columns:m,columnDescriptor:a}),T=D(g.jsx("thead",{className:"virtual-table-thead",children:v}),f,{columns:m,columnDescriptor:a}),N=D(g.jsxs("table",{style:n,children:[g.jsx(ge,{columns:a}),T]}),u,{columns:m,columnDescriptor:a}),z=V(r,W);return D(g.jsx("div",{ref:z,className:B("virtual-table-header",t,{"virtual-table-header-sticky":c}),style:{top:Number.isFinite(c)?c:void 0},children:N}),i,{columns:m,columnDescriptor:a})};function oe(e,t){if(J(e)){const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}else{const n=new ResizeObserver(r=>{const o=r[0].contentRect;t({width:o.width,height:o.height})});return n.observe(e),()=>{n.disconnect()}}}function gt(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const c=Math.floor((n+r)/2);e[c].right>t?(o=c,r=c-1):n=c+1}if(o!==-1)return e[o]}function wt(e){let t=-1;for(let n=e.length-1;n>=0;n--){const r=e[n];if(P(r.fixed))t=n;else break}return t}function Rt(e){return re(e,t=>K(t.fixed))}function bt(e){const{estimateSize:t,overscan:n,columns:r,bodyWrapper:o,columnWidths:c,disabled:i=!1}=e,u=Rt(r),f=wt(r),w=u>-1?_(r[u]):null,p=f>-1?_(r[f]):null,[m,a]=s.useState(0),[y,C]=s.useState(0),R=s.useMemo(()=>{if(i)return[];let l=0;return r.map((d,x)=>{const S=_(d),I=c.get(S)??t,$=l+I,F={index:x,width:I,left:l,right:$};return l=$,F})},[r,c,t,i]),h=s.useRef({index:0,width:t,left:0,right:t}),b=ee(l=>gt(R,l)),E=ee((l,d)=>{const x=b(l);x!=null&&(h.current=x,a(Math.max(0,x.index-n)),C(x.index+d+n))}),W=s.useRef(0);s.useEffect(()=>{if(i)return;const l=o.current;if(l==null)return;const d=l.offsetWidth;let x=Math.ceil(d/t);const S=()=>{const F=l.scrollLeft;F>W.current?F>h.current.right&&E(F,x):F<h.current.left&&E(F,x),W.current=F};l.addEventListener("scroll",S);let I=0;const $=oe(l,({width:F})=>{if(F===I||F===0)return;I=F;const Q=l.scrollLeft;x=Math.ceil(F/t),E(Q,x)});return()=>{l.removeEventListener("scroll",S),$()}},[o,t,E,n,b,i]);const v=(l,d)=>R.slice(l,d).reduce((x,S)=>x+S.width,0),T=u>-1?v(0,u+1):0,N=f>-1?v(f):0,z=Math.max(0,v(0,m)-T),k=Math.max(0,v(y)-N),j=s.useMemo(()=>{if(i)return r;const l=[...r.slice(0,u+1),...r.slice(m,y),...r.slice(f)],d=new Set;return l.filter(x=>{const S=_(x);return d.has(S)?!1:(d.add(S),!0)})},[i,r,m,y,u,f]),L=s.useMemo(()=>j.reduce((l,d)=>{const x=_(d);return x===w?(l.push({key:x,type:"normal",column:d}),l.push({key:"_blank_left",type:"blank",width:z})):x===p?(l.push({key:"_blank_right",type:"blank",width:k}),l.push({key:x,type:"normal",column:d})):l.push({key:x,type:"normal",column:d}),l},[]),[j,w,p,z,k]);return{columns:s.useMemo(()=>({columns:j,descriptor:L}),[j,L]),columnSlice:j,lastFixedLeftIndex:u,firstFixedRightIndex:f}}function Ct(e){const{itemCount:t,estimateSize:n,onChange:r}=e,o=s.useRef([]);(()=>{for(let p=0;p<t;p+=1)o.current[p]==null&&(o.current[p]=n);o.current=o.current.slice(0,t)})();const i=s.useRef([]),u=()=>{const p=[];let m=0;o.current.forEach((a,y)=>{y!==0&&(m+=a),p.push({index:y,height:a,top:m,bottom:m+a})}),i.current=p},f=ee((p,m)=>{o.current[p]=m,u(),r==null||r(p,m,i.current)});return{rowHeightList:o,updateRowHeight:f,sum:(p,m)=>o.current.slice(p,m).reduce((a,y)=>a+y,0),rects:s.useCallback(()=>i.current,[])}}function St(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const c=Math.floor((n+r)/2);e[c].bottom>t?(o=c,r=c-1):n=c+1}if(o!==-1)return e[o]}function vt(e){const{getOffsetTop:t,dataSource:n,getScroller:r,estimateSize:o,overscan:c}=e,[i,u]=s.useState(0),[f,w]=s.useState(0),p=s.useRef({index:0,height:o,top:0,bottom:o}),{rowHeightList:m,rects:a,updateRowHeight:y,sum:C}=Ct({itemCount:n.length,estimateSize:o,onChange(v,T,N){p.current.index===v&&(p.current=N[v])}}),R=s.useRef(0),h=s.useRef(!1);s.useEffect(()=>{const v=r();if(v==null)return;let T=0;const N=()=>{const l=t();let d=0;return J(v)||Re(v)?d=window.scrollY:d=de(v).scrollTop,Math.max(d-l,0)},z=l=>{const d=T;return T=Math.ceil(l/o),{prevCount:d}},k=l=>{const d=St(a(),l);d!=null&&(p.current=d,u(Math.max(0,d.index-c)),w(d.index+T+c))},j=l=>{const d=t(),x=de(l.target),S=Math.max(0,x.scrollTop-d);S>R.current?S>p.current.bottom&&k(S):S<p.current.top&&k(S),R.current=S};let L=0;const H=oe(v,l=>{if(l.height===L||l.height===0)return;L=l.height,z(l.height);const d=N();if(h.current)k(d);else{h.current=!0;let x=0;d>=o&&(x=Math.max(Math.floor(d/o)-1-c,0));const S=x+T+c;u(x),w(S)}});return v.addEventListener("scroll",j),()=>{H(),v.removeEventListener("scroll",j)}},[o,t,r,c,a]);const b=C(0,i),E=C(f),W=s.useMemo(()=>n.slice(i,f),[n,i,f]);return{startIndex:i,endIndex:f,rowHeightList:m,updateRowHeight:y,topBlank:b,bottomBlank:E,dataSlice:W}}function kt(e,t){const{className:n,style:r,children:o,hasFixedLeftColumn:c,hasFixedRightColumn:i,renderRoot:u,bodyScrollContainer:f}=e,w=s.useRef(null),[p,m]=s.useState(!1),[a,y]=s.useState(!1);s.useEffect(()=>{const R=f.current;if(R==null)return;const h=()=>{const{scrollLeft:b,clientWidth:E,scrollWidth:W}=R;c&&m(b!==0),i&&y(!(b+E>=W))};return h(),R.addEventListener("scroll",h),()=>{R.removeEventListener("scroll",h)}},[f,c,i]);const C=V(t,w);return D(g.jsx("div",{ref:C,className:B("virtual-table",p&&"virtual-table-has-fix-left",a&&"virtual-table-has-fix-right",n),style:r,children:o}),u,{})}const Ht=s.forwardRef(kt);function Et(e,t){const{bodyRootRef:n,className:r,style:o,tableBodyClassName:c,tableBodyStyle:i,columns:u,dataSource:f,rowKey:w="key",estimatedRowHeight:p=46,estimatedColumnWidth:m,overscanRows:a=5,overscanColumns:y=3,stickyHeader:C,pipeline:R=q.defaultPipeline,rowClassName:h,onRow:b,getOffsetTop:E,virtualHeader:W=!1}=e,v=s.useRef(null),T=s.useRef(null),N=s.useRef(null),z=s.useRef(null),k=V(z,n),j=s.useRef(null),L=s.useCallback(()=>{const M=v.current;if(M!=null)return ot(M)},[]),H=s.useCallback(()=>{var O,ie;if(typeof E=="function")return E();const M=L();if(M===v.current)return 0;if(J(M)||Re(M)){const Xe=((O=v.current)==null?void 0:O.getBoundingClientRect().top)??0;return window.scrollY+Xe}return((ie=v.current)==null?void 0:ie.offsetTop)??0},[E,L]),{dataSource:l,columns:d,rowKey:x,rowClassName:S,render:I,renderRoot:$,renderContent:F,renderHeaderWrapper:Q,renderHeaderRoot:ve,renderHeader:ke,renderHeaderRow:He,renderHeaderCell:Ee,renderBodyWrapper:Le,renderBodyRoot:je,renderBody:Me,renderRow:We,renderCell:Ne,onRow:U}=R.use({dataSource:f,rowKey:w,columns:u,estimatedRowHeight:p,headerWrapperRef:T,bodyWrapperRef:N,bodyRootRef:z,bodyRef:j,rootRef:v,getOffsetTop:H,getScroller:L}),[X,ze]=s.useState(()=>new Map),Te=s.useRef(X),Fe=M=>{Te.current=M,ze(M)},Ie=s.useMemo(()=>({widthList:X,setWidthList:Fe}),[X]),{startIndex:De,dataSlice:Be,updateRowHeight:se,rowHeightList:ce,topBlank:Oe,bottomBlank:_e}=vt({getOffsetTop:H,dataSource:l,getScroller:L,estimateSize:p,overscan:a}),{columns:A}=bt({estimateSize:m??100,overscan:y,columns:d,bodyWrapper:N,columnWidths:X,disabled:m==null}),Ke=s.useCallback((M,O)=>B(h==null?void 0:h(M,O),S==null?void 0:S(M,O)),[h,S]),Pe=s.useCallback((M,O)=>({...b==null?void 0:b(M,O),...U==null?void 0:U(M,O)}),[U,b]),Ae=d.some(M=>K(M.fixed)),$e=d.some(M=>P(M.fixed)),Ye=s.useMemo(()=>({getRowHeightList(){return ce.current},updateRowHeight:se}),[ce,se]),le=s.useMemo(()=>({columns:d,descriptor:d.map(M=>({key:_(M),type:"normal",column:M}))}),[d]),qe=s.useMemo(()=>W?A:le,[W,le,A]),Ve=D(g.jsxs(g.Fragment,{children:[g.jsx(xt,{wrapperRef:T,columns:qe,stickyHeader:C,renderHeaderWrapper:Q,renderHeaderRoot:ve,renderHeader:ke,renderHeaderRow:He,renderHeaderCell:Ee}),g.jsx(yt,{bodyWrapperRef:N,bodyRootRef:k,bodyRef:j,className:c,style:{...i,paddingBottom:_e,paddingTop:Oe},columns:A,rowKey:x,dataSource:Be,startIndex:De,rowClassName:Ke,onRow:Pe,renderBodyWrapper:Le,renderBodyRoot:je,renderBody:Me,renderRow:We,renderCell:Ne})]}),F,{columns:A.columns,columnDescriptor:A.descriptor}),Qe=V(v,t),Ue=D(g.jsx(Ht,{ref:Qe,className:r,style:o,hasFixedLeftColumn:Ae,hasFixedRightColumn:$e,renderRoot:$,bodyScrollContainer:N,children:Ve}),I,{columns:A.columns,columnDescriptor:A.descriptor});return g.jsx(Se.Provider,{value:Ye,children:g.jsx(me.Provider,{value:Ie,children:g.jsx(Ze,{columns:d,children:g.jsx(lt,{getScroller:L,root:v,children:g.jsx(it,{children:Ue})})})})})}const Ft=s.memo(s.forwardRef(Et));function Lt(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}const jt=e=>{const{className:t,style:n,bottom:r,zIndex:o,bodyRef:c}=e,{listen:i,notify:u}=ne(),f=s.useRef(null);s.useEffect(()=>{const a=f.current;if(a==null)return;const y="virtual-table-sticky-bottom-scroll",C=()=>{const h=a.scrollLeft;u(y,h)},R=i(y,h=>{a.scrollLeft=h});return a.addEventListener("scroll",C),()=>{a.removeEventListener("scroll",C),R()}},[i,u]);const[w,p]=s.useState(0);s.useEffect(()=>{const a=c.current;if(a!=null)return oe(a,({width:y})=>{y!==0&&p(y)})},[c]);const[m]=s.useState(Lt);return g.jsx("div",{className:B("virtual-table-sticky-scroll",t),style:{...n,paddingTop:m.height>0?0:12,marginTop:m.height>0?0:m.height*-1,height:m.height,bottom:r,zIndex:o},ref:f,children:g.jsx("div",{className:"virtual-table-sticky-scroll-bar",style:{width:w}})})};function Mt(e,t){const{bodyRootRef:n}=e;return{...e,renderContent(r){return g.jsxs(g.Fragment,{children:[r,g.jsx(jt,{bodyRef:n,...t})]})}}}const It=at(Mt);export{ge as C,Ft as V,at as a,zt as b,B as c,ut as d,ae as e,ee as f,_ as g,It as h,pe as i,ne as j,Lt as k,xe as l,K as m,P as n,oe as o,V as p,Tt as u};
