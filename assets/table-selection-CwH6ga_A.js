var hr=Object.defineProperty;var mr=(e,t,r)=>t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ue=(e,t,r)=>mr(e,typeof t!="symbol"?t+"":t,r);import{r as u,j as b,g as gr,a as Dt}from"./index-CMV7V6cL.js";function Nt(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Nt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function B(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Nt(e))&&(n&&(n+=" "),n+=t);return n}const _t=u.createContext(null);function nt(){const e=u.useContext(_t);if(e==null)throw new Error("useTableSticky 脱离上下文调用");return e}function J(e,t,r){return typeof t=="function"?t(e,r):e}function re(e){return e==="left"}function ne(e){return e==="right"}function Le(e){return re(e)||ne(e)}function yr(e,t,r){const{render:n}=r,o=t;if("dataIndex"in r){const s=r.dataIndex;return typeof n!="function"?o[s]:n(o[s],t,e)}return(n==null?void 0:n(t,t,e))??null}function vr(e){const{className:t,style:r,column:n,rowData:o,rowIndex:s,columnIndex:a,renderCell:i,...l}=e,{align:c,fixed:f,onCell:d}=n,{size:g}=nt(),{className:y,style:m,colSpan:x,rowSpan:w,...C}=(d==null?void 0:d(o,s))??{};return x===0||w===0?null:J(b.jsx("td",{...l,...C,colSpan:x,rowSpan:w,className:B("virtual-table-cell",c!=null&&`virtual-table-align-${c}`,Le(f)&&"virtual-table-sticky-cell",t,n.className,y),style:{...r,...m,left:re(f)?g[a]:void 0,right:ne(f)?g[a]:void 0},children:yr(s,o,n)}),i,{column:n,columnIndex:a})}const br=u.memo(vr),Tt=e=>{const{columns:t,colRef:r}=e;return b.jsx("colgroup",{children:t.map((n,o)=>{const s="key"in n?n.key:n.dataIndex;return b.jsx("col",{ref:typeof r=="function"?a=>{r(a,o)}:r,style:{width:n.width,minWidth:n.minWidth}},typeof s=="symbol"?o:s)})})},Mt=u.createContext(null);function zt(){const e=u.useContext(Mt);if(e==null)throw new Error("useContainerSize 脱离上下文调用");return e}function yt(e,t){return e[t]}const Ht=u.createContext(null);function wr(e){const{children:t}=e,[r,n]=u.useState({}),o=u.useMemo(()=>({getElements(){return Object.values(r)},addShouldSyncElement(s,a){return n(i=>i[s]===a?i:{...i,[s]:a}),()=>{n(i=>{if(yt(i,s)!=null){const l={...i};return delete l[s],l}return i})}},removeShouldSyncElement(s){n(a=>{if(yt(a,s)!=null){const i={...a};return delete i[s],i}return a})}}),[r]);return u.useLayoutEffect(()=>{const s=Object.values(r),a=new Set,i=(c,f)=>{s.forEach(d=>{d!==c&&(a.add(d),d.scrollLeft=f)})},l=c=>{const f=c.target;if(a.has(f)){a.delete(f);return}const d=()=>{const{scrollLeft:y}=f;i(f,y)},g=window.requestAnimationFrame;g!=null?g(d):d()};return s.forEach(c=>{c.addEventListener("scroll",l)}),()=>{s.forEach(c=>{c.removeEventListener("scroll",l)})}},[r]),b.jsx(Ht.Provider,{value:o,children:t})}function Ne(){const e=u.useContext(Ht);if(e==null)throw new Error("useHorizontalScrollContext 脱离上下文调用");return e}const jt=u.createContext(null);function Wt(){const e=u.useContext(jt);if(e==null)throw new Error("useTableShared 脱离上下文调用");return e}function vt(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),o=r.length;if(n.length!==o)return!1;for(let s=0;s<o;s+=1){const a=r[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function He(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let n=0;n<r;n+=1)if(e[n]!==t[n])return!1;return!0}function kt(e,t){return Object.is(e,t)?!0:Array.isArray(e)&&Array.isArray(t)?He(e,t)?!0:e.length===t.length&&e.findIndex(n=>typeof n=="object"&&n!=null)>-1?e.every((n,o)=>Array.isArray(n)?He(n,t[o]):typeof n=="object"&&n!=null?vt(n,t[o]):Object.is(n,t[o])):!1:typeof e=="object"&&e!=null?vt(e,t):!1}function we(e){const t=e(),r=u.useRef(t);return kt(t,r.current)||(r.current=t),r.current}const Lt=u.createContext(null);function Sr(e){const{columns:t,children:r}=e,[n,o]=u.useState([]),s=u.useRef([]),a=d=>{const g=d.slice();He(s.current,g)||(s.current=g,o(g))},i=we(()=>t.map(d=>d.fixed)),l=we(()=>{let d=0;const g=i.reduce((x,w,C)=>(re(w)&&(x[C]=d,d+=n[C]??0),x),[]);let y=0;const m=i.reduceRight((x,w,C)=>(ne(w)&&(x[C]=y,y+=n[C]??0),x),[]);return i.map((x,w)=>re(x)?g[w]:ne(x)?m[w]:0)}),c=u.useMemo(()=>({size:l,fixed:i}),[i,l]),f=u.useMemo(()=>({widthList:n,setWidthList:a}),[n]);return b.jsx(Lt.Provider,{value:f,children:b.jsx(_t.Provider,{value:c,children:r})})}function xr(){const e=u.useContext(Lt);if(e==null)throw new Error("useTableColumns 脱离上下文调用");return e}function Rr(e){const t=u.useRef(null);return u.useLayoutEffect(()=>{t.current=e},[e]),u.useCallback((...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function ge(e){const t={current:null,options:null};return(...r)=>{const n=o=>e(o,...r);return kt(r,t.options)?t.current??n:(t.options=r,t.current=n,n)}}function Cr(e){return Array.isArray(e)?e.filter(t=>t!=null&&(typeof t=="function"||typeof t.hook=="function")).map(t=>typeof t=="function"?{priority:100,hook:t}:t):[]}const ke=class ke{constructor(){Ue(this,"hooks",[]);this.use=this.use.bind(this)}setHooks(t){this.hooks=t}use(t){if(this.hooks.length===0)return t;const r={current:t},n={render:[],renderRoot:[],renderContent:[],renderHeaderWrapper:[],renderHeaderRoot:[],renderHeader:[],renderHeaderRow:[],renderHeaderCell:[],renderBodyWrapper:[],renderBodyRoot:[],renderBody:[],renderRow:[],renderCell:[]},o=[],s=[],a=this.hooks.slice();return a.sort((i,l)=>i.priority-l.priority),a.map(i=>i.hook).forEach(i=>{const l=i(r.current),{render:c,renderRoot:f,renderContent:d,renderHeaderWrapper:g,renderHeaderRoot:y,renderHeader:m,renderHeaderRow:x,renderHeaderCell:w,renderBodyWrapper:C,renderBodyRoot:p,renderBody:v,renderRow:S,renderCell:h,rowClassName:R,onRow:O,...D}=l;Object.entries(n).forEach(([H,_])=>{const L=l[H];typeof L=="function"&&_.push(L)}),typeof R=="function"&&o.push(R),typeof O=="function"&&s.push(O),r.current=D}),Object.entries(n).forEach(([i,l])=>{l.length>0&&(r.current[i]=(c,f)=>l.reduce((d,g)=>g(d,f),c))}),o.length>0&&(r.current.rowClassName=(i,l)=>B(...o.map(c=>c(i,l)))),s.length>0&&(r.current.onRow=(i,l)=>s.reduce((c,f)=>({...c,...f(i,l)}),{})),r.current}};Ue(ke,"defaultPipeline",new ke);let De=ke;function To(e){const{use:t,pipeline:r}=e,n=u.useMemo(()=>({current:new De}),[]);if(t!=null){const o=Cr([...t,...(r==null?void 0:r.hooks)??[]]);if(!He(n.current.hooks,o)){const s=new De;return s.setHooks(o),n.current=s,s}}return n.current}function ot(e,t){let r=-1;for(let n=0;n<e.length;n+=1)t(e[n],n)&&(r=n);return r}function Or(e){const{className:t,rowIndex:r,rowData:n,columns:o,onRow:s,renderRow:a,renderCell:i,...l}=e,{updateRowHeight:c}=Wt(),f=ot(o,m=>re(m.fixed)),d=o.findIndex(m=>ne(m.fixed)),{className:g,...y}=(s==null?void 0:s(n,r))??{};return J(b.jsx("tr",{...l,...y,className:B("virtual-table-row",t,g),ref:m=>{m!=null&&c(r,m.offsetHeight)},children:o.map((m,x)=>{const w="key"in m?m.key:m.dataIndex;return b.jsx(br,{className:B(f===x&&"virtual-table-cell-fix-left-last",d===x&&"virtual-table-cell-fix-right-first"),column:m,rowIndex:r,rowData:n,columnIndex:x,renderCell:i},typeof w=="symbol"?x:w)})}),a,{columns:o,rowIndex:r,rowData:n})}const Pr=u.memo(Or),Er=/auto|scroll|overlay|hidden/;function It(e){return e instanceof Node?e.nodeType===1:!1}function Dr(e,t=window){let r=e;for(;r!==t&&It(r);){if(r===document.body)return t;const{overflow:n,overflowY:o,overflowX:s}=window.getComputedStyle(r);if(Er.test(n+o+s))return r;r=r.parentNode}return e.ownerDocument.defaultView??window}function $t(e){return Object.prototype.toString.call(e)==="[object Window]"}function Nr(e){return Object.prototype.toString.call(e)==="[object HTMLDocument]"}function _r(e){return Object.prototype.toString.call(e)==="[object HTMLHtmlElement]"}function bt(e){return Nr(e)?e.scrollingElement:It(e)?e:document.scrollingElement}function Tr(e,t){typeof e=="function"?e(t):typeof e=="object"&&e&&"current"in e&&(e.current=t)}function Se(...e){const t=e.filter(Boolean);return t.length<=1?t[0]:r=>{e.forEach(n=>{Tr(n,r)})}}function Mr(e){const{wrapperRef:t,tableRef:r,className:n,style:o,dataSource:s,columns:a,rowKey:i,startIndex:l,rowClassName:c,onRow:f,renderBodyWrapper:d,renderBodyRoot:g,renderBody:y,renderRow:m,renderCell:x}=e,{addShouldSyncElement:w}=Ne(),C=J(b.jsx("tbody",{children:s==null?void 0:s.map((v,S)=>{const h=v[i];return b.jsx(Pr,{className:B(c==null?void 0:c(v,S)),rowIndex:S+l,rowData:v,columns:a,onRow:f,renderRow:m,renderCell:x},h)})}),y,{columns:a}),p=J(b.jsxs("table",{className:B(n,"virtual-table-body"),style:o,ref:r,children:[b.jsx(Tt,{columns:a}),C]}),g,{columns:a});return J(b.jsx("div",{ref:Se(t,v=>{v!=null&&w("virtual-table-body",v)}),className:"virtual-table-body-wrapper",children:p}),d,{columns:a})}const zr=e=>{const{className:t,style:r,wrapperRef:n,columns:o,stickyHeader:s,renderHeaderWrapper:a,renderHeaderRoot:i,renderHeader:l,renderHeaderRow:c,renderHeaderCell:f}=e,{widthList:d,setWidthList:g}=xr(),{size:y}=nt(),m=u.useRef([]);u.useLayoutEffect(()=>{g(m.current)});const x=ot(o,h=>re(h.fixed)),w=o.findIndex(h=>ne(h.fixed)),{addShouldSyncElement:C}=Ne(),p=J(b.jsx("tr",{children:o.map((h,R)=>{var L;if(h.colSpan===0)return null;const O="key"in h?h.key:h.dataIndex,{className:D,style:H,..._}=((L=h.onHeaderCell)==null?void 0:L.call(h,h,R))??{};return b.jsx(u.Fragment,{children:J(u.createElement("th",{scope:"col",..._,colSpan:h.colSpan,className:B("virtual-table-header-cell",h.align!=null&&`virtual-table-align-${h.align}`,Le(h.fixed)&&"virtual-table-sticky-cell",x===R&&"virtual-table-cell-fix-left-last",w===R&&"virtual-table-cell-fix-right-first",h.className,D),style:{...H,left:re(h.fixed)?y[R]:void 0,right:ne(h.fixed)?y[R]:void 0}},h.title),f,{column:h,columns:o,columnIndex:R,columnWidthList:d})},typeof O=="symbol"?R:O)})}),c,{columns:o}),v=J(b.jsx("thead",{className:"virtual-table-thead",children:p}),l,{columns:o}),S=J(b.jsxs("table",{style:{...r,top:Number.isFinite(s)?s:void 0},children:[b.jsx(Tt,{columns:o,colRef:(h,R)=>{h!=null&&(m.current[R]=h.offsetWidth)}}),v]}),i,{columns:o});return J(b.jsx("div",{ref:Se(n,h=>{h!=null&&C("virtual-table-header",h)}),className:B("virtual-table-header",t,{"virtual-table-header-sticky":s}),children:S}),a,{columns:o})};function Hr(e){const{getScroller:t,root:r}=e,[n,o]=u.useState(0),[s,a]=u.useState(0),[i,l]=u.useState(0),[c,f]=u.useState(0),d=u.useRef(null);return u.useLayoutEffect(()=>{const g=t();if(g==null)return;let y;$t(g)?y=document.scrollingElement:y=g,d.current=y;const m=new ResizeObserver(x=>{const{width:w,height:C}=x[0].contentRect;o(w),a(C)});return m.observe(y),()=>{m.disconnect()}},[t]),u.useLayoutEffect(()=>{const g=r.current;if(g==null)return;const y=new ResizeObserver(m=>{const{width:x,height:w}=m[0].contentRect;l(x),f(w)});return y.observe(g),()=>{y.disconnect()}},[r]),{scrollContainerWidth:n,scrollContainerHeight:s,tableWidth:i,tableHeight:c}}function jr(e){const{itemCount:t,estimatedRowHeight:r=46,onChange:n}=e,o=u.useRef([]);(()=>{for(let f=0;f<t;f+=1)o.current[f]==null&&(o.current[f]=r);o.current=o.current.slice(0,t)})();const a=u.useRef([]),i=()=>{const f=[];let d=0;o.current.forEach((g,y)=>{y!==0&&(d+=g),f.push({index:y,height:g,top:d,bottom:d+g})}),a.current=f},l=Rr((f,d)=>{o.current[f]=d,i(),n==null||n(f,d,a.current)});return{rowHeightList:o,updateRowHeight:l,sum:(f,d)=>o.current.slice(f,d).reduce((g,y)=>g+y,0),rects:u.useCallback(()=>a.current,[])}}function Wr(e,t){let r=0,n=e.length-1,o=-1;for(;r<=n;){const s=Math.floor((r+n)/2);e[s].bottom>t?(o=s,n=s-1):r=s+1}if(o!==-1)return e[o]}function kr(e,t){const{className:r,style:n,children:o,hasFixedLeftColumn:s,hasFixedRightColumn:a,renderRoot:i}=e,l=u.useRef(null),[c,f]=u.useState(!1),[d,g]=u.useState(!1),{getElements:y}=Ne(),m=u.useMemo(()=>y(),[y]);return u.useEffect(()=>{const x=()=>{const w=m[0];if(w==null)return;const{scrollLeft:C,clientWidth:p,scrollWidth:v}=w;s&&f(C!==0),a&&g(!(C+p>=v))};return x(),m.forEach(w=>{w.addEventListener("scroll",x)}),()=>{m.forEach(w=>{w.removeEventListener("scroll",x)})}},[m,s,a]),J(b.jsx("div",{ref:Se(t,l),className:B("virtual-table",c&&"virtual-table-has-fix-left",d&&"virtual-table-has-fix-right",r),style:n,children:o}),i,{})}const Lr=u.forwardRef(kr);function Ir(e,t){const{className:r,style:n,tableBodyClassName:o,tableBodyStyle:s,columns:a,dataSource:i,rowKey:l="key",estimatedRowHeight:c,overscanCount:f=5,stickyHeader:d,pipeline:g=De.defaultPipeline,rowClassName:y,onRow:m}=e,x=u.useRef(null),w=u.useRef(null),C=u.useRef(null),p=u.useCallback(()=>{const M=w.current;if(M!=null)return Dr(M)},[]),{scrollContainerHeight:v,scrollContainerWidth:S,tableHeight:h,tableWidth:R}=Hr({getScroller:p,root:w}),O=u.useMemo(()=>({width:S,height:v,tableWidth:R,tableHeight:h,container(){return C.current}}),[S,v,R,h]),D=u.useRef(0),H=u.useRef(0),[_,L]=u.useState(0),[z,F]=u.useState(0),{dataSource:k,columns:E,rowKey:j,rowClassName:N,render:I,renderRoot:Z,renderContent:K,renderHeaderWrapper:fe,renderHeaderRoot:xe,renderHeader:T,renderHeaderRow:$,renderHeaderCell:V,renderBodyWrapper:ae,renderBodyRoot:de,renderBody:pe,renderRow:Re,renderCell:he,onRow:ee}=g.use({dataSource:i,rowKey:l,columns:a,visibleCount:z-_}),le=u.useCallback((M,X)=>B(y==null?void 0:y(M,X),N==null?void 0:N(M,X)),[y,N]),Ce=u.useCallback((M,X)=>({...m==null?void 0:m(M,X),...ee==null?void 0:ee(M,X)}),[ee,m]),Me=u.useMemo(()=>(k??[]).slice(_,z),[k,_,z]),Ye=k==null?!1:k.length>0;u.useLayoutEffect(()=>{const M=p();if(M==null)return;let X=0,ie=0;if($t(M)||_r(M))X=window.innerHeight,ie=window.scrollY;else{const q=bt(M);X=q.getBoundingClientRect().height,ie=q.scrollTop}const ve=Math.ceil(X/c);if(D.current===0){let q=0;ie>=c&&(q=Math.max(Math.floor(ie/c)-1-f,0)),L(q),F(q+ve+f)}H.current=X,D.current=ve},[c,p,Ye,f]);const Xe=u.useRef(0),Oe=u.useRef({index:0,height:c,top:0,bottom:c}),{rowHeightList:pt,rects:ht,updateRowHeight:mt,sum:gt}=jr({itemCount:(k==null?void 0:k.length)??0,estimatedRowHeight:c,onChange(M,X,ie){Oe.current.index===M&&(Oe.current=ie[M])}});u.useEffect(()=>{const M=p();if(M==null)return;const X=ve=>{const q=Wr(ht(),ve);q!=null&&(Oe.current=q,L(Math.max(0,q.index-f)),F(q.index+D.current+f))},ie=ve=>{const q=bt(ve.target),{scrollTop:me}=q;me>Xe.current?me>Oe.current.bottom&&X(me):me<Xe.current&&me<Oe.current.top&&X(me),Xe.current=me};return M.addEventListener("scroll",ie),()=>{M.removeEventListener("scroll",ie)}},[p,f,ht]);const ir=gt(0,_),lr=gt(z),ur=E.some(M=>re(M.fixed)),cr=E.some(M=>ne(M.fixed)),fr=u.useMemo(()=>({getRowHeightList(){return pt.current},updateRowHeight:mt}),[pt,mt]),dr=J(b.jsxs(b.Fragment,{children:[b.jsx(zr,{columns:E,stickyHeader:d,renderHeaderWrapper:fe,renderHeaderRoot:xe,renderHeader:T,renderHeaderRow:$,renderHeaderCell:V}),b.jsx(Mr,{tableRef:Se(x,t),className:o,style:{...s,paddingBottom:lr,paddingTop:ir},columns:E,rowKey:j,dataSource:Me,startIndex:_,rowClassName:le,onRow:Ce,renderBodyWrapper:ae,renderBodyRoot:de,renderBody:pe,renderRow:Re,renderCell:he})]}),K,{columns:E}),pr=J(b.jsx(Lr,{ref:w,className:r,style:n,hasFixedLeftColumn:ur,hasFixedRightColumn:cr,renderRoot:Z,children:dr}),I,{columns:E});return b.jsx(jt.Provider,{value:fr,children:b.jsx(Sr,{columns:E,children:b.jsx(Mt.Provider,{value:O,children:b.jsx(wr,{children:pr})})})})}const Mo=u.memo(u.forwardRef(Ir));var st={exports:{}},_e={},Ie={exports:{}},Ft={},At={exports:{}},$r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fr=$r,Ar=Fr;function Bt(){}function Kt(){}Kt.resetWarningCache=Bt;var Br=function(){function e(n,o,s,a,i,l){if(l!==Ar){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Kt,resetWarningCache:Bt};return r.PropTypes=r,r};At.exports=Br();var $e=At.exports;function Yt(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Yt(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function wt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Yt(e))&&(n&&(n+=" "),n+=t);return n}const Kr=Object.freeze(Object.defineProperty({__proto__:null,clsx:wt,default:wt},Symbol.toStringTag,{value:"Module"})),Yr=gr(Kr);var W={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.dontSetMe=Gr;oe.findInArray=Xr;oe.int=qr;oe.isFunction=Ur;oe.isNum=Vr;function Xr(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function Ur(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Vr(e){return typeof e=="number"&&!isNaN(e)}function qr(e){return parseInt(e,10)}function Gr(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.browserPrefixToKey=Ut;ye.browserPrefixToStyle=Jr;ye.default=void 0;ye.getPrefix=Xt;const Ve=["Moz","Webkit","O","ms"];function Xt(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<Ve.length;n++)if(Ut(t,Ve[n])in r)return Ve[n];return""}function Ut(e,t){return t?"".concat(t).concat(Qr(e)):e}function Jr(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Qr(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}ye.default=Xt();Object.defineProperty(W,"__esModule",{value:!0});W.addClassName=Gt;W.addEvent=tn;W.addUserSelectStyles=pn;W.createCSSTransform=un;W.createSVGTransform=cn;W.getTouch=fn;W.getTouchIdentifier=dn;W.getTranslation=at;W.innerHeight=sn;W.innerWidth=an;W.matchesSelector=qt;W.matchesSelectorAndParentsTo=en;W.offsetXYFromParent=ln;W.outerHeight=nn;W.outerWidth=on;W.removeClassName=Jt;W.removeEvent=rn;W.removeUserSelectStyles=hn;var Q=oe,St=Zr(ye);function Vt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Vt=function(n){return n?r:t})(e)}function Zr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Vt(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}let ze="";function qt(e,t){return ze||(ze=(0,Q.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Q.isFunction)(e[r])})),(0,Q.isFunction)(e[ze])?e[ze](t):!1}function en(e,t,r){let n=e;do{if(qt(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function tn(e,t,r,n){if(!e)return;const o={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function rn(e,t,r,n){if(!e)return;const o={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function nn(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Q.int)(r.borderTopWidth),t+=(0,Q.int)(r.borderBottomWidth),t}function on(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Q.int)(r.borderLeftWidth),t+=(0,Q.int)(r.borderRightWidth),t}function sn(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Q.int)(r.paddingTop),t-=(0,Q.int)(r.paddingBottom),t}function an(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Q.int)(r.paddingLeft),t-=(0,Q.int)(r.paddingRight),t}function ln(e,t,r){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),s=(e.clientX+t.scrollLeft-o.left)/r,a=(e.clientY+t.scrollTop-o.top)/r;return{x:s,y:a}}function un(e,t){const r=at(e,t,"px");return{[(0,St.browserPrefixToKey)("transform",St.default)]:r}}function cn(e,t){return at(e,t,"")}function at(e,t,r){let{x:n,y:o}=e,s="translate(".concat(n).concat(r,",").concat(o).concat(r,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+r),i="".concat(typeof t.y=="string"?t.y:t.y+r);s="translate(".concat(a,", ").concat(i,")")+s}return s}function fn(e,t){return e.targetTouches&&(0,Q.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,Q.findInArray)(e.changedTouches,r=>t===r.identifier)}function dn(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function pn(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Gt(e.body,"react-draggable-transparent-selection")}function hn(e){if(e)try{if(e.body&&Jt(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Gt(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Jt(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var se={};Object.defineProperty(se,"__esModule",{value:!0});se.canDragX=yn;se.canDragY=vn;se.createCoreData=wn;se.createDraggableData=Sn;se.getBoundPosition=mn;se.getControlPosition=bn;se.snapToGrid=gn;var G=oe,be=W;function mn(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:xn(n);const o=it(e);if(typeof n=="string"){const{ownerDocument:s}=o,a=s.defaultView;let i;if(n==="parent"?i=o.parentNode:i=s.querySelector(n),!(i instanceof a.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const l=i,c=a.getComputedStyle(o),f=a.getComputedStyle(l);n={left:-o.offsetLeft+(0,G.int)(f.paddingLeft)+(0,G.int)(c.marginLeft),top:-o.offsetTop+(0,G.int)(f.paddingTop)+(0,G.int)(c.marginTop),right:(0,be.innerWidth)(l)-(0,be.outerWidth)(o)-o.offsetLeft+(0,G.int)(f.paddingRight)-(0,G.int)(c.marginRight),bottom:(0,be.innerHeight)(l)-(0,be.outerHeight)(o)-o.offsetTop+(0,G.int)(f.paddingBottom)-(0,G.int)(c.marginBottom)}}return(0,G.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,G.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,G.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,G.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function gn(e,t,r){const n=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[n,o]}function yn(e){return e.props.axis==="both"||e.props.axis==="x"}function vn(e){return e.props.axis==="both"||e.props.axis==="y"}function bn(e,t,r){const n=typeof t=="number"?(0,be.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const o=it(r),s=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,be.offsetXYFromParent)(n||e,s,r.props.scale)}function wn(e,t,r){const n=!(0,G.isNum)(e.lastX),o=it(e);return n?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function Sn(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function xn(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function it(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Fe={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=Rn;function Rn(){}Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var qe=On(u),U=lt($e),Cn=lt(Dt),A=W,ue=se,Ge=oe,Pe=lt(Ae);function lt(e){return e&&e.__esModule?e:{default:e}}function Qt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Qt=function(n){return n?r:t})(e)}function On(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Qt(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function Y(e,t,r){return t=Pn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pn(e){var t=En(e,"string");return typeof t=="symbol"?t:String(t)}function En(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const te={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ce=te.mouse,Be=class extends qe.Component{constructor(){super(...arguments),Y(this,"dragging",!1),Y(this,"lastX",NaN),Y(this,"lastY",NaN),Y(this,"touchIdentifier",null),Y(this,"mounted",!1),Y(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,A.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,A.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();const o=(0,A.getTouchIdentifier)(t);this.touchIdentifier=o;const s=(0,ue.getControlPosition)(t,o,this);if(s==null)return;const{x:a,y:i}=s,l=(0,ue.createCoreData)(this,a,i);(0,Pe.default)("DraggableCore: handleDragStart: %j",l),(0,Pe.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,A.addUserSelectStyles)(n),this.dragging=!0,this.lastX=a,this.lastY=i,(0,A.addEvent)(n,ce.move,this.handleDrag),(0,A.addEvent)(n,ce.stop,this.handleDragStop))}),Y(this,"handleDrag",t=>{const r=(0,ue.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let i=n-this.lastX,l=o-this.lastY;if([i,l]=(0,ue.snapToGrid)(this.props.grid,i,l),!i&&!l)return;n=this.lastX+i,o=this.lastY+l}const s=(0,ue.createCoreData)(this,n,o);if((0,Pe.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(t,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=o}),Y(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,ue.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,c=o-this.lastY||0;[l,c]=(0,ue.snapToGrid)(this.props.grid,l,c),n=this.lastX+l,o=this.lastY+c}const s=(0,ue.createCoreData)(this,n,o);if(this.props.onStop(t,s)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,A.removeUserSelectStyles)(i.ownerDocument),(0,Pe.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,Pe.default)("DraggableCore: Removing handlers"),(0,A.removeEvent)(i.ownerDocument,ce.move,this.handleDrag),(0,A.removeEvent)(i.ownerDocument,ce.stop,this.handleDragStop))}),Y(this,"onMouseDown",t=>(ce=te.mouse,this.handleDragStart(t))),Y(this,"onMouseUp",t=>(ce=te.mouse,this.handleDragStop(t))),Y(this,"onTouchStart",t=>(ce=te.touch,this.handleDragStart(t))),Y(this,"onTouchEnd",t=>(ce=te.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,A.addEvent)(t,te.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,A.removeEvent)(r,te.mouse.move,this.handleDrag),(0,A.removeEvent)(r,te.touch.move,this.handleDrag),(0,A.removeEvent)(r,te.mouse.stop,this.handleDragStop),(0,A.removeEvent)(r,te.touch.stop,this.handleDragStop),(0,A.removeEvent)(t,te.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,A.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:Cn.default.findDOMNode(this)}render(){return qe.cloneElement(qe.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Fe.default=Be;Y(Be,"displayName","DraggableCore");Y(Be,"propTypes",{allowAnyClick:U.default.bool,children:U.default.node.isRequired,disabled:U.default.bool,enableUserSelectHack:U.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:U.default.arrayOf(U.default.number),handle:U.default.string,cancel:U.default.string,nodeRef:U.default.object,onStart:U.default.func,onDrag:U.default.func,onStop:U.default.func,onMouseDown:U.default.func,scale:U.default.number,className:Ge.dontSetMe,style:Ge.dontSetMe,transform:Ge.dontSetMe});Y(Be,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=g(u),r=f($e),n=f(Dt),o=f(Yr),s=W,a=se,i=oe,l=f(Fe),c=f(Ae);function f(p){return p&&p.__esModule?p:{default:p}}function d(p){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(d=function(h){return h?S:v})(p)}function g(p,v){if(p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var S=d(v);if(S&&S.has(p))return S.get(p);var h={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in p)if(O!=="default"&&Object.prototype.hasOwnProperty.call(p,O)){var D=R?Object.getOwnPropertyDescriptor(p,O):null;D&&(D.get||D.set)?Object.defineProperty(h,O,D):h[O]=p[O]}return h.default=p,S&&S.set(p,h),h}function y(){return y=Object.assign?Object.assign.bind():function(p){for(var v=1;v<arguments.length;v++){var S=arguments[v];for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(p[h]=S[h])}return p},y.apply(this,arguments)}function m(p,v,S){return v=x(v),v in p?Object.defineProperty(p,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):p[v]=S,p}function x(p){var v=w(p,"string");return typeof v=="symbol"?v:String(v)}function w(p,v){if(typeof p!="object"||p===null)return p;var S=p[Symbol.toPrimitive];if(S!==void 0){var h=S.call(p,v||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(p)}class C extends t.Component{static getDerivedStateFromProps(v,S){let{position:h}=v,{prevPropsPosition:R}=S;return h&&(!R||h.x!==R.x||h.y!==R.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:h,prevPropsPosition:R}),{x:h.x,y:h.y,prevPropsPosition:{...h}}):null}constructor(v){super(v),m(this,"onDragStart",(S,h)=>{if((0,c.default)("Draggable: onDragStart: %j",h),this.props.onStart(S,(0,a.createDraggableData)(this,h))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(S,h)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",h);const R=(0,a.createDraggableData)(this,h),O={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:H,y:_}=O;O.x+=this.state.slackX,O.y+=this.state.slackY;const[L,z]=(0,a.getBoundPosition)(this,O.x,O.y);O.x=L,O.y=z,O.slackX=this.state.slackX+(H-O.x),O.slackY=this.state.slackY+(_-O.y),R.x=O.x,R.y=O.y,R.deltaX=O.x-this.state.x,R.deltaY=O.y-this.state.y}if(this.props.onDrag(S,R)===!1)return!1;this.setState(O)}),m(this,"onDragStop",(S,h)=>{if(!this.state.dragging||this.props.onStop(S,(0,a.createDraggableData)(this,h))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",h);const O={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:H,y:_}=this.props.position;O.x=H,O.y=_}this.setState(O)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,S;return(v=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&v!==void 0?v:n.default.findDOMNode(this)}render(){const{axis:v,bounds:S,children:h,defaultPosition:R,defaultClassName:O,defaultClassNameDragging:D,defaultClassNameDragged:H,position:_,positionOffset:L,scale:z,...F}=this.props;let k={},E=null;const N=!!!_||this.state.dragging,I=_||R,Z={x:(0,a.canDragX)(this)&&N?this.state.x:I.x,y:(0,a.canDragY)(this)&&N?this.state.y:I.y};this.state.isElementSVG?E=(0,s.createSVGTransform)(Z,L):k=(0,s.createCSSTransform)(Z,L);const K=(0,o.default)(h.props.className||"",O,{[D]:this.state.dragging,[H]:this.state.dragged});return t.createElement(l.default,y({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(h),{className:K,style:{...h.props.style,...k},transform:E}))}}e.default=C,m(C,"displayName","Draggable"),m(C,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),m(C,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ft);const{default:Zt,DraggableCore:Dn}=Ft;Ie.exports=Zt;Ie.exports.default=Zt;Ie.exports.DraggableCore=Dn;var Nn=Ie.exports,ut={};ut.__esModule=!0;ut.cloneElement=jn;var _n=Tn(u);function Tn(e){return e&&e.__esModule?e:{default:e}}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xt(Object(r),!0).forEach(function(n){Mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mn(e,t,r){return t=zn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zn(e){var t=Hn(e,"string");return typeof t=="symbol"?t:String(t)}function Hn(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(e,t){return t.style&&e.props.style&&(t.style=Rt(Rt({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),_n.default.cloneElement(e,t)}var Te={};Te.__esModule=!0;Te.resizableProps=void 0;var P=Wn($e);function Wn(e){return e&&e.__esModule?e:{default:e}}var kn={axis:P.default.oneOf(["both","x","y","none"]),className:P.default.string,children:P.default.element.isRequired,draggableOpts:P.default.shape({allowAnyClick:P.default.bool,cancel:P.default.string,children:P.default.node,disabled:P.default.bool,enableUserSelectHack:P.default.bool,offsetParent:P.default.node,grid:P.default.arrayOf(P.default.number),handle:P.default.string,nodeRef:P.default.object,onStart:P.default.func,onDrag:P.default.func,onStop:P.default.func,onMouseDown:P.default.func,scale:P.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[0];if(o.axis==="both"||o.axis==="y"){var s;return(s=P.default.number).isRequired.apply(s,r)}return P.default.number.apply(P.default,r)},handle:P.default.oneOfType([P.default.node,P.default.func]),handleSize:P.default.arrayOf(P.default.number),lockAspectRatio:P.default.bool,maxConstraints:P.default.arrayOf(P.default.number),minConstraints:P.default.arrayOf(P.default.number),onResizeStop:P.default.func,onResizeStart:P.default.func,onResize:P.default.func,resizeHandles:P.default.arrayOf(P.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:P.default.number,width:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[0];if(o.axis==="both"||o.axis==="x"){var s;return(s=P.default.number).isRequired.apply(s,r)}return P.default.number.apply(P.default,r)}};Te.resizableProps=kn;_e.__esModule=!0;_e.default=void 0;var Ee=An(u),Ln=Nn,In=ut,$n=Te,Fn=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function er(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(er=function(o){return o?r:t})(e)}function An(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=er(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(this,arguments)}function Bn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ct(Object(r),!0).forEach(function(n){Kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kn(e,t,r){return t=Yn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yn(e){var t=Xn(e,"string");return typeof t=="symbol"?t:String(t)}function Xn(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Un(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,et(e,t)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},et(e,t)}var ct=function(e){Un(t,e);function t(){for(var n,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(o,s){var a=this.props,i=a.minConstraints,l=a.maxConstraints,c=a.lockAspectRatio;if(!i&&!l&&!c)return[o,s];if(c){var f=this.props.width/this.props.height,d=o-this.props.width,g=s-this.props.height;Math.abs(d)>Math.abs(g*f)?s=o/f:o=s*f}var y=o,m=s,x=this.slack||[0,0],w=x[0],C=x[1];return o+=w,s+=C,i&&(o=Math.max(i[0],o),s=Math.max(i[1],s)),l&&(o=Math.min(l[0],o),s=Math.min(l[1],s)),this.slack=[w+(y-o),C+(m-s)],[o,s]},r.resizeHandler=function(o,s){var a=this;return function(i,l){var c=l.node,f=l.deltaX,d=l.deltaY;o==="onResizeStart"&&a.resetData();var g=(a.props.axis==="both"||a.props.axis==="x")&&s!=="n"&&s!=="s",y=(a.props.axis==="both"||a.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!g&&!y)){var m=s[0],x=s[s.length-1],w=c.getBoundingClientRect();if(a.lastHandleRect!=null){if(x==="w"){var C=w.left-a.lastHandleRect.left;f+=C}if(m==="n"){var p=w.top-a.lastHandleRect.top;d+=p}}a.lastHandleRect=w,x==="w"&&(f=-f),m==="n"&&(d=-d);var v=a.props.width+(g?f/a.props.transformScale:0),S=a.props.height+(y?d/a.props.transformScale:0),h=a.runConstraints(v,S);v=h[0],S=h[1];var R=v!==a.props.width||S!==a.props.height,O=typeof a.props[o]=="function"?a.props[o]:null,D=o==="onResize"&&!R;O&&!D&&(i.persist==null||i.persist(),O(i,{node:c,size:{width:v,height:S},handle:s})),o==="onResizeStop"&&a.resetData()}}},r.renderResizeHandle=function(o,s){var a=this.props.handle;if(!a)return Ee.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:s});if(typeof a=="function")return a(o,s);var i=typeof a.type=="string",l=Je({ref:s},i?{}:{handleAxis:o});return Ee.cloneElement(a,l)},r.render=function(){var o=this,s=this.props,a=s.children,i=s.className,l=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var c=s.resizeHandles;s.transformScale;var f=Bn(s,Fn);return(0,In.cloneElement)(a,Je(Je({},f),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(a.props.children,c.map(function(d){var g,y=(g=o.handleRefs[d])!=null?g:o.handleRefs[d]=Ee.createRef();return Ee.createElement(Ln.DraggableCore,Ze({},l,{nodeRef:y,key:"resizableHandle-"+d,onStop:o.resizeHandler("onResizeStop",d),onStart:o.resizeHandler("onResizeStart",d),onDrag:o.resizeHandler("onResize",d)}),o.renderResizeHandle(d,y))}))}))},t}(Ee.Component);_e.default=ct;ct.propTypes=$n.resizableProps;ct.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Ke={};Ke.__esModule=!0;Ke.default=void 0;var Qe=Qn(u),Vn=tr($e),qn=tr(_e),Gn=Te,Jn=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function tr(e){return e&&e.__esModule?e:{default:e}}function rr(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(rr=function(o){return o?r:t})(e)}function Qn(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=rr(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tt.apply(this,arguments)}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ot(Object(r),!0).forEach(function(n){Zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zn(e,t,r){return t=eo(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eo(e){var t=to(e,"string");return typeof t=="symbol"?t:String(t)}function to(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function no(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rt(e,t)}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},rt(e,t)}var nr=function(e){no(t,e);function t(){for(var n,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(i,l){var c=l.size;n.props.onResize?(i.persist==null||i.persist(),n.setState(c,function(){return n.props.onResize&&n.props.onResize(i,l)})):n.setState(c)},n}t.getDerivedStateFromProps=function(o,s){return s.propsWidth!==o.width||s.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var r=t.prototype;return r.render=function(){var o=this.props,s=o.handle,a=o.handleSize;o.onResize;var i=o.onResizeStart,l=o.onResizeStop,c=o.draggableOpts,f=o.minConstraints,d=o.maxConstraints,g=o.lockAspectRatio,y=o.axis;o.width,o.height;var m=o.resizeHandles,x=o.style,w=o.transformScale,C=ro(o,Jn);return Qe.createElement(qn.default,{axis:y,draggableOpts:c,handle:s,handleSize:a,height:this.state.height,lockAspectRatio:g,maxConstraints:d,minConstraints:f,onResizeStart:i,onResize:this.onResize,onResizeStop:l,resizeHandles:m,transformScale:w,width:this.state.width},Qe.createElement("div",tt({},C,{style:je(je({},x),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(Qe.Component);Ke.default=nr;nr.propTypes=je(je({},Gn.resizableProps),{},{children:Vn.default.element});st.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var oo=st.exports.Resizable=_e.default;st.exports.ResizableBox=Ke.default;function so(e){return typeof e=="object"&&e!=null}const We={key(e){return`${e}_resize`},get(e){try{const t=window.localStorage.getItem(We.key(e))??"{}",r=JSON.parse(t);return so(r)?(Object.entries(r).forEach(([n,o])=>{Number.isFinite(o)||delete r[n]}),r):{}}catch{return{}}},set(e,t){window.localStorage.setItem(We.key(e),JSON.stringify(t))}};function ao(e,t){const{storageKey:r}=t??{},{columns:n}=e,[o,s]=u.useState(()=>r==null?{}:We.get(r)),a=u.useCallback((c,f)=>{const d=Math.min(1e3,Math.max(100,f));s(g=>{const y={...g,[c]:d};return r!=null&&We.set(r,y),y})},[r]),i=u.useCallback((c,f)=>{const{column:d,columnIndex:g=0,columnWidthList:y=[]}=f;if(d.disableResize)return c;const m="key"in d?d.key:d.dataIndex;let{width:x}=d;return typeof x=="string"&&(x=y[g]),b.jsx(oo,{width:x??0,height:47,handle:b.jsx("div",{className:"resize-handle",style:{width:10,position:"absolute",right:0,top:0,height:"100%",cursor:"col-resize"}}),onResize:(w,{size:C})=>{a(m,C.width)},children:c})},[a]),l=u.useMemo(()=>n.map(c=>{const f="key"in c?c.key:c.dataIndex,d=o[f];return d!=null&&d!==c.width?{...c,width:d}:c}),[o,n]);return{...e,columns:l,renderHeaderCell:i}}const Ho=ge(ao),io=e=>{const{colSpan:t,children:r}=e,{tableWidth:n}=zt();return b.jsx("tr",{children:b.jsx("td",{colSpan:t,children:b.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:n<=0?void 0:n},children:r})})})};function lo(e,t){const{children:r}=t,{dataSource:n}=e,o=n==null?!0:n.length===0,s=u.useMemo(()=>typeof r=="function"?u.createElement(r):r,[r]),a=u.useCallback((i,l)=>{if(!o)return i;const{columns:c}=l;if(u.isValidElement(i)){const f=i.props;return u.cloneElement(i,f,[...Array.isArray(f.children)?f.children:[],b.jsx(io,{colSpan:c.length,children:s},"virtual-table-placeholder$")])}return b.jsxs(b.Fragment,{children:[i,s]})},[o,s]);return o?{...e,renderBody:a}:e}const jo=ge(lo);function or(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function uo(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var co=function(e){return typeof e=="function"};function ft(e){var t=u.useRef(e);t.current=u.useMemo(function(){return e},[e]);var r=u.useRef();return r.current||(r.current=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t.current.apply(this,n)}),r.current}var fo=function(){var e=or(u.useState({}),2),t=e[1];return u.useCallback(function(){return t({})},[])};function sr(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r=t.defaultValue,n=t.defaultValuePropName,o=n===void 0?"defaultValue":n,s=t.valuePropName,a=s===void 0?"value":s,i=t.trigger,l=i===void 0?"onChange":i,c=e[a],f=Object.prototype.hasOwnProperty.call(e,a),d=u.useMemo(function(){return f?c:Object.prototype.hasOwnProperty.call(e,o)?e[o]:r},[]),g=u.useRef(d);f&&(g.current=c);var y=fo();function m(x){for(var w=[],C=1;C<arguments.length;C++)w[C-1]=arguments[C];var p=co(x)?x(g.current):x;f||(g.current=p,y()),e[l]&&e[l].apply(e,uo([p],or(w),!1))}return[g.current,ft(m)]}const po=e=>{const{className:t,style:r,rowIndex:n,isExpanded:o,colSpan:s,children:a,fixed:i}=e,{getRowHeightList:l,updateRowHeight:c}=Wt(),{tableWidth:f}=zt(),d=u.useRef(0);return b.jsx("tr",{className:B("virtual-table-expanded-row",t),style:{...r,display:o?void 0:"none"},ref:g=>{if(g==null)return;const y=l()[n]??0;o&&(d.current=g.offsetHeight,c(n,y+d.current))},children:b.jsx("td",{colSpan:s,children:b.jsx("div",{className:B("virtual-table-cell",i&&"virtual-table-expanded-row-fixed"),style:{width:f<=0?void 0:f},children:a})})})},ho="VirtualTable.EXPANSION_COLUMN";function Pt(e,t){return e[t]}const mo=[];function go(e,t){const r=t==null,{rowKey:n,columns:o,dataSource:s}=e,{defaultExpandedRowKeys:a,expandedRowRender:i,columnTitle:l,expandRowByClick:c=!1,expandIcon:f,onExpand:d,defaultExpandAllRows:g=!1,showExpandColumn:y=!0,expandedRowClassName:m,childrenColumnName:x,rowExpandable:w,columnWidth:C=50,fixed:p}=t??{},v=u.useMemo(()=>(s??[]).map(E=>w?w(E):!1),[s,w]),S=we(()=>v),h=u.useRef("expandedRowKeys"in(t??{})||"defaultExpandedRowKeys"in(t??{})?!1:g),R=we(()=>h.current?(s??[]).map((j,N)=>S[N]?j[n]:null).filter(j=>j!=null):[]),O=u.useRef(new Set(a??R)),[D=mo,H]=sr(t??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:a??R}),_=ft((E,j)=>{const N=Pt(E,n);O.current.add(N),j==null?D.includes(N)?(H(D.filter(I=>I!==N)),d==null||d(!1,E)):(H([...D,N]),d==null||d(!0,E)):j?(H([...D,N]),d==null||d(!0,E)):(H(D.filter(I=>I!==N)),d==null||d(!1,E))}),L=Le(p),z=u.useCallback((E,j)=>{const{rowData:N,rowIndex:I}=j;if(S[I]){const K=Pt(N,n),fe=D.includes(K),xe=O.current.has(K);let T="";return typeof m=="string"?T=m:typeof m=="function"&&(T=m(N,I,0)),b.jsxs(b.Fragment,{children:[E,xe&&b.jsx(po,{className:T,rowIndex:I,isExpanded:fe,colSpan:j.columns.length,fixed:L,children:i==null?void 0:i(N,I,0,fe)})]})}return E},[L,S,n,D,m,i]),F=u.useMemo(()=>y?[{key:ho,title:l,width:C,fixed:p,render(E,j,N){const I=j[n],Z=S[N]??!1,K=D.includes(I);return typeof f=="function"?f({expandable:Z,expanded:K,record:j,prefixCls:"virtual-table",onExpand:(fe,xe)=>{_(fe)}}):Z?b.jsx("button",{className:B("virtual-table-row-expand-icon",K?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":K?"关闭行":"展开行","aria-expanded":K,onClick:()=>{_(j,!K)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...o]:o,[y,l,C,p,o,n,S,D,f,_]),k=u.useCallback((E,j)=>S[j]?{onClick:N=>{N.stopPropagation(),_(E)}}:{},[S,_]);return r?e:{...e,columns:F,renderRow:z,onRow:c?k:void 0}}const Wo=ge(go);function ar(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:r}}const yo=()=>{const{addShouldSyncElement:e}=Ne(),t=u.useRef(null),[r,n]=u.useState(0);u.useEffect(()=>{var l;const s=(l=t.current)==null?void 0:l.parentElement,a=s==null?void 0:s.querySelector(":scope > .virtual-table-body-wrapper > .virtual-table-body");if(a==null)return;const i=new ResizeObserver(c=>{const{width:f}=c[0].contentRect;n(f)});return i.observe(a),()=>{i.disconnect()}},[]);const[o]=u.useState(ar);return b.jsx("div",{className:"virtual-table-sticky-scroll",style:{paddingTop:o.height>0?0:12,marginTop:o.height>0?0:o.height*-1,height:o.height},ref:Se(s=>{s!=null&&e("virtual-table-sticky-bottom-scroll",s)},t),children:b.jsx("div",{className:"virtual-table-sticky-scroll-bar",style:{width:r}})})};function vo(e){return{...e,renderContent(t){return b.jsxs(b.Fragment,{children:[t,b.jsx(yo,{})]})}}}const ko=ge(vo);function bo(e,t){const{loading:r=!1}=t??{},{columns:n,visibleCount:o}=e,s=u.useMemo(()=>Array.from({length:o},(i,l)=>({key:l})),[o]),a=u.useMemo(()=>r?n.map(i=>({...i,onCell(){return{className:"virtual-table-loading-cell"}},render(){return b.jsx("div",{className:"virtual-table-loading-skeleton"})}})):n,[r,n]);return r?{...e,columns:a,rowKey:"key",dataSource:s}:e}const Lo=ge(bo),wo=e=>{const{columns:t,fixed:r,children:n}=e,{addShouldSyncElement:o}=Ne(),[s]=u.useState(()=>ar().height);return b.jsx("div",{className:B("virtual-table-summary-wrapper",r&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border"),style:{paddingBottom:s},ref:a=>{a!=null&&o("virtual-table-summary",a)},children:b.jsxs("table",{className:"virtual-table-summary",children:[b.jsx("colgroup",{children:t.map((a,i)=>{const l="key"in a?a.key:a.dataIndex;return b.jsx("col",{style:{width:a.width,minWidth:a.minWidth}},typeof l=="symbol"?i:l)})}),b.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:n})]})})};function So(e){const{className:t,style:r,children:n,align:o,colSpan:s,index:a,...i}=e,{size:l,fixed:c}=nt(),f=c[a],{left:d,right:g}=u.useMemo(()=>{const w=ot(c,p=>re(p)),C=c.findIndex(p=>ne(p));return{left:w,right:C}},[c]);if(s===0)return null;const y=Math.max(0,(s??0)-1);let m=a+y,x=l[m];return s!=null&&(m===d?m=a+y:a===g&&(m=a,x=l[m+y])),b.jsx("td",{...i,colSpan:s,className:B("virtual-table-cell virtual-table-summary-cell",o!=null&&`virtual-table-align-${o}`,Le(f)&&"virtual-table-sticky-cell",d===m&&"virtual-table-cell-fix-left-last",g===m&&"virtual-table-cell-fix-right-first",t),style:{...r,left:re(f)?l[a]:void 0,right:ne(f)?x:void 0},children:n})}const xo=u.memo(So),Ro=({children:e,...t})=>b.jsx("tr",{...t,children:e});function dt({children:e}){return e}dt.Row=Ro;dt.Cell=xo;function Co(e,t){const{summary:r}=t??{},{columns:n,dataSource:o}=e,s=r==null?void 0:r(o??[]),a=u.isValidElement(s)&&s.type===dt&&s.props.fixed,i=u.useCallback(l=>b.jsxs(b.Fragment,{children:[l,b.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:s})]}),[s]);return r==null?e:a==="top"?{...e,renderHeader:i}:{...e,renderContent(l){return b.jsxs(b.Fragment,{children:[l,b.jsx(wo,{fixed:a==="bottom"||a,columns:n,children:s})]})}}}const Io=ge(Co);function Oo(e,t){const{className:r,multiple:n,indeterminate:o,value:s=!1,onChange:a,component:i,...l}=e,c=i!=null,f=u.useRef(null);return u.useEffect(()=>{if(c)return;const d=f.current;d!=null&&(d.indeterminate=!!o)},[c,o]),c?u.createElement(i,e):b.jsx("input",{...l,ref:Se(f,t),className:B("virtual-table-selection",r),type:n?"checkbox":"radio",checked:s,onChange:d=>{a==null||a(d.target.checked,d.nativeEvent)}})}const Et=u.forwardRef(Oo),Po="VirtualTable.SELECTION_COLUMN",Eo=[];function Do(e,t){const r=t==null,{columns:n}=e,o=e.rowKey,s=r?Eo:e.dataSource??[],{component:a,preserveSelectedRowKeys:i,multiple:l=!0,getCheckboxProps:c,onSelect:f,hideSelectAll:d=!1,fixed:g="left",columnWidth:y,columnTitle:m,disableResize:x=!0,renderCell:w,onCell:C}=t??{},[p=[],v]=sr(t??{},{defaultValuePropName:"defaultSelectedRowKeys",valuePropName:"selectedRowKeys",trigger:"onChange"}),S=u.useCallback(z=>{const F=z[o];return p.includes(F)?"virtual-table-row-selected":""},[o,p]),h=we(()=>s.map(z=>c?c(z):{})),R=we(()=>s.filter((z,F)=>!h[F].disabled).map(z=>z[o])),O=u.useRef(new Map),D=!h.some(z=>!z.disabled),H=ft(z=>{const F=[];return z.forEach(k=>{let E=s.find(j=>j[o]===k);E==null&&i&&(E=O.current.get(k)),!(E==null&&!i)&&F.push(E)}),F}),_=u.useRef(null),L=u.useMemo(()=>{if(r)return n;const z=p.length>0,F=z&&R.length>p.length,k=z?R.length>0&&R.every(T=>p.includes(T)):!1,E=T=>{const $=new Set(T);return i?Array.from($):Array.from($).filter(V=>R.includes(V))},j=(T,$)=>{const V=_.current??T,ae=Math.min(V,T),de=Math.max(V,T),pe=R.slice(ae,de+1),Re=pe.some(le=>!p.includes(le));_.current=Re?de:null;const he=E($?[...p,...pe]:p.filter(le=>!pe.includes(le))),ee=H(he);v(he,ee,{type:"multiple"})},N=()=>{const T=E([...p,...R]),$=H(T);v(T,$,{type:"all"})},I=()=>{const T=R.filter(V=>!p.includes(V)),$=H(T);v(T,$,{type:"invert"})},Z=()=>{v([],[],{type:"none"})},K={indeterminate:F,value:k,disabled:D,multiple:l,onChange:T=>{T?N():Z()},onClear:Z,onSelectAll:N,onSelectInvert:I,allKeys:R};return[{title:d?void 0:(()=>{if(!l)return u.isValidElement(m)?m:typeof m=="function"?m(void 0,K):null;let T=b.jsx("div",{className:"virtual-table-selection",children:b.jsx(Et,{component:a,multiple:l,value:k,indeterminate:F,disabled:D,onChange:$=>{$?N():Z()}})});return u.isValidElement(m)?T=m:typeof m=="function"&&(T=m(T,K)),T})(),width:y??32,align:"center",fixed:g,key:Po,disableResize:x,render(T,$,V){const ae=$[o],de=p.includes(ae),pe=h[V],Re=()=>{i&&O.current.set(ae,$)},he=b.jsx(Et,{...pe,component:a,value:de,multiple:l,onChange:(ee,le)=>{if(Re(),l&&le.shiftKey){j(V,ee);return}ee?_.current=V:_.current=null;let Ce=[ae];l&&(Ce=E(ee?[...p,ae]:p.filter(Ye=>Ye!==ae)));const Me=H(Ce);f==null||f($,ee,Me,le),v(Ce,Me,{type:"single"})}});return typeof w=="function"?w(de,$,V,he):he},onCell:C,onHeaderCell(){return{className:"virtual-table-selection-column"}}},...n]},[r,x,D,R,m,y,g,H,d,C,f,i,n,w,o,p,h,v,l,a]);return r?e:{...e,rowClassName:S,columns:L}}const $o=ge(Do);export{dt as S,Mo as V,ge as a,Wo as b,B as c,Ho as d,Lo as e,jo as f,Io as g,ko as h,$o as t,To as u};
