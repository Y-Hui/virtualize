import{r as d,j as e}from"./index-8V3bJXfn.js";import{t as _,b as N,g as P,S as n,u as z,d as M,e as B,f as L,h as A,V as G}from"./table-selection-Bp60XWeH.js";import{a as H,E as w,S as K,B as f,I as c,R as x}from"./mock-gNvNgg34.js";import{R as O,a as V,T as h}from"./MinusOutlined-7fLmJIy7.js";import{S as m}from"./index-CJuP8JEO.js";const U=()=>{const[u,b]=d.useState("bottom"),[j,v]=d.useState(!1),[g,S]=d.useState(!0),[p,R]=d.useState(!1),[y,o]=H(),k=d.useMemo(()=>_({extraColumnProps:{disableResize:!0},onSelect(r,i,a,s){console.log({record:r,selected:i,selectedRows:a,nativeEvent:s})},onChange(r,i,a){console.log({selectedRowKeys:r,selectedRows:i,info:a})}}),[]),E=d.useMemo(()=>N({extraColumnProps:{disableResize:!0},fixed:"left",defaultExpandAllRows:!0,rowExpandable:()=>!0,expandedRowRender(r){return r.name}}),[]),I=d.useMemo(()=>P({summary:()=>e.jsx(n,{fixed:u,children:e.jsxs(n.Row,{children:[e.jsx(n.Cell,{index:0,children:"0"}),e.jsx(n.Cell,{index:1,children:"1"}),e.jsx(n.Cell,{index:2,children:"2"}),e.jsx(n.Cell,{index:3,children:"3"}),e.jsx(n.Cell,{index:4,children:"4"}),e.jsx(n.Cell,{index:5,children:"5"}),e.jsx(n.Cell,{index:6,children:"6"}),e.jsx(n.Cell,{index:7,children:"7"}),e.jsx(n.Cell,{index:8,children:"8"}),e.jsx(n.Cell,{index:9,children:"9"}),e.jsx(n.Cell,{index:10,children:"10"})]})})}),[u]),D=z({use:[k,E,M({storageKey:"full-demo",min(r){if(r.key==="name")return console.log(r),160}}),{priority:200,hook:B({loading:j})},{priority:200,hook:L({children:e.jsx(w,{image:w.PRESENTED_IMAGE_SIMPLE})})},{priority:200,hook:I},{priority:200,hook:A()}]}),C=y.length===1,T=d.useMemo(()=>[{title:"",key:"prefix-action",width:80,fixed:"left",render(r,i,a){return e.jsxs(K,{children:[e.jsx(f,{icon:e.jsx(O,{}),size:"small",shape:"circle",color:"primary",variant:"outlined",onClick:()=>{o(s=>{const l=s.slice();return l.splice(a+1,0,{key:`key:${Date.now()}`}),l})}}),e.jsx(f,{icon:e.jsx(V,{}),size:"small",shape:"circle",danger:!0,disabled:C,onClick:()=>{o(s=>{const l=s.slice();return l.splice(a,1),l})}})]})}},{title:"Name",dataIndex:"name",key:"name",width:200,render:(r,i,a)=>e.jsx(c,{value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],name:s.currentTarget.value},t})}})},{title:"Data1",dataIndex:"data1",width:200,render:(r,i,a)=>e.jsx(h,{className:"w-full",value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],data1:s},t})}})},{title:"Data2",dataIndex:"data2",width:200,render:(r,i,a)=>e.jsx(h,{className:"w-full",value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],data2:s},t})}})},{title:"Data3",dataIndex:"data3",width:200,render:(r,i,a)=>e.jsx(h,{className:"w-full",value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],data3:s},t})}})},{title:"Data4",dataIndex:"data4",width:200,render:(r,i,a)=>e.jsx(c,{value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],data4:s.currentTarget.value},t})}})},{title:"Data5",dataIndex:"data5",width:200,render:(r,i,a)=>e.jsx(c,{value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],data5:s.currentTarget.value},t})}})},{title:"Data6",dataIndex:"data6",width:200,fixed:"right",render:(r,i,a)=>e.jsx(c,{value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],data6:s.currentTarget.value},t})}})},{title:"Data7",dataIndex:"data7",width:200,fixed:"right",render:(r,i,a)=>e.jsx(c,{value:r,onChange:s=>{o(l=>{const t=l.slice();return t[a]={...t[a],data7:s.currentTarget.value},t})}})}],[C,o]);return e.jsxs("div",{style:{padding:16},children:[e.jsxs("div",{style:{marginBottom:30,display:"grid",gridTemplateColumns:"repeat(5, minmax(0, 1fr))"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"总结栏位置"}),e.jsxs(x.Group,{value:u,onChange:r=>b(r.target.value),children:[e.jsx(x,{value:"top",children:"Top"}),e.jsx(x,{value:"bottom",children:"Bottom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Loading"}),e.jsx(m,{value:j,onChange:v})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Sticky"}),e.jsx(m,{value:g,onChange:S})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Empty"}),e.jsx(m,{value:p,onChange:R})]})]}),e.jsx("div",{children:e.jsx(G,{pipeline:D,className:"virtual-table-small",rowKey:"key",dataSource:p?[]:y,columns:T,estimatedRowHeight:49,stickyHeader:g})})]})};export{U as default};
