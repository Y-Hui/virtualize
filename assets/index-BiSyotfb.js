import{K as Ge,L as ee,M as Fe,r as _,j as C}from"./index-CUVH4KhH.js";import{b as te,g as me,d as Le,e as Ie,c as Y,f as be,i as Je,j as ge,k as Se,l as Xe,m as ae,n as oe,o as Qe,p as Ze,q as et,r as tt,C as rt}from"./index-DvzbgAHF.js";import{u as nt}from"./table-selection-DY_b221O.js";var U={exports:{}},$={},V={exports:{}},fe={},de={exports:{}},pe,we;function at(){if(we)return pe;we=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pe=r,pe}var he,xe;function ot(){if(xe)return he;xe=1;var r=at();function c(){}function d(){}return d.resetWarningCache=c,he=function(){function u(m,S,h,v,g,f){if(f!==r){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}u.isRequired=u;function y(){return u}var p={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:y,element:u,elementType:u,instanceOf:y,node:u,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:d,resetWarningCache:c};return p.PropTypes=p,p},he}var Oe;function le(){return Oe||(Oe=1,de.exports=ot()()),de.exports}function Ye(r){var c,d,u="";if(typeof r=="string"||typeof r=="number")u+=r;else if(typeof r=="object")if(Array.isArray(r))for(c=0;c<r.length;c++)r[c]&&(d=Ye(r[c]))&&(u&&(u+=" "),u+=d);else for(c in r)r[c]&&(u&&(u+=" "),u+=c);return u}function Re(){for(var r,c,d=0,u="";d<arguments.length;)(r=arguments[d++])&&(c=Ye(r))&&(u&&(u+=" "),u+=c);return u}const it=Object.freeze(Object.defineProperty({__proto__:null,clsx:Re,default:Re},Symbol.toStringTag,{value:"Module"})),st=Ge(it);var W={},I={},Pe;function ue(){if(Pe)return I;Pe=1,Object.defineProperty(I,"__esModule",{value:!0}),I.dontSetMe=y,I.findInArray=r,I.int=u,I.isFunction=c,I.isNum=d;function r(p,m){for(let S=0,h=p.length;S<h;S++)if(m.apply(m,[p[S],S,p]))return p[S]}function c(p){return typeof p=="function"||Object.prototype.toString.call(p)==="[object Function]"}function d(p){return typeof p=="number"&&!isNaN(p)}function u(p){return parseInt(p,10)}function y(p,m,S){if(p[m])return new Error("Invalid prop ".concat(m," passed to ").concat(S," - do not set this, set it on the child."))}return I}var X={},De;function lt(){if(De)return X;De=1,Object.defineProperty(X,"__esModule",{value:!0}),X.browserPrefixToKey=d,X.browserPrefixToStyle=u,X.default=void 0,X.getPrefix=c;const r=["Moz","Webkit","O","ms"];function c(){var p;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const S=(p=window.document)===null||p===void 0||(p=p.documentElement)===null||p===void 0?void 0:p.style;if(!S||m in S)return"";for(let h=0;h<r.length;h++)if(d(m,r[h])in S)return r[h];return""}function d(p,m){return m?"".concat(m).concat(y(p)):p}function u(p,m){return m?"-".concat(m.toLowerCase(),"-").concat(p):p}function y(p){let m="",S=!0;for(let h=0;h<p.length;h++)S?(m+=p[h].toUpperCase(),S=!1):p[h]==="-"?S=!0:m+=p[h];return m}return X.default=c(),X}var Ce;function ye(){if(Ce)return W;Ce=1,Object.defineProperty(W,"__esModule",{value:!0}),W.addClassName=a,W.addEvent=S,W.addUserSelectStyles=n,W.createCSSTransform=w,W.createSVGTransform=P,W.getTouch=i,W.getTouchIdentifier=t,W.getTranslation=O,W.innerHeight=f,W.innerWidth=R,W.matchesSelector=p,W.matchesSelectorAndParentsTo=m,W.offsetXYFromParent=x,W.outerHeight=v,W.outerWidth=g,W.removeClassName=s,W.removeEvent=h,W.removeUserSelectStyles=o;var r=ue(),c=u(lt());function d(e){if(typeof WeakMap!="function")return null;var l=new WeakMap,b=new WeakMap;return(d=function(D){return D?b:l})(e)}function u(e,l){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var b=d(l);if(b&&b.has(e))return b.get(e);var D={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in e)if(N!=="default"&&Object.prototype.hasOwnProperty.call(e,N)){var j=E?Object.getOwnPropertyDescriptor(e,N):null;j&&(j.get||j.set)?Object.defineProperty(D,N,j):D[N]=e[N]}return D.default=e,b&&b.set(e,D),D}let y="";function p(e,l){return y||(y=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(b){return(0,r.isFunction)(e[b])})),(0,r.isFunction)(e[y])?e[y](l):!1}function m(e,l,b){let D=e;do{if(p(D,l))return!0;if(D===b)return!1;D=D.parentNode}while(D);return!1}function S(e,l,b,D){if(!e)return;const E={capture:!0,...D};e.addEventListener?e.addEventListener(l,b,E):e.attachEvent?e.attachEvent("on"+l,b):e["on"+l]=b}function h(e,l,b,D){if(!e)return;const E={capture:!0,...D};e.removeEventListener?e.removeEventListener(l,b,E):e.detachEvent?e.detachEvent("on"+l,b):e["on"+l]=null}function v(e){let l=e.clientHeight;const b=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(b.borderTopWidth),l+=(0,r.int)(b.borderBottomWidth),l}function g(e){let l=e.clientWidth;const b=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(b.borderLeftWidth),l+=(0,r.int)(b.borderRightWidth),l}function f(e){let l=e.clientHeight;const b=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(b.paddingTop),l-=(0,r.int)(b.paddingBottom),l}function R(e){let l=e.clientWidth;const b=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(b.paddingLeft),l-=(0,r.int)(b.paddingRight),l}function x(e,l,b){const E=l===l.ownerDocument.body?{left:0,top:0}:l.getBoundingClientRect(),N=(e.clientX+l.scrollLeft-E.left)/b,j=(e.clientY+l.scrollTop-E.top)/b;return{x:N,y:j}}function w(e,l){const b=O(e,l,"px");return{[(0,c.browserPrefixToKey)("transform",c.default)]:b}}function P(e,l){return O(e,l,"")}function O(e,l,b){let{x:D,y:E}=e,N="translate(".concat(D).concat(b,",").concat(E).concat(b,")");if(l){const j="".concat(typeof l.x=="string"?l.x:l.x+b),q="".concat(typeof l.y=="string"?l.y:l.y+b);N="translate(".concat(j,", ").concat(q,")")+N}return N}function i(e,l){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,b=>l===b.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,b=>l===b.identifier)}function t(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function n(e){if(!e)return;let l=e.getElementById("react-draggable-style-el");l||(l=e.createElement("style"),l.type="text/css",l.id="react-draggable-style-el",l.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,l.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(l)),e.body&&a(e.body,"react-draggable-transparent-selection")}function o(e){if(e)try{if(e.body&&s(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const l=(e.defaultView||window).getSelection();l&&l.type!=="Caret"&&l.removeAllRanges()}}catch{}}function a(e,l){e.classList?e.classList.add(l):e.className.match(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)")))||(e.className+=" ".concat(l))}function s(e,l){e.classList?e.classList.remove(l):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)"),"g"),"")}return W}var L={},_e;function Ke(){if(_e)return L;_e=1,Object.defineProperty(L,"__esModule",{value:!0}),L.canDragX=y,L.canDragY=p,L.createCoreData=S,L.createDraggableData=h,L.getBoundPosition=d,L.getControlPosition=m,L.snapToGrid=u;var r=ue(),c=ye();function d(f,R,x){if(!f.props.bounds)return[R,x];let{bounds:w}=f.props;w=typeof w=="string"?w:v(w);const P=g(f);if(typeof w=="string"){const{ownerDocument:O}=P,i=O.defaultView;let t;if(w==="parent"?t=P.parentNode:t=O.querySelector(w),!(t instanceof i.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const n=t,o=i.getComputedStyle(P),a=i.getComputedStyle(n);w={left:-P.offsetLeft+(0,r.int)(a.paddingLeft)+(0,r.int)(o.marginLeft),top:-P.offsetTop+(0,r.int)(a.paddingTop)+(0,r.int)(o.marginTop),right:(0,c.innerWidth)(n)-(0,c.outerWidth)(P)-P.offsetLeft+(0,r.int)(a.paddingRight)-(0,r.int)(o.marginRight),bottom:(0,c.innerHeight)(n)-(0,c.outerHeight)(P)-P.offsetTop+(0,r.int)(a.paddingBottom)-(0,r.int)(o.marginBottom)}}return(0,r.isNum)(w.right)&&(R=Math.min(R,w.right)),(0,r.isNum)(w.bottom)&&(x=Math.min(x,w.bottom)),(0,r.isNum)(w.left)&&(R=Math.max(R,w.left)),(0,r.isNum)(w.top)&&(x=Math.max(x,w.top)),[R,x]}function u(f,R,x){const w=Math.round(R/f[0])*f[0],P=Math.round(x/f[1])*f[1];return[w,P]}function y(f){return f.props.axis==="both"||f.props.axis==="x"}function p(f){return f.props.axis==="both"||f.props.axis==="y"}function m(f,R,x){const w=typeof R=="number"?(0,c.getTouch)(f,R):null;if(typeof R=="number"&&!w)return null;const P=g(x),O=x.props.offsetParent||P.offsetParent||P.ownerDocument.body;return(0,c.offsetXYFromParent)(w||f,O,x.props.scale)}function S(f,R,x){const w=!(0,r.isNum)(f.lastX),P=g(f);return w?{node:P,deltaX:0,deltaY:0,lastX:R,lastY:x,x:R,y:x}:{node:P,deltaX:R-f.lastX,deltaY:x-f.lastY,lastX:f.lastX,lastY:f.lastY,x:R,y:x}}function h(f,R){const x=f.props.scale;return{node:R.node,x:f.state.x+R.deltaX/x,y:f.state.y+R.deltaY/x,deltaX:R.deltaX/x,deltaY:R.deltaY/x,lastX:f.state.x,lastY:f.state.y}}function v(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function g(f){const R=f.findDOMNode();if(!R)throw new Error("<DraggableCore>: Unmounted during event!");return R}return L}var G={},re={},Ee;function Be(){if(Ee)return re;Ee=1,Object.defineProperty(re,"__esModule",{value:!0}),re.default=r;function r(){}return re}var Ne;function ut(){if(Ne)return G;Ne=1,Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var r=v(ee()),c=S(le()),d=S(Fe()),u=ye(),y=Ke(),p=ue(),m=S(Be());function S(O){return O&&O.__esModule?O:{default:O}}function h(O){if(typeof WeakMap!="function")return null;var i=new WeakMap,t=new WeakMap;return(h=function(n){return n?t:i})(O)}function v(O,i){if(O&&O.__esModule)return O;if(O===null||typeof O!="object"&&typeof O!="function")return{default:O};var t=h(i);if(t&&t.has(O))return t.get(O);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in O)if(a!=="default"&&Object.prototype.hasOwnProperty.call(O,a)){var s=o?Object.getOwnPropertyDescriptor(O,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=O[a]}return n.default=O,t&&t.set(O,n),n}function g(O,i,t){return i=f(i),i in O?Object.defineProperty(O,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):O[i]=t,O}function f(O){var i=R(O,"string");return typeof i=="symbol"?i:String(i)}function R(O,i){if(typeof O!="object"||O===null)return O;var t=O[Symbol.toPrimitive];if(t!==void 0){var n=t.call(O,i);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(O)}const x={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let w=x.mouse,P=class extends r.Component{constructor(){super(...arguments),g(this,"dragging",!1),g(this,"lastX",NaN),g(this,"lastY",NaN),g(this,"touchIdentifier",null),g(this,"mounted",!1),g(this,"handleDragStart",i=>{if(this.props.onMouseDown(i),!this.props.allowAnyClick&&typeof i.button=="number"&&i.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(i.target instanceof n.defaultView.Node)||this.props.handle&&!(0,u.matchesSelectorAndParentsTo)(i.target,this.props.handle,t)||this.props.cancel&&(0,u.matchesSelectorAndParentsTo)(i.target,this.props.cancel,t))return;i.type==="touchstart"&&i.preventDefault();const o=(0,u.getTouchIdentifier)(i);this.touchIdentifier=o;const a=(0,y.getControlPosition)(i,o,this);if(a==null)return;const{x:s,y:e}=a,l=(0,y.createCoreData)(this,s,e);(0,m.default)("DraggableCore: handleDragStart: %j",l),(0,m.default)("calling",this.props.onStart),!(this.props.onStart(i,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=e,(0,u.addEvent)(n,w.move,this.handleDrag),(0,u.addEvent)(n,w.stop,this.handleDragStop))}),g(this,"handleDrag",i=>{const t=(0,y.getControlPosition)(i,this.touchIdentifier,this);if(t==null)return;let{x:n,y:o}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,l=o-this.lastY;if([e,l]=(0,y.snapToGrid)(this.props.grid,e,l),!e&&!l)return;n=this.lastX+e,o=this.lastY+l}const a=(0,y.createCoreData)(this,n,o);if((0,m.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(i,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=o}),g(this,"handleDragStop",i=>{if(!this.dragging)return;const t=(0,y.getControlPosition)(i,this.touchIdentifier,this);if(t==null)return;let{x:n,y:o}=t;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,b=o-this.lastY||0;[l,b]=(0,y.snapToGrid)(this.props.grid,l,b),n=this.lastX+l,o=this.lastY+b}const a=(0,y.createCoreData)(this,n,o);if(this.props.onStop(i,a)===!1||this.mounted===!1)return!1;const e=this.findDOMNode();e&&this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(e.ownerDocument),(0,m.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,e&&((0,m.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(e.ownerDocument,w.move,this.handleDrag),(0,u.removeEvent)(e.ownerDocument,w.stop,this.handleDragStop))}),g(this,"onMouseDown",i=>(w=x.mouse,this.handleDragStart(i))),g(this,"onMouseUp",i=>(w=x.mouse,this.handleDragStop(i))),g(this,"onTouchStart",i=>(w=x.touch,this.handleDragStart(i))),g(this,"onTouchEnd",i=>(w=x.touch,this.handleDragStop(i)))}componentDidMount(){this.mounted=!0;const i=this.findDOMNode();i&&(0,u.addEvent)(i,x.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const i=this.findDOMNode();if(i){const{ownerDocument:t}=i;(0,u.removeEvent)(t,x.mouse.move,this.handleDrag),(0,u.removeEvent)(t,x.touch.move,this.handleDrag),(0,u.removeEvent)(t,x.mouse.stop,this.handleDragStop),(0,u.removeEvent)(t,x.touch.stop,this.handleDragStop),(0,u.removeEvent)(i,x.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(t)}}findDOMNode(){var i,t;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:d.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return G.default=P,g(P,"displayName","DraggableCore"),g(P,"propTypes",{allowAnyClick:c.default.bool,children:c.default.node.isRequired,disabled:c.default.bool,enableUserSelectHack:c.default.bool,offsetParent:function(O,i){if(O[i]&&O[i].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:c.default.arrayOf(c.default.number),handle:c.default.string,cancel:c.default.string,nodeRef:c.default.object,onStart:c.default.func,onDrag:c.default.func,onStop:c.default.func,onMouseDown:c.default.func,scale:c.default.number,className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),g(P,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),G}var ze;function ct(){return ze||(ze=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),r.default=void 0;var c=R(ee()),d=g(le()),u=g(Fe()),y=g(st),p=ye(),m=Ke(),S=ue(),h=g(ut()),v=g(Be());function g(t){return t&&t.__esModule?t:{default:t}}function f(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(f=function(a){return a?o:n})(t)}function R(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=s?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,o&&o.set(t,a),a}function x(){return x=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},x.apply(this,arguments)}function w(t,n,o){return n=P(n),n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function P(t){var n=O(t,"string");return typeof n=="symbol"?n:String(n)}function O(t,n){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var a=o.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}class i extends c.Component{static getDerivedStateFromProps(n,o){let{position:a}=n,{prevPropsPosition:s}=o;return a&&(!s||a.x!==s.x||a.y!==s.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:s}),{x:a.x,y:a.y,prevPropsPosition:{...a}}):null}constructor(n){super(n),w(this,"onDragStart",(o,a)=>{if((0,v.default)("Draggable: onDragStart: %j",a),this.props.onStart(o,(0,m.createDraggableData)(this,a))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(o,a)=>{if(!this.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",a);const s=(0,m.createDraggableData)(this,a),e={x:s.x,y:s.y,slackX:0,slackY:0};if(this.props.bounds){const{x:b,y:D}=e;e.x+=this.state.slackX,e.y+=this.state.slackY;const[E,N]=(0,m.getBoundPosition)(this,e.x,e.y);e.x=E,e.y=N,e.slackX=this.state.slackX+(b-e.x),e.slackY=this.state.slackY+(D-e.y),s.x=e.x,s.y=e.y,s.deltaX=e.x-this.state.x,s.deltaY=e.y-this.state.y}if(this.props.onDrag(o,s)===!1)return!1;this.setState(e)}),w(this,"onDragStop",(o,a)=>{if(!this.state.dragging||this.props.onStop(o,(0,m.createDraggableData)(this,a))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",a);const e={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:b,y:D}=this.props.position;e.x=b,e.y=D}this.setState(e)}),this.state={dragging:!1,dragged:!1,x:n.position?n.position.x:n.defaultPosition.x,y:n.position?n.position.y:n.defaultPosition.y,prevPropsPosition:{...n.position},slackX:0,slackY:0,isElementSVG:!1},n.position&&!(n.onDrag||n.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var n,o;return(n=(o=this.props)===null||o===void 0||(o=o.nodeRef)===null||o===void 0?void 0:o.current)!==null&&n!==void 0?n:u.default.findDOMNode(this)}render(){const{axis:n,bounds:o,children:a,defaultPosition:s,defaultClassName:e,defaultClassNameDragging:l,defaultClassNameDragged:b,position:D,positionOffset:E,scale:N,...j}=this.props;let q={},T=null;const z=!!!D||this.state.dragging,H=D||s,F={x:(0,m.canDragX)(this)&&z?this.state.x:H.x,y:(0,m.canDragY)(this)&&z?this.state.y:H.y};this.state.isElementSVG?T=(0,p.createSVGTransform)(F,E):q=(0,p.createCSSTransform)(F,E);const k=(0,y.default)(a.props.className||"",e,{[l]:this.state.dragging,[b]:this.state.dragged});return c.createElement(h.default,x({},j,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),c.cloneElement(c.Children.only(a),{className:k,style:{...a.props.style,...q},transform:T}))}}r.default=i,w(i,"displayName","Draggable"),w(i,"propTypes",{...h.default.propTypes,axis:d.default.oneOf(["both","x","y","none"]),bounds:d.default.oneOfType([d.default.shape({left:d.default.number,right:d.default.number,top:d.default.number,bottom:d.default.number}),d.default.string,d.default.oneOf([!1])]),defaultClassName:d.default.string,defaultClassNameDragging:d.default.string,defaultClassNameDragged:d.default.string,defaultPosition:d.default.shape({x:d.default.number,y:d.default.number}),positionOffset:d.default.shape({x:d.default.oneOfType([d.default.number,d.default.string]),y:d.default.oneOfType([d.default.number,d.default.string])}),position:d.default.shape({x:d.default.number,y:d.default.number}),className:S.dontSetMe,style:S.dontSetMe,transform:S.dontSetMe}),w(i,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(fe)),fe}var Te;function Ae(){if(Te)return V.exports;Te=1;const{default:r,DraggableCore:c}=ct();return V.exports=r,V.exports.default=r,V.exports.DraggableCore=c,V.exports}var ne={},Me;function ft(){if(Me)return ne;Me=1,ne.__esModule=!0,ne.cloneElement=S;var r=c(ee());function c(h){return h&&h.__esModule?h:{default:h}}function d(h,v){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);v&&(f=f.filter(function(R){return Object.getOwnPropertyDescriptor(h,R).enumerable})),g.push.apply(g,f)}return g}function u(h){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?d(Object(g),!0).forEach(function(f){y(h,f,g[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):d(Object(g)).forEach(function(f){Object.defineProperty(h,f,Object.getOwnPropertyDescriptor(g,f))})}return h}function y(h,v,g){return v=p(v),v in h?Object.defineProperty(h,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[v]=g,h}function p(h){var v=m(h,"string");return typeof v=="symbol"?v:String(v)}function m(h,v){if(typeof h!="object"||h===null)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var f=g.call(h,v);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(h)}function S(h,v){return v.style&&h.props.style&&(v.style=u(u({},h.props.style),v.style)),v.className&&h.props.className&&(v.className=h.props.className+" "+v.className),r.default.cloneElement(h,v)}return ne}var J={},je;function Ue(){if(je)return J;je=1,J.__esModule=!0,J.resizableProps=void 0;var r=c(le());Ae();function c(u){return u&&u.__esModule?u:{default:u}}var d={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var y=arguments.length,p=new Array(y),m=0;m<y;m++)p[m]=arguments[m];var S=p[0];if(S.axis==="both"||S.axis==="y"){var h;return(h=r.default.number).isRequired.apply(h,p)}return r.default.number.apply(r.default,p)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var y=arguments.length,p=new Array(y),m=0;m<y;m++)p[m]=arguments[m];var S=p[0];if(S.axis==="both"||S.axis==="x"){var h;return(h=r.default.number).isRequired.apply(h,p)}return r.default.number.apply(r.default,p)}};return J.resizableProps=d,J}var We;function $e(){if(We)return $;We=1,$.__esModule=!0,$.default=void 0;var r=m(ee()),c=Ae(),d=ft(),u=Ue(),y=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function p(i){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(p=function(a){return a?n:t})(i)}function m(i,t){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var n=p(t);if(n&&n.has(i))return n.get(i);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in i)if(s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)){var e=a?Object.getOwnPropertyDescriptor(i,s):null;e&&(e.get||e.set)?Object.defineProperty(o,s,e):o[s]=i[s]}return o.default=i,n&&n.set(i,o),o}function S(){return S=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},S.apply(this,arguments)}function h(i,t){if(i==null)return{};var n={},o=Object.keys(i),a,s;for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&(n[a]=i[a]);return n}function v(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,o)}return n}function g(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(o){f(i,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))})}return i}function f(i,t,n){return t=R(t),t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function R(i){var t=x(i,"string");return typeof t=="symbol"?t:String(t)}function x(i,t){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var o=n.call(i,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function w(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,P(i,t)}function P(i,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},P(i,t)}var O=function(i){w(t,i);function t(){for(var o,a=arguments.length,s=new Array(a),e=0;e<a;e++)s[e]=arguments[e];return o=i.call.apply(i,[this].concat(s))||this,o.handleRefs={},o.lastHandleRect=null,o.slack=null,o}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(a,s){var e=this.props,l=e.minConstraints,b=e.maxConstraints,D=e.lockAspectRatio;if(!l&&!b&&!D)return[a,s];if(D){var E=this.props.width/this.props.height,N=a-this.props.width,j=s-this.props.height;Math.abs(N)>Math.abs(j*E)?s=a/E:a=s*E}var q=a,T=s,M=this.slack||[0,0],z=M[0],H=M[1];return a+=z,s+=H,l&&(a=Math.max(l[0],a),s=Math.max(l[1],s)),b&&(a=Math.min(b[0],a),s=Math.min(b[1],s)),this.slack=[z+(q-a),H+(T-s)],[a,s]},n.resizeHandler=function(a,s){var e=this;return function(l,b){var D=b.node,E=b.deltaX,N=b.deltaY;a==="onResizeStart"&&e.resetData();var j=(e.props.axis==="both"||e.props.axis==="x")&&s!=="n"&&s!=="s",q=(e.props.axis==="both"||e.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!j&&!q)){var T=s[0],M=s[s.length-1],z=D.getBoundingClientRect();if(e.lastHandleRect!=null){if(M==="w"){var H=z.left-e.lastHandleRect.left;E+=H}if(T==="n"){var F=z.top-e.lastHandleRect.top;N+=F}}e.lastHandleRect=z,M==="w"&&(E=-E),T==="n"&&(N=-N);var k=e.props.width+(j?E/e.props.transformScale:0),K=e.props.height+(q?N/e.props.transformScale:0),B=e.runConstraints(k,K);k=B[0],K=B[1];var ce=k!==e.props.width||K!==e.props.height,A=typeof e.props[a]=="function"?e.props[a]:null,Ve=a==="onResize"&&!ce;A&&!Ve&&(l.persist==null||l.persist(),A(l,{node:D,size:{width:k,height:K},handle:s})),a==="onResizeStop"&&e.resetData()}}},n.renderResizeHandle=function(a,s){var e=this.props.handle;if(!e)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:s});if(typeof e=="function")return e(a,s);var l=typeof e.type=="string",b=g({ref:s},l?{}:{handleAxis:a});return r.cloneElement(e,b)},n.render=function(){var a=this,s=this.props,e=s.children,l=s.className,b=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var D=s.resizeHandles;s.transformScale;var E=h(s,y);return(0,d.cloneElement)(e,g(g({},E),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(e.props.children,D.map(function(N){var j,q=(j=a.handleRefs[N])!=null?j:a.handleRefs[N]=r.createRef();return r.createElement(c.DraggableCore,S({},b,{nodeRef:q,key:"resizableHandle-"+N,onStop:a.resizeHandler("onResizeStop",N),onStart:a.resizeHandler("onResizeStart",N),onDrag:a.resizeHandler("onResize",N)}),a.renderResizeHandle(N,q))}))}))},t}(r.Component);return $.default=O,O.propTypes=u.resizableProps,O.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},$}var Q={},He;function dt(){if(He)return Q;He=1,Q.__esModule=!0,Q.default=void 0;var r=S(ee()),c=p(le()),d=p($e()),u=Ue(),y=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function p(t){return t&&t.__esModule?t:{default:t}}function m(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(m=function(s){return s?o:n})(t)}function S(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=m(n);if(o&&o.has(t))return o.get(t);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=s?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,o&&o.set(t,a),a}function h(){return h=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},h.apply(this,arguments)}function v(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,a)}return o}function g(t){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?v(Object(o),!0).forEach(function(a){f(t,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(o,a))})}return t}function f(t,n,o){return n=R(n),n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function R(t){var n=x(t,"string");return typeof n=="symbol"?n:String(n)}function x(t,n){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var a=o.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function w(t,n){if(t==null)return{};var o={},a=Object.keys(t),s,e;for(e=0;e<a.length;e++)s=a[e],!(n.indexOf(s)>=0)&&(o[s]=t[s]);return o}function P(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,O(t,n)}function O(t,n){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},O(t,n)}var i=function(t){P(n,t);function n(){for(var a,s=arguments.length,e=new Array(s),l=0;l<s;l++)e[l]=arguments[l];return a=t.call.apply(t,[this].concat(e))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(b,D){var E=D.size;a.props.onResize?(b.persist==null||b.persist(),a.setState(E,function(){return a.props.onResize&&a.props.onResize(b,D)})):a.setState(E)},a}n.getDerivedStateFromProps=function(s,e){return e.propsWidth!==s.width||e.propsHeight!==s.height?{width:s.width,height:s.height,propsWidth:s.width,propsHeight:s.height}:null};var o=n.prototype;return o.render=function(){var s=this.props,e=s.handle,l=s.handleSize;s.onResize;var b=s.onResizeStart,D=s.onResizeStop,E=s.draggableOpts,N=s.minConstraints,j=s.maxConstraints,q=s.lockAspectRatio,T=s.axis;s.width,s.height;var M=s.resizeHandles,z=s.style,H=s.transformScale,F=w(s,y);return r.createElement(d.default,{axis:T,draggableOpts:E,handle:e,handleSize:l,height:this.state.height,lockAspectRatio:q,maxConstraints:j,minConstraints:N,onResizeStart:b,onResize:this.onResize,onResizeStop:D,resizeHandles:M,transformScale:H,width:this.state.width},r.createElement("div",h({},F,{style:g(g({},z),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},n}(r.Component);return Q.default=i,i.propTypes=g(g({},u.resizableProps),{},{children:c.default.element}),Q}var qe;function pt(){return qe||(qe=1,U.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},U.exports.Resizable=$e().default,U.exports.ResizableBox=dt().default),U.exports}var ht=pt();function mt(r){return typeof r=="object"&&r!=null}function gt(r,c){return typeof r=="function"?r(c):r}function ke(r,c){if(r==null)return;const d=gt(r,c);if(d!=null)return[d,0]}const ie={key(r){return`${r}_resize`},get(r){try{const c=window.localStorage.getItem(ie.key(r))??"{}",d=JSON.parse(c);return mt(d)?(Object.entries(d).forEach(([u,y])=>{Number.isFinite(y)||delete d[u]}),d):{}}catch{return{}}},set(r,c){window.localStorage.setItem(ie.key(r),JSON.stringify(c))}};function yt(r,c){const{storageKey:d,min:u,max:y}=c??{},{columns:p}=r,[m,S]=_.useState(()=>d==null?{}:ie.get(d)),h=_.useCallback((f,R)=>{S(x=>{const w={...x,[`${f}`]:R};return d!=null&&ie.set(d,w),w})},[d]),v=_.useCallback((f,R)=>{const{column:x,columnWidths:w}=R;if(x.disableResize)return f;const P=me(x),O=Number.isFinite(x.width)?x.width:w.get(P)??0;return C.jsx(ht.Resizable,{width:O,axis:"x",minConstraints:ke(x.minWidth??u,x),maxConstraints:ke(x.maxWidth??y,x),handle:C.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(i,{size:t})=>{h(P,t.width)},children:f})},[h,y,u]),g=_.useMemo(()=>p.map(f=>{const R=me(f).toString(),x=m[R];return x!=null&&x!==f.width?{...f,width:x}:f}),[m,p]);return{...r,columns:g,renderHeaderCell:v}}const kt=te(yt),vt=r=>{const{colSpan:c,children:d}=r,{tableWidth:u}=Le();return C.jsx("tr",{children:C.jsx("td",{colSpan:c,style:{padding:0},children:C.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:u<=0?void 0:u},children:d})})})};function bt(r,c){const{children:d,visible:u=!0}=c,{dataSource:y}=r,m=(Array.isArray(y)?y.length===0:!0)&&u,S=_.useMemo(()=>typeof d=="function"?_.createElement(d):d,[d]),h=_.useCallback((v,g)=>{const{columnDescriptor:f}=g;return C.jsxs(C.Fragment,{children:[v,C.jsx(vt,{colSpan:f.length,children:S},"virtual-table-placeholder$")]})},[S]);return m?{...r,renderBodyContent:h}:r}const Ft=te(bt),St="ExpandRow",wt=r=>{const{className:c,style:d,rowKey:u,isExpanded:y,colSpan:p,children:m,fixed:S}=r,{setRowHeightByRowKey:h}=Ie(),{tableWidth:v}=Le();return C.jsx("tr",{className:Y("virtual-table-expanded-row",c),style:{...d,display:y?void 0:"none"},ref:g=>{g!=null&&h(u,St,g.offsetHeight)},children:C.jsx("td",{colSpan:p,children:C.jsx("div",{className:Y("virtual-table-cell",S&&"virtual-table-expanded-row-fixed"),style:{width:v<=0?void 0:v},children:m})})})},xt="VirtualTable.EXPANSION_COLUMN";function Ot(r,c){const d=c==null,{rowKey:u,columns:y,dataSource:p}=r,{defaultExpandedRowKeys:m,expandedRowRender:S,columnTitle:h,expandRowByClick:v=!1,expandIcon:g,onExpand:f,defaultExpandAllRows:R=!1,showExpandColumn:x=!0,expandedRowClassName:w,rowExpandable:P,columnWidth:O=50,fixed:i,extraColumnProps:t}=c??{},n=_.useMemo(()=>p.map(T=>P?P(T):!1),[p,P]),o=be(()=>n),a=_.useRef("expandedRowKeys"in(c??{})||"defaultExpandedRowKeys"in(c??{})?!1:R),s=be(()=>a.current?p.map((M,z)=>o[z]?M[u]:null).filter(M=>M!=null):[]),e=_.useRef(new Set(m??s)),[l,b]=nt(c??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:m??s}),D=Je((T,M)=>{const z=Se(T,u);e.current.add(z),M==null?l.includes(z)?(b(l.filter(H=>H!==z)),f==null||f(!1,T)):(b([...l,z]),f==null||f(!0,T)):M?(b([...l,z]),f==null||f(!0,T)):(b(l.filter(H=>H!==z)),f==null||f(!1,T))}),E=ge(i),N=_.useCallback((T,M)=>{const{rowData:z,rowIndex:H,rowKey:F,columnDescriptor:k}=M;if(o[H]){const B=l.includes(F),ce=e.current.has(F);let A="";return typeof w=="string"?A=w:typeof w=="function"&&(A=w(z,H,0)),C.jsxs(C.Fragment,{children:[T,ce&&C.jsx(wt,{className:A,rowKey:F,isExpanded:B,colSpan:k.length,fixed:E,children:S==null?void 0:S(z,H,0,B)})]})}return T},[E,o,l,w,S]),j=_.useMemo(()=>x?[{...t,key:xt,title:h,width:O,fixed:i,render(T,M,z){const H=Se(M,u),F=o[z]??!1,k=l.includes(H);return typeof g=="function"?g({expandable:F,expanded:k,record:M,prefixCls:"virtual-table",onExpand:(K,B)=>{D(K)}}):F?C.jsx("button",{className:Y("virtual-table-row-expand-icon",k?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":k?"关闭行":"展开行","aria-expanded":k,onClick:()=>{D(M,!k)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...y]:y,[x,h,O,i,y,u,o,l,g,D,t]),q=_.useCallback((T,M)=>o[M]?{onClick:z=>{z.stopPropagation(),D(T)}}:{},[o,D]);return d?r:{...r,columns:j,renderRow:N,onRow:v?q:void 0}}const Lt=te(Ot);function Rt(r){const{column:c,className:d}=r,{align:u,fixed:y}=c,p=me(c),{size:m}=Xe();return C.jsx("td",{className:Y("virtual-table-cell",d,u!=null&&`virtual-table-align-${u}`,ge(y)&&"virtual-table-sticky-cell"),style:{left:oe(y)?m.get(p):void 0,right:ae(y)?m.get(p):void 0},children:C.jsx("div",{className:"virtual-table-loading-skeleton"})})}const Pt=_.memo(Rt);function Dt(r){const{descriptor:c,style:d,rowKey:u}=r,{setRowHeightByRowKey:y}=Ie(),p=Qe(c,S=>S.type==="blank"?!1:oe(S.column.fixed)),m=c.findIndex(S=>S.type==="blank"?!1:ae(S.column.fixed));return C.jsx("tr",{className:"virtual-table-row virtual-table-loading-cell",style:d,ref:S=>{S!=null&&y(u,"loading-tr",S.offsetHeight)},children:c.map((S,h)=>{const{key:v}=S;if(S.type==="blank")return C.jsx("td",{},v);const{column:g}=S;return C.jsx(Pt,{className:Y(p===h&&"virtual-table-cell-fix-left-last",m===h&&"virtual-table-cell-fix-right-first"),column:g},v)})})}const Ct=_.memo(Dt);function _t(r,c){const{loading:d=!1}=c??{},{estimatedRowHeight:u,headerWrapperRef:y,getScroller:p}=r,[m,S]=_.useState(10);_.useEffect(()=>{const v=y.current,g=p();if(g!=null)return Ze(g,({height:f})=>{const R=(v==null?void 0:v.offsetHeight)??0;S(Math.ceil((f-R)/u))})},[p,y,u]);const h=_.useMemo(()=>Array.from({length:m},(v,g)=>({key:g})),[m]);return d?{...r,renderBodyRoot:v=>{if(_.isValidElement(v)&&Object.prototype.hasOwnProperty.call(v.props,"style")){const g=v.props.style;return _.cloneElement(v,{style:{...g,paddingBottom:void 0,paddingTop:void 0}})}return v},renderBodyContent:(v,{columnDescriptor:g,startRowIndex:f})=>h.map((R,x)=>C.jsx(Ct,{style:{height:u},descriptor:g,rowKey:`__loading$-${x+f}`},R.key))}:r}const It=te(_t),se=_.createContext(null),Et=r=>{const{className:c,style:d,zIndex:u,bottom:y,columns:p,fixed:m,children:S}=r,{listen:h,notify:v}=et(),[g]=_.useState(()=>tt().height),f=_.useRef(null);return _.useEffect(()=>{const R=f.current;if(R==null)return;const x="virtual-table-summary",w=()=>{v(x,{scrollLeft:()=>R.scrollLeft,node:R})},P=h(x,O=>{R.scrollLeft=O});return R.addEventListener("scroll",w),()=>{R.removeEventListener("scroll",w),P()}},[h,v]),C.jsx("div",{className:Y("virtual-table-summary-wrapper",m&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border",c),style:{...m?{"--virtual-table-summary-z-index":u,"--virtual-table-summary-sticky-bottom":Number.isFinite(y)?`${y}px`:y}:{},...d,paddingBottom:g},ref:f,children:C.jsxs("table",{className:"virtual-table-summary",children:[C.jsx(rt,{columns:p}),C.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:S})]})})};function Nt(r){var w;const{className:c,style:d,children:u,align:y,colSpan:p,columnKey:m,...S}=r,{size:h,fixed:v}=Xe(),g=m==null?0:h.get(m),f=(w=v.find(P=>P.key===m))==null?void 0:w.fixed,{left:R,right:x}=_.useMemo(()=>{var i;const P=v.reduce((t,n)=>oe(n.fixed)?n.key:t,void 0),O=(i=v.find(t=>ae(t.fixed)))==null?void 0:i.key;return{left:P,right:O}},[v]);return p===0?null:C.jsx("td",{...S,colSpan:p,className:Y("virtual-table-cell virtual-table-summary-cell",y!=null&&`virtual-table-align-${y}`,ge(f)&&"virtual-table-sticky-cell",R===m&&"virtual-table-cell-fix-left-last",x===m&&"virtual-table-cell-fix-right-first",c),style:{...d,left:oe(f)?g:void 0,right:ae(f)?g:void 0},children:u})}const ve=_.memo(Nt);function zt(r){const{dataSource:c,...d}=r,u=_.useContext(se);if(u==null)throw new Error("SummaryOutlet is missing the columns context and cannot use children as a function.");return C.jsx("tr",{...d,children:u.map(y=>{const{key:p}=y;if(y.type==="blank")return C.jsx("td",{},p);const{column:m}=y,{render:S,...h}=m.summary??{};return _.createElement(ve,{...h,key:p,columnKey:p},S==null?void 0:S(c))})})}const Tt=({children:r,...c})=>{const d=_.useContext(se);if(typeof r=="function"){if(d!=null)return C.jsx("tr",{...c,children:d.map(u=>{const{key:y}=u;if(u.type==="blank")return C.jsx("td",{},y);const{column:p}=u;let m=r(p,y);return _.isValidElement(m)&&m.type===ve&&(m=_.cloneElement(m,{columnKey:y})),C.jsx(_.Fragment,{children:m},y)})});throw new Error("SummaryRow is missing the columns context and cannot use children as a function.")}return C.jsx("tr",{...c,children:r})};function Z({children:r}){return r}Z.Row=Tt;Z.Cell=ve;Z.Outlet=zt;function Mt(r,c){const{className:d,style:u,zIndex:y,bottom:p,summary:m}=c??{},{dataSource:S}=r;let h=!1,v=!1;const g=m==null?void 0:m(S),f=[],R=[],x=w=>{const P=w.props.fixed;P==="top"?(h=!0,f.push(w)):((P==="bottom"||P===!0)&&(v=!0),R.push(w))};if(m==null)return r;if(_.isValidElement(g))if(g.type===_.Fragment){const w=g.props.children;_.Children.forEach(w,P=>{_.isValidElement(P)&&P.type===Z&&x(P)})}else g.type===Z&&x(g);else return r;return{...r,...h?{renderHeader:(w,{columnDescriptor:P})=>C.jsxs(C.Fragment,{children:[w,C.jsx("tfoot",{className:Y("virtual-table-summary-tfoot",d),style:u,children:C.jsx(se.Provider,{value:P,children:f})})]})}:{},...v?{renderContent(w,{columnDescriptor:P}){return C.jsxs(C.Fragment,{children:[w,C.jsx(Et,{className:d,style:u,zIndex:y,bottom:p,fixed:v,columns:P,children:C.jsx(se.Provider,{value:P,children:R})})]})}}:{}}}const Xt=te(Mt);export{Z as S,Xt as a,It as b,kt as c,Ft as d,Lt as t};
