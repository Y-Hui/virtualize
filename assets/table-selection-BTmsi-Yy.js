var on=Object.defineProperty;var sn=(e,t,n)=>t in e?on(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Be=(e,t,n)=>sn(e,typeof t!="symbol"?t+"":t,n);import{r as c,j as S,g as an,a as St}from"./index-DnvCvY4Y.js";function xt(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=xt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=xt(e))&&(r&&(r+=" "),r+=t);return r}const Rt=c.createContext(null);function et(){const e=c.useContext(Rt);if(e==null)throw new Error("useTableSticky provider not found");return e}function q(e,t,n){return typeof t=="function"?t(e,n):e}function ee(e){return e==="left"}function te(e){return e==="right"}function je(e){return ee(e)||te(e)}function ln(e,t,n){const{render:r}=n,o=t;if("dataIndex"in n){const s=n.dataIndex;return typeof r!="function"?o[s]:r(o[s],t,e)}return(r==null?void 0:r(t,t,e))??null}function un(e){const{className:t,style:n,column:r,rowData:o,rowIndex:s,columnIndex:a,renderCell:i,...l}=e,{align:d,fixed:f,onCell:u}=r,{size:m}=et(),{className:h,style:p,colSpan:v,rowSpan:x,...C}=(u==null?void 0:u(o,s))??{};return v===0||x===0?null:q(S.jsx("td",{...l,...C,colSpan:v,rowSpan:x,className:$("virtual-table-cell",d!=null&&`virtual-table-align-${d}`,je(f)&&"virtual-table-sticky-cell",t,r.className,h),style:{...n,...p,left:ee(f)?m[a]:void 0,right:te(f)?m[a]:void 0},children:ln(s,o,r)}),i,{column:r,columnIndex:a})}const cn=c.memo(un),Ct=e=>{const{columns:t,colRef:n}=e;return S.jsx("colgroup",{children:t.map((r,o)=>{const s="key"in r?r.key:r.dataIndex;return S.jsx("col",{ref:typeof n=="function"?a=>{n(a,o)}:n,style:{width:r.width,minWidth:r.minWidth}},typeof s=="symbol"?o:s)})})},dn=/auto|scroll|overlay|hidden/;function Ot(e){return e instanceof Node?e.nodeType===1:!1}function fn(e,t=window){let n=e;for(;n!==t&&Ot(n);){if(n===document.body)return t;const{overflow:r,overflowY:o,overflowX:s}=window.getComputedStyle(n);if(dn.test(r+o+s))return n;n=n.parentNode}return e.ownerDocument.defaultView??window}function _e(e){return Object.prototype.toString.call(e)==="[object Window]"}function pn(e){return Object.prototype.toString.call(e)==="[object HTMLDocument]"}function ct(e){return Object.prototype.toString.call(e)==="[object HTMLHtmlElement]"}function qe(e){return pn(e)?e.scrollingElement:Ot(e)?e:document.scrollingElement}function hn(e){const{getScroller:t,root:n}=e,[r,o]=c.useState(0),[s,a]=c.useState(0),[i,l]=c.useState(0),[d,f]=c.useState(0),u=c.useRef(null);return c.useLayoutEffect(()=>{const m=t();if(m==null)return;let h;_e(m)?h=document.scrollingElement:h=m,u.current=h;const p=new ResizeObserver(v=>{const{width:x,height:C}=v[0].contentRect;o(x),a(C)});return p.observe(h),()=>{p.disconnect()}},[t]),c.useLayoutEffect(()=>{const m=n.current;if(m==null)return;const h=new ResizeObserver(p=>{const{width:v,height:x}=p[0].contentRect;l(v),f(x)});return h.observe(m),()=>{h.disconnect()}},[n]),{scrollContainerWidth:r,scrollContainerHeight:s,tableWidth:i,tableHeight:d}}const Pt=c.createContext(null);function mn(e){const{getScroller:t,root:n,children:r}=e,{scrollContainerHeight:o,scrollContainerWidth:s,tableHeight:a,tableWidth:i}=hn({getScroller:t,root:n}),l=c.useMemo(()=>({scrollContainerWidth:s,scrollContainerHeight:o,tableWidth:i,tableHeight:a}),[s,o,i,a]);return S.jsx(Pt.Provider,{value:l,children:r})}function Et(){const e=c.useContext(Pt);if(e==null)throw new Error("useContainerSize provider not found");return e}const Dt=c.createContext(null);function gn(e){const{children:t}=e,n=c.useRef({}),[r,o]=c.useState({}),s=c.useCallback(l=>{delete n.current[l],o({...n.current})},[]),a=c.useCallback((l,d)=>(n.current[l]!==d&&(n.current[l]=d,o({...n.current})),()=>{s(l)}),[s]),i=c.useMemo(()=>({getElements(){return Object.values(r)},addShouldSyncElement:a,removeShouldSyncElement:s}),[a,r,s]);return c.useLayoutEffect(()=>{const l=Object.values(r),d=new Set,f=(m,h)=>{l.forEach(p=>{p!==m&&(d.add(p),p.scrollLeft=h)})},u=m=>{const h=m.target;if(d.has(h)){d.delete(h);return}const p=()=>{const{scrollLeft:x}=h;f(h,x)},v=window.requestAnimationFrame;v!=null?v(p):p()};return l.forEach(m=>{m.addEventListener("scroll",u)}),()=>{l.forEach(m=>{m.removeEventListener("scroll",u)})}},[r]),S.jsx(Dt.Provider,{value:i,children:t})}function Oe(){const e=c.useContext(Dt);if(e==null)throw new Error("useHorizontalScrollContext provider not found");return e}const Nt=c.createContext(null);function _t(){const e=c.useContext(Nt);if(e==null)throw new Error("useTableRowManager provider not found");return e}function dt(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(let s=0;s<o;s+=1){const a=n[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function Te(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=e.length;if(t.length!==n)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}function Tt(e,t){return Object.is(e,t)?!0:Array.isArray(e)&&Array.isArray(t)?Te(e,t)?!0:e.length===t.length&&e.findIndex(r=>typeof r=="object"&&r!=null)>-1?e.every((r,o)=>Array.isArray(r)?Te(r,t[o]):typeof r=="object"&&r!=null?dt(r,t[o]):Object.is(r,t[o])):!1:typeof e=="object"&&e!=null?dt(e,t):!1}function ye(e){const t=e(),n=c.useRef(t);return Tt(t,n.current)||(n.current=t),n.current}const Mt=c.createContext(null);function yn(e){const{columns:t,children:n}=e,[r,o]=c.useState([]),s=c.useRef([]),a=u=>{const m=u.slice();Te(s.current,m)||(s.current=m,o(m))},i=ye(()=>t.map(u=>u.fixed)),l=ye(()=>{let u=0;const m=i.reduce((v,x,C)=>(ee(x)&&(v[C]=u,u+=r[C]??0),v),[]);let h=0;const p=i.reduceRight((v,x,C)=>(te(x)&&(v[C]=h,h+=r[C]??0),v),[]);return i.map((v,x)=>ee(v)?m[x]:te(v)?p[x]:0)}),d=c.useMemo(()=>({size:l,fixed:i}),[i,l]),f=c.useMemo(()=>({widthList:r,setWidthList:a}),[r]);return S.jsx(Mt.Provider,{value:f,children:S.jsx(Rt.Provider,{value:d,children:n})})}function vn(){const e=c.useContext(Mt);if(e==null)throw new Error("useTableColumns provider not found");return e}function tt(e){const t=c.useRef(null);return c.useLayoutEffect(()=>{t.current=e},[e]),c.useCallback((...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}function fe(e){const t={current:null,options:null};return(...n)=>{const r=o=>e(o,...n);return Tt(n,t.options)?t.current??r:(t.options=n,t.current=r,r)}}function bn(e){return Array.isArray(e)?e.filter(t=>t!=null&&(typeof t=="function"||typeof t.hook=="function")).map(t=>typeof t=="function"?{priority:100,hook:t}:t):[]}const He=class He{constructor(){Be(this,"hooks",[]);this.use=this.use.bind(this)}setHooks(t){this.hooks=t}use(t){if(this.hooks.length===0)return t;const n={current:t},r={render:[],renderRoot:[],renderContent:[],renderHeaderWrapper:[],renderHeaderRoot:[],renderHeader:[],renderHeaderRow:[],renderHeaderCell:[],renderBodyWrapper:[],renderBodyRoot:[],renderBody:[],renderRow:[],renderCell:[]},o=[],s=[],a=this.hooks.slice();return a.sort((i,l)=>i.priority-l.priority),a.map(i=>i.hook).forEach(i=>{const l=i(n.current),{render:d,renderRoot:f,renderContent:u,renderHeaderWrapper:m,renderHeaderRoot:h,renderHeader:p,renderHeaderRow:v,renderHeaderCell:x,renderBodyWrapper:C,renderBodyRoot:b,renderBody:y,renderRow:w,renderCell:R,rowClassName:O,onRow:g,...P}=l;Object.entries(r).forEach(([M,D])=>{const W=l[M];typeof W=="function"&&D.push(W)}),typeof O=="function"&&o.push(O),typeof g=="function"&&s.push(g),n.current=P}),Object.entries(r).forEach(([i,l])=>{l.length>0&&(n.current[i]=(d,f)=>l.reduce((u,m)=>m(u,f),d))}),o.length>0&&(n.current.rowClassName=(i,l)=>$(...o.map(d=>d(i,l)))),s.length>0&&(n.current.onRow=(i,l)=>s.reduce((d,f)=>({...d,...f(i,l)}),{})),n.current}};Be(He,"defaultPipeline",new He);let Ce=He;function So(e){const{use:t,pipeline:n}=e,r=c.useMemo(()=>({current:new Ce}),[]);if(t!=null){const o=bn([...t,...(n==null?void 0:n.hooks)??[]]);if(!Te(r.current.hooks,o)){const s=new Ce;return s.setHooks(o),r.current=s,s}}return r.current}function nt(e,t){let n=-1;for(let r=0;r<e.length;r+=1)t(e[r],r)&&(n=r);return n}function wn(e){const{className:t,rowIndex:n,rowData:r,columns:o,onRow:s,renderRow:a,renderCell:i,...l}=e,{updateRowHeight:d}=_t(),f=nt(o,p=>ee(p.fixed)),u=o.findIndex(p=>te(p.fixed)),{className:m,...h}=(s==null?void 0:s(r,n))??{};return q(S.jsx("tr",{...l,...h,className:$("virtual-table-row",t,m),ref:p=>{p!=null&&d(n,p.offsetHeight)},children:o.map((p,v)=>{const x="key"in p?p.key:p.dataIndex;return S.jsx(cn,{className:$(f===v&&"virtual-table-cell-fix-left-last",u===v&&"virtual-table-cell-fix-right-first"),column:p,rowIndex:n,rowData:r,columnIndex:v,renderCell:i},typeof x=="symbol"?v:x)})}),a,{columns:o,rowIndex:n,rowData:r})}const Sn=c.memo(wn);function xn(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Rn(...e){return t=>{e.forEach(n=>xn(n,t))}}function ve(...e){return c.useCallback(Rn(...e),e)}function Cn(e){const{wrapperRef:t,tableRef:n,className:r,style:o,dataSource:s,columns:a,rowKey:i,startIndex:l,rowClassName:d,onRow:f,renderBodyWrapper:u,renderBodyRoot:m,renderBody:h,renderRow:p,renderCell:v}=e,{addShouldSyncElement:x}=Oe(),C=q(S.jsx("tbody",{children:s.map((R,O)=>{const g=R[i];return S.jsx(Sn,{className:$(d==null?void 0:d(R,O)),rowIndex:O+l,rowData:R,columns:a,onRow:f,renderRow:p,renderCell:v},g)})}),h,{columns:a}),b=q(S.jsxs("table",{className:$(r,"virtual-table-body"),style:o,ref:n,children:[S.jsx(Ct,{columns:a}),C]}),m,{columns:a}),y=c.useRef(null);c.useEffect(()=>{const R=y.current;if(R!=null)return x("virtual-table-body",R)},[x]);const w=ve(t,y);return q(S.jsx("div",{ref:w,className:"virtual-table-body-wrapper",children:b}),u,{columns:a})}const On=e=>{const{className:t,style:n,wrapperRef:r,columns:o,stickyHeader:s,renderHeaderWrapper:a,renderHeaderRoot:i,renderHeader:l,renderHeaderRow:d,renderHeaderCell:f}=e,{widthList:u,setWidthList:m}=vn(),{size:h}=et(),p=c.useRef([]);c.useLayoutEffect(()=>{m(p.current)});const v=nt(o,g=>ee(g.fixed)),x=o.findIndex(g=>te(g.fixed)),{addShouldSyncElement:C}=Oe(),b=c.useRef(null);c.useEffect(()=>{const g=b.current;if(g!=null)return C("virtual-table-header",g)},[C]);const y=q(S.jsx("tr",{children:o.map((g,P)=>{var H;if(g.colSpan===0)return null;const M="key"in g?g.key:g.dataIndex,{className:D,style:W,...F}=((H=g.onHeaderCell)==null?void 0:H.call(g,g,P))??{};return S.jsx(c.Fragment,{children:q(c.createElement("th",{scope:"col",...F,colSpan:g.colSpan,className:$("virtual-table-header-cell",g.align!=null&&`virtual-table-align-${g.align}`,je(g.fixed)&&"virtual-table-sticky-cell",v===P&&"virtual-table-cell-fix-left-last",x===P&&"virtual-table-cell-fix-right-first",g.className,D),style:{...W,left:ee(g.fixed)?h[P]:void 0,right:te(g.fixed)?h[P]:void 0}},g.title),f,{column:g,columns:o,columnIndex:P,columnWidthList:u})},typeof M=="symbol"?P:M)})}),d,{columns:o}),w=q(S.jsx("thead",{className:"virtual-table-thead",children:y}),l,{columns:o}),R=q(S.jsxs("table",{style:{...n,top:Number.isFinite(s)?s:void 0},children:[S.jsx(Ct,{columns:o,colRef:(g,P)=>{g!=null&&(p.current[P]=g.offsetWidth)}}),w]}),i,{columns:o}),O=ve(r,b);return q(S.jsx("div",{ref:O,className:$("virtual-table-header",t,{"virtual-table-header-sticky":s}),children:R}),a,{columns:o})};function Pn(e){const{itemCount:t,estimatedRowHeight:n=46,onChange:r}=e,o=c.useRef([]);(()=>{for(let f=0;f<t;f+=1)o.current[f]==null&&(o.current[f]=n);o.current=o.current.slice(0,t)})();const a=c.useRef([]),i=()=>{const f=[];let u=0;o.current.forEach((m,h)=>{h!==0&&(u+=m),f.push({index:h,height:m,top:u,bottom:u+m})}),a.current=f},l=tt((f,u)=>{o.current[f]=u,i(),r==null||r(f,u,a.current)});return{rowHeightList:o,updateRowHeight:l,sum:(f,u)=>o.current.slice(f,u).reduce((m,h)=>m+h,0),rects:c.useCallback(()=>a.current,[])}}function En(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const s=Math.floor((n+r)/2);e[s].bottom>t?(o=s,r=s-1):n=s+1}if(o!==-1)return e[o]}function Dn(e){const{startIndex:t,setStartIndex:n,endIndex:r,setEndIndex:o,getOffsetTop:s,dataSource:a,getScroller:i,estimatedRowHeight:l,overscan:d,visibleRowSize:f}=e,u=c.useRef({index:0,height:l,top:0,bottom:l}),{rowHeightList:m,rects:h,updateRowHeight:p,sum:v}=Pn({itemCount:a.length,estimatedRowHeight:l,onChange(w,R,O){u.current.index===w&&(u.current=O[w])}}),x=c.useRef(0);c.useEffect(()=>{const w=i();if(w==null)return;const R=g=>{const P=En(h(),g);P!=null&&(u.current=P,n(Math.max(0,P.index-d)),o(P.index+f.current+d))},O=g=>{const P=s(),M=qe(g.target),D=Math.max(0,M.scrollTop-P);D>x.current?D>u.current.bottom&&R(D):D<x.current&&D<u.current.top&&R(D),x.current=D};return w.addEventListener("scroll",O),()=>{w.removeEventListener("scroll",O)}},[s,i,d,h,o,n,f]);const C=v(0,t),b=v(r),y=c.useMemo(()=>a.slice(t,r),[a,t,r]);return{rowHeightList:m,updateRowHeight:p,topBlank:C,bottomBlank:b,dataSlice:y}}function Nn(e,t){if(_e(e)){const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}else{const n=new ResizeObserver(r=>{const o=r[0].contentRect;t({width:o.width,height:o.height})});return n.observe(e),()=>{n.disconnect()}}}function _n(e){const{hasData:t,getScroller:n,estimatedRowHeight:r,overscan:o}=e,s=c.useRef(0),[a,i]=c.useState(0),[l,d]=c.useState(0);return c.useLayoutEffect(()=>{const f=n();if(f==null)return;const u=()=>{let p=0;return _e(f)||ct(f)?p=window.innerHeight:p=qe(f).getBoundingClientRect().height,p},m=()=>{let p=0;return _e(f)||ct(f)?p=window.scrollY:p=qe(f).scrollTop,p},h=p=>{const v=m();let x=0;v>=r&&(x=Math.max(Math.floor(v/r)-1-o,0));const C=Math.ceil(p/r),b=x+C+o;return i(x),d(b),{count:C,nextStartIndex:x,nextEndIndex:b}};if(s.current===0){const{count:p}=h(u());s.current=p}return Nn(f,p=>{const{count:v}=h(p.height);s.current=v})},[r,n,t,o]),[[a,i],[l,d],{visibleRowSize:s}]}function Tn(e,t){const{className:n,style:r,children:o,hasFixedLeftColumn:s,hasFixedRightColumn:a,renderRoot:i}=e,l=c.useRef(null),[d,f]=c.useState(!1),[u,m]=c.useState(!1),{getElements:h}=Oe(),p=c.useMemo(()=>h(),[h]);c.useEffect(()=>{const x=()=>{const C=p[0];if(C==null)return;const{scrollLeft:b,clientWidth:y,scrollWidth:w}=C;s&&f(b!==0),a&&m(!(b+y>=w))};return x(),p.forEach(C=>{C.addEventListener("scroll",x)}),()=>{p.forEach(C=>{C.removeEventListener("scroll",x)})}},[p,s,a]);const v=ve(t,l);return q(S.jsx("div",{ref:v,className:$("virtual-table",d&&"virtual-table-has-fix-left",u&&"virtual-table-has-fix-right",n),style:r,children:o}),i,{})}const Mn=c.forwardRef(Tn);function zn(e,t){const{tableBodyRef:n,className:r,style:o,tableBodyClassName:s,tableBodyStyle:a,columns:i,dataSource:l,rowKey:d="key",estimatedRowHeight:f,overscanRows:u=5,stickyHeader:m,pipeline:h=Ce.defaultPipeline,rowClassName:p,onRow:v,getOffsetTop:x}=e,C=c.useRef(null),b=c.useRef(null),y=c.useCallback(()=>{const K=C.current;if(K!=null)return fn(K)},[]),w=c.useCallback(()=>{var K;return typeof x=="function"?x():((K=C.current)==null?void 0:K.offsetTop)??0},[x]),R=Array.isArray(l)?l.length>0:!1,[[O,g],[P,M],{visibleRowSize:D}]=_n({hasData:R,getScroller:y,estimatedRowHeight:f,overscan:u}),{dataSource:W,columns:F,rowKey:H,rowClassName:I,render:_,renderRoot:N,renderContent:T,renderHeaderWrapper:k,renderHeaderRoot:Q,renderHeader:A,renderHeaderRow:oe,renderHeaderCell:be,renderBodyWrapper:he,renderBodyRoot:z,renderBody:L,renderRow:U,renderCell:se,onRow:Z}=h.use({dataSource:l,rowKey:d,columns:i,visibleRowSize:P-O,estimatedRowHeight:f,bodyRef:b,rootRef:C,getOffsetTop:w,getScroller:y}),{dataSlice:de,updateRowHeight:me,rowHeightList:ae,topBlank:ie,bottomBlank:le}=Dn({getOffsetTop:w,startIndex:O,setStartIndex:g,endIndex:P,setEndIndex:M,dataSource:W,getScroller:y,estimatedRowHeight:f,overscan:u,visibleRowSize:D}),we=c.useCallback((K,Se)=>$(p==null?void 0:p(K,Se),I==null?void 0:I(K,Se)),[p,I]),De=c.useCallback((K,Se)=>({...v==null?void 0:v(K,Se),...Z==null?void 0:Z(K,Se)}),[Z,v]),Ae=F.some(K=>ee(K.fixed)),Qt=F.some(K=>te(K.fixed)),Zt=c.useMemo(()=>({getRowHeightList(){return ae.current},updateRowHeight:me}),[ae,me]),en=ve(b,n),tn=q(S.jsxs(S.Fragment,{children:[S.jsx(On,{columns:F,stickyHeader:m,renderHeaderWrapper:k,renderHeaderRoot:Q,renderHeader:A,renderHeaderRow:oe,renderHeaderCell:be}),S.jsx(Cn,{tableRef:en,className:s,style:{...a,paddingBottom:le,paddingTop:ie},columns:F,rowKey:H,dataSource:de,startIndex:O,rowClassName:we,onRow:De,renderBodyWrapper:he,renderBodyRoot:z,renderBody:L,renderRow:U,renderCell:se})]}),T,{columns:F}),nn=ve(C,t),rn=q(S.jsx(Mn,{ref:nn,className:r,style:o,hasFixedLeftColumn:Ae,hasFixedRightColumn:Qt,renderRoot:N,children:tn}),_,{columns:F});return S.jsx(Nt.Provider,{value:Zt,children:S.jsx(yn,{columns:F,children:S.jsx(mn,{getScroller:y,root:C,children:S.jsx(gn,{children:rn})})})})}const xo=c.memo(c.forwardRef(zn));var rt={exports:{}},Pe={},ke={exports:{}},zt={},Ht={exports:{}},Hn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jn=Hn,kn=jn;function jt(){}function kt(){}kt.resetWarningCache=jt;var Wn=function(){function e(r,o,s,a,i,l){if(l!==kn){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kt,resetWarningCache:jt};return n.PropTypes=n,n};Ht.exports=Wn();var We=Ht.exports;function Wt(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Wt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ft(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Wt(e))&&(r&&(r+=" "),r+=t);return r}const In=Object.freeze(Object.defineProperty({__proto__:null,clsx:ft,default:ft},Symbol.toStringTag,{value:"Module"})),Ln=an(In);var j={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.dontSetMe=Kn;ne.findInArray=$n;ne.int=Bn;ne.isFunction=Fn;ne.isNum=An;function $n(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Fn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function An(e){return typeof e=="number"&&!isNaN(e)}function Bn(e){return parseInt(e,10)}function Kn(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.browserPrefixToKey=Lt;pe.browserPrefixToStyle=Yn;pe.default=void 0;pe.getPrefix=It;const Ke=["Moz","Webkit","O","ms"];function It(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<Ke.length;r++)if(Lt(t,Ke[r])in n)return Ke[r];return""}function Lt(e,t){return t?"".concat(t).concat(Xn(e)):e}function Yn(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Xn(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}pe.default=It();Object.defineProperty(j,"__esModule",{value:!0});j.addClassName=At;j.addEvent=qn;j.addUserSelectStyles=ar;j.createCSSTransform=nr;j.createSVGTransform=rr;j.getTouch=or;j.getTouchIdentifier=sr;j.getTranslation=ot;j.innerHeight=Zn;j.innerWidth=er;j.matchesSelector=Ft;j.matchesSelectorAndParentsTo=Vn;j.offsetXYFromParent=tr;j.outerHeight=Jn;j.outerWidth=Qn;j.removeClassName=Bt;j.removeEvent=Gn;j.removeUserSelectStyles=ir;var G=ne,pt=Un(pe);function $t(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return($t=function(r){return r?n:t})(e)}function Un(e,t){if(e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=$t(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}let Ne="";function Ft(e,t){return Ne||(Ne=(0,G.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,G.isFunction)(e[n])})),(0,G.isFunction)(e[Ne])?e[Ne](t):!1}function Vn(e,t,n){let r=e;do{if(Ft(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function qn(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Gn(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function Jn(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,G.int)(n.borderTopWidth),t+=(0,G.int)(n.borderBottomWidth),t}function Qn(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,G.int)(n.borderLeftWidth),t+=(0,G.int)(n.borderRightWidth),t}function Zn(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,G.int)(n.paddingTop),t-=(0,G.int)(n.paddingBottom),t}function er(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,G.int)(n.paddingLeft),t-=(0,G.int)(n.paddingRight),t}function tr(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),s=(e.clientX+t.scrollLeft-o.left)/n,a=(e.clientY+t.scrollTop-o.top)/n;return{x:s,y:a}}function nr(e,t){const n=ot(e,t,"px");return{[(0,pt.browserPrefixToKey)("transform",pt.default)]:n}}function rr(e,t){return ot(e,t,"")}function ot(e,t,n){let{x:r,y:o}=e,s="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+n),i="".concat(typeof t.y=="string"?t.y:t.y+n);s="translate(".concat(a,", ").concat(i,")")+s}return s}function or(e,t){return e.targetTouches&&(0,G.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,G.findInArray)(e.changedTouches,n=>t===n.identifier)}function sr(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function ar(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&At(e.body,"react-draggable-transparent-selection")}function ir(e){if(e)try{if(e.body&&Bt(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function At(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Bt(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var re={};Object.defineProperty(re,"__esModule",{value:!0});re.canDragX=cr;re.canDragY=dr;re.createCoreData=pr;re.createDraggableData=hr;re.getBoundPosition=lr;re.getControlPosition=fr;re.snapToGrid=ur;var V=ne,ge=j;function lr(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:mr(r);const o=st(e);if(typeof r=="string"){const{ownerDocument:s}=o,a=s.defaultView;let i;if(r==="parent"?i=o.parentNode:i=s.querySelector(r),!(i instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=i,d=a.getComputedStyle(o),f=a.getComputedStyle(l);r={left:-o.offsetLeft+(0,V.int)(f.paddingLeft)+(0,V.int)(d.marginLeft),top:-o.offsetTop+(0,V.int)(f.paddingTop)+(0,V.int)(d.marginTop),right:(0,ge.innerWidth)(l)-(0,ge.outerWidth)(o)-o.offsetLeft+(0,V.int)(f.paddingRight)-(0,V.int)(d.marginRight),bottom:(0,ge.innerHeight)(l)-(0,ge.outerHeight)(o)-o.offsetTop+(0,V.int)(f.paddingBottom)-(0,V.int)(d.marginBottom)}}return(0,V.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,V.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,V.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,V.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function ur(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function cr(e){return e.props.axis==="both"||e.props.axis==="x"}function dr(e){return e.props.axis==="both"||e.props.axis==="y"}function fr(e,t,n){const r=typeof t=="number"?(0,ge.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=st(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,ge.offsetXYFromParent)(r||e,s,n.props.scale)}function pr(e,t,n){const r=!(0,V.isNum)(e.lastX),o=st(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function hr(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function mr(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function st(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Ie={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.default=gr;function gr(){}Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var Ye=vr(c),X=at(We),yr=at(St),B=j,ue=re,Xe=ne,xe=at(Le);function at(e){return e&&e.__esModule?e:{default:e}}function Kt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Kt=function(r){return r?n:t})(e)}function vr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Kt(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Y(e,t,n){return t=br(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e){var t=wr(e,"string");return typeof t=="symbol"?t:String(t)}function wr(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const J={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ce=J.mouse,$e=class extends Ye.Component{constructor(){super(...arguments),Y(this,"dragging",!1),Y(this,"lastX",NaN),Y(this,"lastY",NaN),Y(this,"touchIdentifier",null),Y(this,"mounted",!1),Y(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,B.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,B.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const o=(0,B.getTouchIdentifier)(t);this.touchIdentifier=o;const s=(0,ue.getControlPosition)(t,o,this);if(s==null)return;const{x:a,y:i}=s,l=(0,ue.createCoreData)(this,a,i);(0,xe.default)("DraggableCore: handleDragStart: %j",l),(0,xe.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,B.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=i,(0,B.addEvent)(r,ce.move,this.handleDrag),(0,B.addEvent)(r,ce.stop,this.handleDragStop))}),Y(this,"handleDrag",t=>{const n=(0,ue.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,l=o-this.lastY;if([i,l]=(0,ue.snapToGrid)(this.props.grid,i,l),!i&&!l)return;r=this.lastX+i,o=this.lastY+l}const s=(0,ue.createCoreData)(this,r,o);if((0,xe.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(t,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=o}),Y(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,ue.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,d=o-this.lastY||0;[l,d]=(0,ue.snapToGrid)(this.props.grid,l,d),r=this.lastX+l,o=this.lastY+d}const s=(0,ue.createCoreData)(this,r,o);if(this.props.onStop(t,s)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(i.ownerDocument),(0,xe.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,xe.default)("DraggableCore: Removing handlers"),(0,B.removeEvent)(i.ownerDocument,ce.move,this.handleDrag),(0,B.removeEvent)(i.ownerDocument,ce.stop,this.handleDragStop))}),Y(this,"onMouseDown",t=>(ce=J.mouse,this.handleDragStart(t))),Y(this,"onMouseUp",t=>(ce=J.mouse,this.handleDragStop(t))),Y(this,"onTouchStart",t=>(ce=J.touch,this.handleDragStart(t))),Y(this,"onTouchEnd",t=>(ce=J.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,B.addEvent)(t,J.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,B.removeEvent)(n,J.mouse.move,this.handleDrag),(0,B.removeEvent)(n,J.touch.move,this.handleDrag),(0,B.removeEvent)(n,J.mouse.stop,this.handleDragStop),(0,B.removeEvent)(n,J.touch.stop,this.handleDragStop),(0,B.removeEvent)(t,J.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:yr.default.findDOMNode(this)}render(){return Ye.cloneElement(Ye.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Ie.default=$e;Y($e,"displayName","DraggableCore");Y($e,"propTypes",{allowAnyClick:X.default.bool,children:X.default.node.isRequired,disabled:X.default.bool,enableUserSelectHack:X.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:X.default.arrayOf(X.default.number),handle:X.default.string,cancel:X.default.string,nodeRef:X.default.object,onStart:X.default.func,onDrag:X.default.func,onStop:X.default.func,onMouseDown:X.default.func,scale:X.default.number,className:Xe.dontSetMe,style:Xe.dontSetMe,transform:Xe.dontSetMe});Y($e,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=m(c),n=f(We),r=f(St),o=f(Ln),s=j,a=re,i=ne,l=f(Ie),d=f(Le);function f(b){return b&&b.__esModule?b:{default:b}}function u(b){if(typeof WeakMap!="function")return null;var y=new WeakMap,w=new WeakMap;return(u=function(R){return R?w:y})(b)}function m(b,y){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var w=u(y);if(w&&w.has(b))return w.get(b);var R={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in b)if(g!=="default"&&Object.prototype.hasOwnProperty.call(b,g)){var P=O?Object.getOwnPropertyDescriptor(b,g):null;P&&(P.get||P.set)?Object.defineProperty(R,g,P):R[g]=b[g]}return R.default=b,w&&w.set(b,R),R}function h(){return h=Object.assign?Object.assign.bind():function(b){for(var y=1;y<arguments.length;y++){var w=arguments[y];for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&(b[R]=w[R])}return b},h.apply(this,arguments)}function p(b,y,w){return y=v(y),y in b?Object.defineProperty(b,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[y]=w,b}function v(b){var y=x(b,"string");return typeof y=="symbol"?y:String(y)}function x(b,y){if(typeof b!="object"||b===null)return b;var w=b[Symbol.toPrimitive];if(w!==void 0){var R=w.call(b,y||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(b)}class C extends t.Component{static getDerivedStateFromProps(y,w){let{position:R}=y,{prevPropsPosition:O}=w;return R&&(!O||R.x!==O.x||R.y!==O.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:O}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(y){super(y),p(this,"onDragStart",(w,R)=>{if((0,d.default)("Draggable: onDragStart: %j",R),this.props.onStart(w,(0,a.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(w,R)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",R);const O=(0,a.createDraggableData)(this,R),g={x:O.x,y:O.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:D}=g;g.x+=this.state.slackX,g.y+=this.state.slackY;const[W,F]=(0,a.getBoundPosition)(this,g.x,g.y);g.x=W,g.y=F,g.slackX=this.state.slackX+(M-g.x),g.slackY=this.state.slackY+(D-g.y),O.x=g.x,O.y=g.y,O.deltaX=g.x-this.state.x,O.deltaY=g.y-this.state.y}if(this.props.onDrag(w,O)===!1)return!1;this.setState(g)}),p(this,"onDragStop",(w,R)=>{if(!this.state.dragging||this.props.onStop(w,(0,a.createDraggableData)(this,R))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",R);const g={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:D}=this.props.position;g.x=M,g.y=D}this.setState(g)}),this.state={dragging:!1,dragged:!1,x:y.position?y.position.x:y.defaultPosition.x,y:y.position?y.position.y:y.defaultPosition.y,prevPropsPosition:{...y.position},slackX:0,slackY:0,isElementSVG:!1},y.position&&!(y.onDrag||y.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var y,w;return(y=(w=this.props)===null||w===void 0||(w=w.nodeRef)===null||w===void 0?void 0:w.current)!==null&&y!==void 0?y:r.default.findDOMNode(this)}render(){const{axis:y,bounds:w,children:R,defaultPosition:O,defaultClassName:g,defaultClassNameDragging:P,defaultClassNameDragged:M,position:D,positionOffset:W,scale:F,...H}=this.props;let I={},_=null;const T=!!!D||this.state.dragging,k=D||O,Q={x:(0,a.canDragX)(this)&&T?this.state.x:k.x,y:(0,a.canDragY)(this)&&T?this.state.y:k.y};this.state.isElementSVG?_=(0,s.createSVGTransform)(Q,W):I=(0,s.createCSSTransform)(Q,W);const A=(0,o.default)(R.props.className||"",g,{[P]:this.state.dragging,[M]:this.state.dragged});return t.createElement(l.default,h({},H,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(R),{className:A,style:{...R.props.style,...I},transform:_}))}}e.default=C,p(C,"displayName","Draggable"),p(C,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),p(C,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(zt);const{default:Yt,DraggableCore:Sr}=zt;ke.exports=Yt;ke.exports.default=Yt;ke.exports.DraggableCore=Sr;var xr=ke.exports,it={};it.__esModule=!0;it.cloneElement=Dr;var Rr=Cr(c);function Cr(e){return e&&e.__esModule?e:{default:e}}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Or(e,t,n){return t=Pr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e){var t=Er(e,"string");return typeof t=="symbol"?t:String(t)}function Er(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dr(e,t){return t.style&&e.props.style&&(t.style=mt(mt({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),Rr.default.cloneElement(e,t)}var Ee={};Ee.__esModule=!0;Ee.resizableProps=void 0;var E=Nr(We);function Nr(e){return e&&e.__esModule?e:{default:e}}var _r={axis:E.default.oneOf(["both","x","y","none"]),className:E.default.string,children:E.default.element.isRequired,draggableOpts:E.default.shape({allowAnyClick:E.default.bool,cancel:E.default.string,children:E.default.node,disabled:E.default.bool,enableUserSelectHack:E.default.bool,offsetParent:E.default.node,grid:E.default.arrayOf(E.default.number),handle:E.default.string,nodeRef:E.default.object,onStart:E.default.func,onDrag:E.default.func,onStop:E.default.func,onMouseDown:E.default.func,scale:E.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(o.axis==="both"||o.axis==="y"){var s;return(s=E.default.number).isRequired.apply(s,n)}return E.default.number.apply(E.default,n)},handle:E.default.oneOfType([E.default.node,E.default.func]),handleSize:E.default.arrayOf(E.default.number),lockAspectRatio:E.default.bool,maxConstraints:E.default.arrayOf(E.default.number),minConstraints:E.default.arrayOf(E.default.number),onResizeStop:E.default.func,onResizeStart:E.default.func,onResize:E.default.func,resizeHandles:E.default.arrayOf(E.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:E.default.number,width:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(o.axis==="both"||o.axis==="x"){var s;return(s=E.default.number).isRequired.apply(s,n)}return E.default.number.apply(E.default,n)}};Ee.resizableProps=_r;Pe.__esModule=!0;Pe.default=void 0;var Re=jr(c),Tr=xr,Mr=it,zr=Ee,Hr=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Xt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Xt=function(o){return o?n:t})(e)}function jr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Xt(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function kr(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gt(Object(n),!0).forEach(function(r){Wr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wr(e,t,n){return t=Ir(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ir(e){var t=Lr(e,"string");return typeof t=="symbol"?t:String(t)}function Lr(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Je(e,t)}function Je(e,t){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Je(e,t)}var lt=function(e){$r(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(o,s){var a=this.props,i=a.minConstraints,l=a.maxConstraints,d=a.lockAspectRatio;if(!i&&!l&&!d)return[o,s];if(d){var f=this.props.width/this.props.height,u=o-this.props.width,m=s-this.props.height;Math.abs(u)>Math.abs(m*f)?s=o/f:o=s*f}var h=o,p=s,v=this.slack||[0,0],x=v[0],C=v[1];return o+=x,s+=C,i&&(o=Math.max(i[0],o),s=Math.max(i[1],s)),l&&(o=Math.min(l[0],o),s=Math.min(l[1],s)),this.slack=[x+(h-o),C+(p-s)],[o,s]},n.resizeHandler=function(o,s){var a=this;return function(i,l){var d=l.node,f=l.deltaX,u=l.deltaY;o==="onResizeStart"&&a.resetData();var m=(a.props.axis==="both"||a.props.axis==="x")&&s!=="n"&&s!=="s",h=(a.props.axis==="both"||a.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!m&&!h)){var p=s[0],v=s[s.length-1],x=d.getBoundingClientRect();if(a.lastHandleRect!=null){if(v==="w"){var C=x.left-a.lastHandleRect.left;f+=C}if(p==="n"){var b=x.top-a.lastHandleRect.top;u+=b}}a.lastHandleRect=x,v==="w"&&(f=-f),p==="n"&&(u=-u);var y=a.props.width+(m?f/a.props.transformScale:0),w=a.props.height+(h?u/a.props.transformScale:0),R=a.runConstraints(y,w);y=R[0],w=R[1];var O=y!==a.props.width||w!==a.props.height,g=typeof a.props[o]=="function"?a.props[o]:null,P=o==="onResize"&&!O;g&&!P&&(i.persist==null||i.persist(),g(i,{node:d,size:{width:y,height:w},handle:s})),o==="onResizeStop"&&a.resetData()}}},n.renderResizeHandle=function(o,s){var a=this.props.handle;if(!a)return Re.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+o,ref:s});if(typeof a=="function")return a(o,s);var i=typeof a.type=="string",l=Ue({ref:s},i?{}:{handleAxis:o});return Re.cloneElement(a,l)},n.render=function(){var o=this,s=this.props,a=s.children,i=s.className,l=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var d=s.resizeHandles;s.transformScale;var f=kr(s,Hr);return(0,Mr.cloneElement)(a,Ue(Ue({},f),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(a.props.children,d.map(function(u){var m,h=(m=o.handleRefs[u])!=null?m:o.handleRefs[u]=Re.createRef();return Re.createElement(Tr.DraggableCore,Ge({},l,{nodeRef:h,key:"resizableHandle-"+u,onStop:o.resizeHandler("onResizeStop",u),onStart:o.resizeHandler("onResizeStart",u),onDrag:o.resizeHandler("onResize",u)}),o.renderResizeHandle(u,h))}))}))},t}(Re.Component);Pe.default=lt;lt.propTypes=zr.resizableProps;lt.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Fe={};Fe.__esModule=!0;Fe.default=void 0;var Ve=Yr(c),Fr=Ut(We),Ar=Ut(Pe),Br=Ee,Kr=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Ut(e){return e&&e.__esModule?e:{default:e}}function Vt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Vt=function(o){return o?n:t})(e)}function Yr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Vt(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(r){Xr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xr(e,t,n){return t=Ur(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ur(e){var t=Vr(e,"string");return typeof t=="symbol"?t:String(t)}function Vr(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Gr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ze(e,t)}function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Ze(e,t)}var qt=function(e){Gr(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(i,l){var d=l.size;r.props.onResize?(i.persist==null||i.persist(),r.setState(d,function(){return r.props.onResize&&r.props.onResize(i,l)})):r.setState(d)},r}t.getDerivedStateFromProps=function(o,s){return s.propsWidth!==o.width||s.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null};var n=t.prototype;return n.render=function(){var o=this.props,s=o.handle,a=o.handleSize;o.onResize;var i=o.onResizeStart,l=o.onResizeStop,d=o.draggableOpts,f=o.minConstraints,u=o.maxConstraints,m=o.lockAspectRatio,h=o.axis;o.width,o.height;var p=o.resizeHandles,v=o.style,x=o.transformScale,C=qr(o,Kr);return Ve.createElement(Ar.default,{axis:h,draggableOpts:d,handle:s,handleSize:a,height:this.state.height,lockAspectRatio:m,maxConstraints:u,minConstraints:f,onResizeStart:i,onResize:this.onResize,onResizeStop:l,resizeHandles:p,transformScale:x,width:this.state.width},Ve.createElement("div",Qe({},C,{style:Me(Me({},v),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(Ve.Component);Fe.default=qt;qt.propTypes=Me(Me({},Br.resizableProps),{},{children:Fr.default.element});rt.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Jr=rt.exports.Resizable=Pe.default;rt.exports.ResizableBox=Fe.default;function Qr(e){return typeof e=="object"&&e!=null}function Zr(e,t){return typeof e=="function"?e(t):e}function vt(e,t){if(e==null)return;const n=Zr(e,t);if(n!=null)return[n,0]}const ze={key(e){return`${e}_resize`},get(e){try{const t=window.localStorage.getItem(ze.key(e))??"{}",n=JSON.parse(t);return Qr(n)?(Object.entries(n).forEach(([r,o])=>{Number.isFinite(o)||delete n[r]}),n):{}}catch{return{}}},set(e,t){window.localStorage.setItem(ze.key(e),JSON.stringify(t))}};function eo(e,t){const{storageKey:n,min:r,max:o}=t??{},{columns:s}=e,[a,i]=c.useState(()=>n==null?{}:ze.get(n)),l=c.useCallback((u,m)=>{i(h=>{const p={...h,[u]:m};return n!=null&&ze.set(n,p),p})},[n]),d=c.useCallback((u,m)=>{const{column:h,columnIndex:p=0,columnWidthList:v=[]}=m;if(h.disableResize)return u;const x="key"in h?h.key:h.dataIndex,C=Number.isFinite(h.width)?h.width:v[p]??0;return S.jsx(Jr,{width:C,axis:"x",minConstraints:vt(h.minWidth??r,h),maxConstraints:vt(h.maxWidth??o,h),handle:S.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(b,{size:y})=>{l(x,y.width)},children:u})},[l,o,r]),f=c.useMemo(()=>s.map(u=>{const m="key"in u?u.key:u.dataIndex,h=a[m];return h!=null&&h!==u.width?{...u,width:h}:u}),[a,s]);return{...e,columns:f,renderHeaderCell:d}}const Co=fe(eo),to=e=>{const{colSpan:t,children:n}=e,{tableWidth:r}=Et();return S.jsx("tr",{children:S.jsx("td",{colSpan:t,children:S.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:r<=0?void 0:r},children:n})})})};function no(e,t){const{children:n,visible:r=!0}=t,{dataSource:o}=e,a=(Array.isArray(o)?o.length===0:!0)&&r,i=c.useMemo(()=>typeof n=="function"?c.createElement(n):n,[n]),l=c.useCallback((d,f)=>{const{columns:u}=f;if(c.isValidElement(d)){const m=d.props;return c.cloneElement(d,m,[...Array.isArray(m.children)?m.children:[],S.jsx(to,{colSpan:u.length,children:i},"virtual-table-placeholder$")])}return S.jsxs(S.Fragment,{children:[d,i]})},[i]);return a?{...e,renderBody:l}:e}const Oo=fe(no);function Gt(e,t){const{valuePropName:n="value",defaultValue:r,trigger:o="onChange"}=t??{},s=n in e,a=e[n],i=a??r,[l,d]=c.useState(i),f=c.useRef(i);s&&(f.current=a);const u=e[o],m=c.useCallback((h,...p)=>{typeof h=="function"?u==null||u(h(f.current),...p):u==null||u(h,...p)},[u]);return s?[a,m]:[l,d]}const ro=e=>{const{className:t,style:n,rowIndex:r,isExpanded:o,colSpan:s,children:a,fixed:i}=e,{getRowHeightList:l,updateRowHeight:d}=_t(),{tableWidth:f}=Et(),u=c.useRef(0);return S.jsx("tr",{className:$("virtual-table-expanded-row",t),style:{...n,display:o?void 0:"none"},ref:m=>{if(m==null)return;const h=l()[r]??0;o&&(u.current=m.offsetHeight,d(r,h+u.current))},children:S.jsx("td",{colSpan:s,children:S.jsx("div",{className:$("virtual-table-cell",i&&"virtual-table-expanded-row-fixed"),style:{width:f<=0?void 0:f},children:a})})})},oo="VirtualTable.EXPANSION_COLUMN";function bt(e,t){return e[t]}function so(e,t){const n=t==null,{rowKey:r,columns:o,dataSource:s}=e,{defaultExpandedRowKeys:a,expandedRowRender:i,columnTitle:l,expandRowByClick:d=!1,expandIcon:f,onExpand:u,defaultExpandAllRows:m=!1,showExpandColumn:h=!0,expandedRowClassName:p,rowExpandable:v,columnWidth:x=50,fixed:C,extraColumnProps:b}=t??{},y=c.useMemo(()=>s.map(_=>v?v(_):!1),[s,v]),w=ye(()=>y),R=c.useRef("expandedRowKeys"in(t??{})||"defaultExpandedRowKeys"in(t??{})?!1:m),O=ye(()=>R.current?s.map((N,T)=>w[T]?N[r]:null).filter(N=>N!=null):[]),g=c.useRef(new Set(a??O)),[P,M]=Gt(t??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:a??O}),D=tt((_,N)=>{const T=bt(_,r);g.current.add(T),N==null?P.includes(T)?(M(P.filter(k=>k!==T)),u==null||u(!1,_)):(M([...P,T]),u==null||u(!0,_)):N?(M([...P,T]),u==null||u(!0,_)):(M(P.filter(k=>k!==T)),u==null||u(!1,_))}),W=je(C),F=c.useCallback((_,N)=>{const{rowData:T,rowIndex:k}=N;if(w[k]){const A=bt(T,r),oe=P.includes(A),be=g.current.has(A);let he="";return typeof p=="string"?he=p:typeof p=="function"&&(he=p(T,k,0)),S.jsxs(S.Fragment,{children:[_,be&&S.jsx(ro,{className:he,rowIndex:k,isExpanded:oe,colSpan:N.columns.length,fixed:W,children:i==null?void 0:i(T,k,0,oe)})]})}return _},[W,w,r,P,p,i]),H=c.useMemo(()=>h?[{...b,key:oo,title:l,width:x,fixed:C,render(_,N,T){const k=N[r],Q=w[T]??!1,A=P.includes(k);return typeof f=="function"?f({expandable:Q,expanded:A,record:N,prefixCls:"virtual-table",onExpand:(oe,be)=>{D(oe)}}):Q?S.jsx("button",{className:$("virtual-table-row-expand-icon",A?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":A?"":"","aria-expanded":A,onClick:()=>{D(N,!A)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...o]:o,[h,l,x,C,o,r,w,P,f,D,b]),I=c.useCallback((_,N)=>w[N]?{onClick:T=>{T.stopPropagation(),D(_)}}:{},[w,D]);return n?e:{...e,columns:H,renderRow:F,onRow:d?I:void 0}}const Po=fe(so);function Jt(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}const ao=e=>{const{className:t,style:n,bottom:r,zIndex:o,bodyRef:s}=e,{addShouldSyncElement:a}=Oe(),i=c.useRef(null);c.useEffect(()=>{const u=i.current;if(u!=null)return a("virtual-table-sticky-bottom-scroll",u)},[a]);const[l,d]=c.useState(0);c.useEffect(()=>{const u=s.current;if(u==null)return;const m=new ResizeObserver(h=>{const{width:p}=h[0].contentRect;d(p)});return m.observe(u),()=>{m.disconnect()}},[s]);const[f]=c.useState(Jt);return S.jsx("div",{className:$("virtual-table-sticky-scroll",t),style:{...n,paddingTop:f.height>0?0:12,marginTop:f.height>0?0:f.height*-1,height:f.height,bottom:r,zIndex:o},ref:i,children:S.jsx("div",{className:"virtual-table-sticky-scroll-bar",style:{width:l}})})};function io(e,t){const{bodyRef:n}=e;return{...e,renderContent(r){return S.jsxs(S.Fragment,{children:[r,S.jsx(ao,{bodyRef:n,...t})]})}}}const Eo=fe(io);function lo(e,t){const{loading:n=!1}=t??{},{columns:r,visibleRowSize:o,estimatedRowHeight:s}=e,a=c.useMemo(()=>Array.from({length:o},(l,d)=>({key:d})),[o]),i=c.useMemo(()=>n?r.map(l=>({...l,onCell(){return{className:"virtual-table-loading-cell",style:{height:s}}},render(){return S.jsx("div",{className:"virtual-table-loading-skeleton"})}})):r,[n,r,s]);return n?{...e,columns:i,rowKey:"key",dataSource:a}:e}const Do=fe(lo),uo=e=>{const{columns:t,fixed:n,children:r}=e,{addShouldSyncElement:o}=Oe(),[s]=c.useState(()=>Jt().height),a=c.useRef(null);return c.useEffect(()=>{const i=a.current;if(i!=null)return o("virtual-table-summary",i)},[o]),S.jsx("div",{className:$("virtual-table-summary-wrapper",n&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border"),style:{paddingBottom:s},ref:a,children:S.jsxs("table",{className:"virtual-table-summary",children:[S.jsx("colgroup",{children:t.map((i,l)=>{const d="key"in i?i.key:i.dataIndex;return S.jsx("col",{style:{width:i.width,minWidth:i.minWidth}},typeof d=="symbol"?l:d)})}),S.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:r})]})})};function co(e){const{className:t,style:n,children:r,align:o,colSpan:s,index:a,...i}=e,{size:l,fixed:d}=et(),f=d[a],{left:u,right:m}=c.useMemo(()=>{const x=nt(d,b=>ee(b)),C=d.findIndex(b=>te(b));return{left:x,right:C}},[d]);if(s===0)return null;const h=Math.max(0,(s??0)-1);let p=a+h,v=l[p];return s!=null&&(p===u?p=a+h:a===m&&(p=a,v=l[p+h])),S.jsx("td",{...i,colSpan:s,className:$("virtual-table-cell virtual-table-summary-cell",o!=null&&`virtual-table-align-${o}`,je(f)&&"virtual-table-sticky-cell",u===p&&"virtual-table-cell-fix-left-last",m===p&&"virtual-table-cell-fix-right-first",t),style:{...n,left:ee(f)?l[a]:void 0,right:te(f)?v:void 0},children:r})}const fo=c.memo(co),po=({children:e,...t})=>S.jsx("tr",{...t,children:e});function ut({children:e}){return e}ut.Row=po;ut.Cell=fo;function ho(e,t){const{summary:n}=t??{},{columns:r,dataSource:o}=e,s=n==null?void 0:n(o),a=c.isValidElement(s)&&s.type===ut&&s.props.fixed,i=c.useCallback(l=>S.jsxs(S.Fragment,{children:[l,S.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:s})]}),[s]);return n==null?e:a==="top"?{...e,renderHeader:i}:{...e,renderContent(l){return S.jsxs(S.Fragment,{children:[l,S.jsx(uo,{fixed:a==="bottom"||a,columns:r,children:s})]})}}}const No=fe(ho);function mo(e,t){const{className:n,multiple:r,indeterminate:o,value:s=!1,onChange:a,component:i,...l}=e,d=i!=null,f=c.useRef(null);c.useEffect(()=>{if(d)return;const m=f.current;m!=null&&(m.indeterminate=!!o)},[d,o]);const u=ve(f,t);return d?c.createElement(i,e):S.jsx("input",{...l,ref:u,className:$("virtual-table-selection",n),type:r?"checkbox":"radio",checked:s,onChange:m=>{a==null||a(m.target.checked,m.nativeEvent)}})}const wt=c.forwardRef(mo),go="VirtualTable.SELECTION_COLUMN",yo=[];function vo(e,t){const n=t==null,{columns:r}=e,o=e.rowKey,s=n?yo:e.dataSource,{defaultSelectedRowKeys:a,component:i,preserveSelectedRowKeys:l,multiple:d=!0,getSelectionProps:f,onSelect:u,hideSelectAll:m=!1,fixed:h,columnWidth:p,columnTitle:v,extraColumnProps:x,renderCell:C,onCell:b}=t??{},[y=[],w]=Gt(t??{},{defaultValue:a,valuePropName:"selectedRowKeys",trigger:"onChange"}),R=c.useCallback(H=>{const I=H[o];return y.includes(I)?"virtual-table-row-selected":""},[o,y]),O=ye(()=>s.map(H=>f?f(H):{})),g=ye(()=>s.filter((H,I)=>!O[I].disabled).map(H=>H[o])),P=c.useRef(new Map),M=!O.some(H=>!H.disabled),D=tt(H=>{const I=[];return H.forEach(_=>{let N=s.find(T=>T[o]===_);N==null&&l&&(N=P.current.get(_)),!(N==null&&!l)&&I.push(N)}),I}),W=c.useRef(null),F=c.useMemo(()=>{if(n)return r;const H=y.length>0,I=H&&g.length>y.length,_=H?g.length>0&&g.every(z=>y.includes(z)):!1,N=z=>{const L=new Set(z);return l?Array.from(L):Array.from(L).filter(U=>g.includes(U))},T=(z,L)=>{const U=W.current??z,se=Math.min(U,z),Z=Math.max(U,z),de=g.slice(se,Z+1),me=de.some(le=>!y.includes(le));W.current=me?Z:null;const ae=N(L?[...y,...de]:y.filter(le=>!de.includes(le))),ie=D(ae);w(ae,ie,{type:"multiple"})},k=()=>{const z=N([...y,...g]),L=D(z);w(z,L,{type:"all"})},Q=()=>{const z=g.filter(U=>!y.includes(U)),L=D(z);w(z,L,{type:"invert"})},A=()=>{w([],[],{type:"none"})},oe={indeterminate:I,value:_,disabled:M,multiple:d,onChange:z=>{z?k():A()},onClear:A,onSelectAll:k,onSelectInvert:Q,allKeys:g};return[{...x,title:m?void 0:(()=>{if(!d)return c.isValidElement(v)?v:typeof v=="function"?v(void 0,oe):null;let z=S.jsx("div",{className:"virtual-table-selection",children:S.jsx(wt,{component:i,multiple:d,value:_,indeterminate:I,disabled:M,onChange:L=>{L?k():A()}})});return c.isValidElement(v)?z=v:typeof v=="function"&&(z=v(z,oe)),z})(),width:p??32,align:"center",fixed:h?"left":void 0,key:go,render(z,L,U){const se=L[o],Z=y.includes(se),de=O[U],me=()=>{l&&P.current.set(se,L)},ae=S.jsx(wt,{...de,component:i,value:Z,multiple:d,onChange:(ie,le)=>{if(me(),d&&le.shiftKey){T(U,ie);return}ie?W.current=U:W.current=null;let we=[se];d&&(we=N(ie?[...y,se]:y.filter(Ae=>Ae!==se)));const De=D(we);u==null||u(L,ie,De,le),w(we,De,{type:"single"})}});return typeof C=="function"?C(Z,L,U,ae):ae},onCell:b,onHeaderCell(){return{className:"virtual-table-selection-column"}}},...r]},[n,x,M,g,v,p,h,D,m,b,u,l,r,C,o,y,O,w,d,i]);return n?e:{...e,rowClassName:R,columns:F}}const _o=fe(vo);export{ut as S,xo as V,fe as a,Po as b,$ as c,Co as d,Do as e,Oo as f,No as g,Eo as h,_o as t,So as u};
