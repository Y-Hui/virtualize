import{r as i,j as e}from"./index-C5G4hb-v.js";import{a as P,u as z,h as M,V as N}from"./index-DYUyFEuL.js";import{t as B}from"./table-selection-DIelkR4z.js";import{t as A,a as K,S as c,c as L,b as F,d as G}from"./index-BT3mMZf9.js";import{a as H}from"./mock-CfUtaCM7.js";import{B as p,E as v,S as O,R as g}from"./index-CzAQgsFc.js";import{R as V,I as d}from"./index-D-X4K7lM.js";import{R as $}from"./MinusOutlined-BNcaave0.js";import{T as j}from"./index-B3KPWF3h.js";import{S as y}from"./index-BFjbLVi8.js";const ae=()=>{const[u,C]=i.useState("bottom"),[m,R]=i.useState(!1),[f,S]=i.useState(!0),[w,k]=i.useState(!1),[h,o]=H(),I=i.useMemo(()=>B({extraColumnProps:{disableResize:!0},fixed:!0,onSelect(r,l,a,s){console.log({record:r,selected:l,selectedRows:a,nativeEvent:s})},onChange(r,l,a){console.log({selectedRowKeys:r,selectedRows:l,info:a})}}),[]),E=i.useMemo(()=>A({extraColumnProps:{disableResize:!0},fixed:"left",defaultExpandAllRows:!0,rowExpandable:()=>!0,expandedRowRender(){return e.jsx(e.Fragment,{children:Array.from({length:20}).map((r,l)=>e.jsx("div",{children:l+1},l))})}}),[]),x=P(),T=i.useMemo(()=>K({summary:()=>e.jsx(c,{fixed:u,children:e.jsx(c.Row,{children:(r,l)=>r.key==="name"?e.jsx(c.Cell,{columnKey:l,children:e.jsx(p,{onClick:()=>{x.scrollToRow(499)},children:"滚动到底部"})}):e.jsx(c.Cell,{columnKey:l})})},"summary")}),[x,u]),D=z({use:[I,E,L({storageKey:"full-demo"}),{priority:200,hook:F({loading:m||h.length===0})},{priority:200,hook:G({visible:!m,children:e.jsx(v,{image:v.PRESENTED_IMAGE_SIMPLE})})},{priority:200,hook:T},{priority:200,hook:M()}]}),b=h.length===1,_=i.useMemo(()=>[{title:"",key:"prefix-action",width:80,fixed:"left",render(r,l,a){return e.jsxs(O,{children:[e.jsx(p,{icon:e.jsx(V,{}),size:"small",shape:"circle",color:"primary",variant:"outlined",onClick:()=>{o(s=>{const n=s.slice();return n.splice(a+1,0,{key:`key:${Date.now()}`}),n})}}),e.jsx(p,{icon:e.jsx($,{}),size:"small",shape:"circle",danger:!0,disabled:b,onClick:()=>{o(s=>{const n=s.slice();return n.splice(a,1),n})}})]})}},{title:"Name",dataIndex:"name",key:"name",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],name:s.currentTarget.value},t})}})},{title:"Data1",dataIndex:"data1",width:200,render:(r,l,a)=>e.jsx(j,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data1:s},t})}})},{title:"Data2",dataIndex:"data2",width:200,render:(r,l,a)=>e.jsx(j,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data2:s},t})}})},{title:"Data3",dataIndex:"data3",width:200,render:(r,l,a)=>e.jsx(j,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data3:s},t})}})},{title:"Data4",dataIndex:"data4",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data4:s.currentTarget.value},t})}})},{title:"Data5",dataIndex:"data5",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data5:s.currentTarget.value},t})}})},{title:"Data6",dataIndex:"data6",width:200,fixed:"right",render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data6:s.currentTarget.value},t})}})},{title:"Data7",dataIndex:"data7",width:200,fixed:"right",render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data7:s.currentTarget.value},t})}})}],[b,o]);return e.jsxs("div",{style:{padding:16},children:[e.jsxs("div",{style:{marginBottom:30,display:"grid",gridTemplateColumns:"repeat(5, minmax(0, 1fr))"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"总结栏位置"}),e.jsxs(g.Group,{value:u,onChange:r=>C(r.target.value),children:[e.jsx(g,{value:"top",children:"Top"}),e.jsx(g,{value:"bottom",children:"Bottom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Loading"}),e.jsx(y,{value:m,onChange:R})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Sticky"}),e.jsx(y,{value:f,onChange:S})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Empty"}),e.jsx(y,{value:w,onChange:k})]})]}),e.jsx("div",{children:e.jsx(N,{instance:x,pipeline:D,rowKey:"key",dataSource:w?[]:h,columns:_,estimatedRowHeight:49,stickyHeader:f})})]})};export{ae as default};
