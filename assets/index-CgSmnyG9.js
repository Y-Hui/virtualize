var qe=Object.defineProperty;var Ve=(e,t,r)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var te=(e,t,r)=>Ve(e,typeof t!="symbol"?t+"":t,r);import{r as s,j as x}from"./index-BVhD4ibV.js";function ae(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=ae(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function O(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=ae(e))&&(n&&(n+=" "),n+=t);return n}function P(e){return"key"in e?e.key:e.dataIndex}function B(e){return e==="left"}function _(e){return e==="right"}function de(e){return B(e)||_(e)}const fe=s.createContext(null);function re(){const e=s.useContext(fe);if(e==null)throw new Error("useColumnSizes provider not found");return e}const he=s.createContext(null);function Qe(e){const{columns:t,children:r}=e,{widthList:n}=re(),o=s.useMemo(()=>t.map(d=>({key:P(d),fixed:d.fixed})),[t]),c=s.useMemo(()=>{let d=0;const u=o.reduce((l,i,m)=>{const{fixed:y,key:C}=i;return B(y)&&(l[m]=d,d+=n.get(C)??0),l},[]);let p=0;const a=o.reduceRight((l,i,m)=>{const{fixed:y,key:C}=i;return _(y)&&(l[m]=p,p+=n.get(C)??0),l},[]);return o.reduce((l,i,m)=>{const{key:y,fixed:C}=i;return B(C)?(l.set(y,u[m]),l):(_(C)&&l.set(y,a[m]),l)},new Map)},[o,n]),h=s.useMemo(()=>({size:c,fixed:o}),[o,c]);return x.jsx(he.Provider,{value:h,children:r})}function me(){const e=s.useContext(he);if(e==null)throw new Error("useTableSticky provider not found");return e}function F(e,t,r){return typeof t=="function"?t(e,r):e}function Ue(e,t,r){const{render:n}=r,o=t;if("dataIndex"in r){const c=r.dataIndex;return typeof n!="function"?o[c]:n(o[c],t,e)}return(n==null?void 0:n(t,t,e))??null}function Xe(e){const{className:t,style:r,column:n,rowData:o,rowIndex:c,columnIndex:h,renderCell:d,...u}=e,{align:p,fixed:a,onCell:l}=n,i=P(n),{size:m}=me(),{className:y,style:C,colSpan:g,rowSpan:w,...k}=(l==null?void 0:l(o,c))??{};return g===0||w===0?null:F(x.jsx("td",{...u,...k,colSpan:g,rowSpan:w,className:O("virtual-table-cell",p!=null&&`virtual-table-align-${p}`,de(a)&&"virtual-table-sticky-cell",t,n.className,y),style:{...r,...C,left:B(a)?m.get(i):void 0,right:_(a)?m.get(i):void 0},children:Ue(c,o,n)}),d,{column:n,columnIndex:h})}const Ge=s.memo(Xe),pe=e=>{const{columns:t,colRef:r}=e;return x.jsx("colgroup",{children:t.map((n,o)=>{const{key:c}=n;if(n.type==="blank")return x.jsx("col",{style:{width:n.width}},c);const{column:h}=n;return x.jsx("col",{ref:typeof r=="function"?d=>{r(d,h,o)}:r,style:{width:h.width,minWidth:h.minWidth}},c)})})},Je=/auto|scroll|overlay|hidden/;function ye(e){return e instanceof Node?e.nodeType===1:!1}function Ze(e,t=window){let r=e;for(;r!==t&&ye(r);){if(r===document.body)return t;const{overflow:n,overflowY:o,overflowX:c}=window.getComputedStyle(r);if(Je.test(n+o+c))return r;r=r.parentNode}return e.ownerDocument.defaultView??window}function Z(e){return Object.prototype.toString.call(e)==="[object Window]"}function et(e){return Object.prototype.toString.call(e)==="[object HTMLDocument]"}function ge(e){return Object.prototype.toString.call(e)==="[object HTMLHtmlElement]"}function ie(e){return et(e)?e.scrollingElement:ye(e)?e:document.scrollingElement}function tt(e){const{getScroller:t,root:r}=e,[n,o]=s.useState(0),[c,h]=s.useState(0),[d,u]=s.useState(0),[p,a]=s.useState(0),l=s.useRef(null);return s.useLayoutEffect(()=>{const i=t();if(i==null)return;let m;Z(i)?m=document.scrollingElement:m=i,l.current=m;const y=new ResizeObserver(C=>{const{width:g,height:w}=C[0].contentRect;o(g),h(w)});return y.observe(m),()=>{y.disconnect()}},[t]),s.useLayoutEffect(()=>{const i=r.current;if(i==null)return;const m=new ResizeObserver(y=>{const{width:C,height:g}=y[0].contentRect;u(C),a(g)});return m.observe(i),()=>{m.disconnect()}},[r]),{scrollContainerWidth:n,scrollContainerHeight:c,tableWidth:d,tableHeight:p}}const xe=s.createContext(null);function nt(e){const{getScroller:t,root:r,children:n}=e,{scrollContainerHeight:o,scrollContainerWidth:c,tableHeight:h,tableWidth:d}=tt({getScroller:t,root:r}),u=s.useMemo(()=>({scrollContainerWidth:c,scrollContainerHeight:o,tableWidth:d,tableHeight:h}),[c,o,d,h]);return x.jsx(xe.Provider,{value:u,children:n})}function Lt(){const e=s.useContext(xe);if(e==null)throw new Error("useContainerSize provider not found");return e}const we=s.createContext(null);function rt(e){const{children:t}=e,r=s.useRef({}),[n,o]=s.useState({}),c=s.useCallback(u=>{delete r.current[u],o({...r.current})},[]),h=s.useCallback((u,p)=>(r.current[u]!==p&&(r.current[u]=p,o({...r.current})),()=>{c(u)}),[c]),d=s.useMemo(()=>({getElements(){return Object.values(n)},addShouldSyncElement:h,removeShouldSyncElement:c}),[h,n,c]);return s.useLayoutEffect(()=>{const u=Object.values(n),p=new Set,a=(i,m)=>{u.forEach(y=>{y!==i&&(p.add(y),y.scrollLeft=m)})},l=i=>{const m=i.target;if(p.has(m)){p.delete(m);return}const y=()=>{const{scrollLeft:g}=m;a(m,g)},C=window.requestAnimationFrame;C!=null?C(y):y()};return u.forEach(i=>{i.addEventListener("scroll",l)}),()=>{u.forEach(i=>{i.removeEventListener("scroll",l)})}},[n]),x.jsx(we.Provider,{value:d,children:t})}function ee(){const e=s.useContext(we);if(e==null)throw new Error("useHorizontalScrollContext provider not found");return e}const Re=s.createContext(null);function ot(){const e=s.useContext(Re);if(e==null)throw new Error("useTableRowManager provider not found");return e}function ue(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),o=r.length;if(n.length!==o)return!1;for(let c=0;c<o;c+=1){const h=r[c];if(e[h]!==t[h]||!Object.prototype.hasOwnProperty.call(t,h))return!1}return!0}function q(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let n=0;n<r;n+=1)if(e[n]!==t[n])return!1;return!0}function st(e,t){return Object.is(e,t)?!0:Array.isArray(e)&&Array.isArray(t)?q(e,t)?!0:e.length===t.length&&e.findIndex(n=>typeof n=="object"&&n!=null)>-1?e.every((n,o)=>Array.isArray(n)?q(n,t[o]):typeof n=="object"&&n!=null?ue(n,t[o]):Object.is(n,t[o])):!1:typeof e=="object"&&e!=null?ue(e,t):!1}function ne(e){const t=s.useRef(null);return s.useLayoutEffect(()=>{t.current=e},[e]),s.useCallback((...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function ct(e){const t={current:null,options:null};return(...r)=>{const n=o=>e(o,...r);return st(r,t.options)?t.current??n:(t.options=r,t.current=n,n)}}function lt(e){return Array.isArray(e)?e.filter(t=>t!=null&&(typeof t=="function"||typeof t.hook=="function")).map(t=>typeof t=="function"?{priority:100,hook:t}:t):[]}const J=class J{constructor(){te(this,"hooks",[]);this.use=this.use.bind(this)}setHooks(t){this.hooks=t}use(t){if(this.hooks.length===0)return t;const r={current:t},n={render:[],renderRoot:[],renderContent:[],renderHeaderWrapper:[],renderHeaderRoot:[],renderHeader:[],renderHeaderRow:[],renderHeaderCell:[],renderBodyWrapper:[],renderBodyRoot:[],renderBody:[],renderRow:[],renderCell:[]},o=[],c=[],h=this.hooks.slice();return h.sort((d,u)=>d.priority-u.priority),h.map(d=>d.hook).forEach(d=>{const u=d(r.current),{render:p,renderRoot:a,renderContent:l,renderHeaderWrapper:i,renderHeaderRoot:m,renderHeader:y,renderHeaderRow:C,renderHeaderCell:g,renderBodyWrapper:w,renderBodyRoot:k,renderBody:E,renderRow:j,renderCell:N,rowClassName:z,onRow:L,...T}=u;Object.entries(n).forEach(([W,S])=>{const H=u[W];typeof H=="function"&&S.push(H)}),typeof z=="function"&&o.push(z),typeof L=="function"&&c.push(L),r.current=T}),Object.entries(n).forEach(([d,u])=>{u.length>0&&(r.current[d]=(p,a)=>u.reduce((l,i)=>i(l,a),p))}),o.length>0&&(r.current.rowClassName=(d,u)=>O(...o.map(p=>p(d,u)))),c.length>0&&(r.current.onRow=(d,u)=>c.reduce((p,a)=>({...p,...a(d,u)}),{})),r.current}};te(J,"defaultPipeline",new J);let V=J;function Wt(e){const{use:t,pipeline:r}=e,n=s.useMemo(()=>({current:new V}),[]);if(t!=null){const o=lt([...t,...(r==null?void 0:r.hooks)??[]]);if(!q(n.current.hooks,o)){const c=new V;return c.setHooks(o),n.current=c,c}}return n.current}function oe(e,t){let r=-1;for(let n=0;n<e.length;n+=1)t(e[n],n)&&(r=n);return r}function it(e){const{className:t,rowIndex:r,rowData:n,columns:o,onRow:c,renderRow:h,renderCell:d,...u}=e,{updateRowHeight:p}=ot(),{columns:a,descriptor:l}=o,i=oe(l,g=>g.type==="blank"?!1:B(g.column.fixed)),m=l.findIndex(g=>g.type==="blank"?!1:_(g.column.fixed)),{className:y,...C}=(c==null?void 0:c(n,r))??{};return F(x.jsx("tr",{...u,...C,className:O("virtual-table-row",t,y),ref:g=>{g!=null&&p(r,g.offsetHeight)},children:l.map((g,w)=>{const{key:k}=g;if(g.type==="blank")return x.jsx("td",{},k);const{column:E}=g;return x.jsx(Ge,{className:O(i===w&&"virtual-table-cell-fix-left-last",m===w&&"virtual-table-cell-fix-right-first"),column:E,rowIndex:r,rowData:n,columnIndex:w,renderCell:d},k)})}),h,{columns:a,rowIndex:r,rowData:n,columnDescriptor:l})}const ut=s.memo(it);function at(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function dt(...e){return t=>{e.forEach(r=>at(r,t))}}function Q(...e){return s.useCallback(dt(...e),e)}function ft(e){const{bodyWrapperRef:t,bodyRootRef:r,bodyRef:n,className:o,style:c,dataSource:h,columns:d,rowKey:u,startIndex:p,rowClassName:a,onRow:l,renderBodyWrapper:i,renderBodyRoot:m,renderBody:y,renderRow:C,renderCell:g}=e,{columns:w,descriptor:k}=d,{addShouldSyncElement:E}=ee(),{widthList:j,setWidthList:N}=re(),z=s.useRef(new Map);s.useLayoutEffect(()=>{const H=j,v=[...H.keys()],f=[...z.current.keys()],b=[...H.values()],R=[...z.current.values()];(!q(v,f)||!q(b,R))&&N(new Map(z.current))});const L=F(x.jsx("tbody",{ref:n,children:h.map((H,v)=>{const f=H[u];return x.jsx(ut,{className:O(a==null?void 0:a(H,v)),rowIndex:v+p,rowData:H,columns:d,onRow:l,renderRow:C,renderCell:g},f)})}),y,{columns:w,columnDescriptor:k}),T=F(x.jsxs("table",{className:O(o,"virtual-table-body"),style:c,ref:r,children:[x.jsx(pe,{columns:k,colRef:(H,v)=>{if(H==null)return;const f=P(v);z.current.set(f,H.offsetWidth)}}),L]}),m,{columns:w,columnDescriptor:k}),W=s.useRef(null);s.useEffect(()=>{const H=W.current;if(H!=null)return E("virtual-table-body",H)},[E]);const S=Q(W,t);return F(x.jsx("div",{ref:S,className:"virtual-table-body-wrapper",children:T}),i,{columns:w,columnDescriptor:k})}const ht=e=>{const{className:t,style:r,wrapperRef:n,columns:o,stickyHeader:c,renderHeaderWrapper:h,renderHeaderRoot:d,renderHeader:u,renderHeaderRow:p,renderHeaderCell:a}=e,{columns:l,descriptor:i}=o,{widthList:m}=re(),{size:y}=me(),C=oe(i,L=>L.type==="blank"?!1:B(L.column.fixed)),g=i.findIndex(L=>L.type==="blank"?!1:_(L.column.fixed)),{addShouldSyncElement:w}=ee(),k=s.useRef(null);s.useEffect(()=>{const L=k.current;if(L!=null)return w("virtual-table-header",L)},[w]);const E=F(x.jsx("tr",{children:i.map((L,T)=>{var b;const{key:W}=L;if(L.type==="blank")return x.jsx("th",{},W);const{column:S}=L;if(S.colSpan===0)return null;const{className:H,style:v,...f}=((b=S.onHeaderCell)==null?void 0:b.call(S,S,T))??{};return x.jsx(s.Fragment,{children:F(s.createElement("th",{scope:"col",...f,colSpan:S.colSpan,className:O("virtual-table-header-cell",S.align!=null&&`virtual-table-align-${S.align}`,de(S.fixed)&&"virtual-table-sticky-cell",C===T&&"virtual-table-cell-fix-left-last",g===T&&"virtual-table-cell-fix-right-first",S.className,H),style:{...v,left:B(S.fixed)?y.get(W):void 0,right:_(S.fixed)?y.get(W):void 0}},S.title),a,{column:S,columns:l,columnIndex:T,columnWidths:m,columnDescriptor:i})},W)})}),p,{columns:l,columnDescriptor:i}),j=F(x.jsx("thead",{className:"virtual-table-thead",children:E}),u,{columns:l,columnDescriptor:i}),N=F(x.jsxs("table",{style:r,children:[x.jsx(pe,{columns:i}),j]}),d,{columns:l,columnDescriptor:i}),z=Q(n,k);return F(x.jsx("div",{ref:z,className:O("virtual-table-header",t,{"virtual-table-header-sticky":c}),style:{top:Number.isFinite(c)?c:void 0},children:N}),h,{columns:l,columnDescriptor:i})};function be(e,t){if(Z(e)){const r=()=>{t({width:window.innerWidth,height:window.innerHeight})};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}else{const r=new ResizeObserver(n=>{const o=n[0].contentRect;t({width:o.width,height:o.height})});return r.observe(e),()=>{r.disconnect()}}}function mt(e,t){let r=0,n=e.length-1,o=-1;for(;r<=n;){const c=Math.floor((r+n)/2);e[c].right>t?(o=c,n=c-1):r=c+1}if(o!==-1)return e[o]}function pt(e){let t=-1;for(let r=e.length-1;r>=0;r--){const n=e[r];if(_(n.fixed))t=r;else break}return t}function yt(e){return oe(e,t=>B(t.fixed))}function gt(e){const{estimateSize:t,overscan:r,columns:n,getScroller:o,bodyWrapper:c,columnWidths:h,disabled:d=!1}=e,u=yt(n),p=pt(n),a=u>-1?P(n[u]):null,l=p>-1?P(n[p]):null,[i,m]=s.useState(0),[y,C]=s.useState(0),g=s.useMemo(()=>{if(d)return[];let f=0;return n.map((b,R)=>{const D=P(b),A=h.get(D)??t,$=f+A,I={index:R,width:A,left:f,right:$};return f=$,I})},[n,h,t,d]),w=s.useRef({index:0,width:t,left:0,right:t}),k=ne(f=>mt(g,f)),E=ne((f,b)=>{const R=k(f);R!=null&&(w.current=R,m(Math.max(0,R.index-r)),C(R.index+b+r))}),j=s.useRef(0);s.useEffect(()=>{if(d)return;const f=c.current;if(f==null)return;const b=f.offsetWidth;let R=Math.ceil(b/t);const D=()=>{const I=f.scrollLeft;I>j.current?I>w.current.right&&E(I,R):I<w.current.left&&E(I,R),j.current=I};f.addEventListener("scroll",D);let A=0;const $=be(f,({width:I})=>{if(I===A||I===0)return;A=I;const U=f.scrollLeft;R=Math.ceil(I/t),E(U,R)});return()=>{f.removeEventListener("scroll",D),$()}},[o,c,t,E,r,k,d]);const N=(f,b)=>g.slice(f,b).reduce((R,D)=>R+D.width,0),z=u>-1?N(0,u+1):0,L=p>-1?N(p):0,T=Math.max(0,N(0,i)-z),W=Math.max(0,N(y)-L),S=s.useMemo(()=>{if(d)return n;const f=[...n.slice(0,u+1),...n.slice(i,y),...n.slice(p)],b=new Set;return f.filter(R=>{const D=P(R);return b.has(D)?!1:(b.add(D),!0)})},[d,n,i,y,u,p]),H=s.useMemo(()=>S.reduce((f,b)=>{const R=P(b);return R===a?(f.push({key:R,type:"normal",column:b}),f.push({key:"_blank_left",type:"blank",width:T})):R===l?(f.push({key:"_blank_right",type:"blank",width:W}),f.push({key:R,type:"normal",column:b})):f.push({key:R,type:"normal",column:b}),f},[]),[S,a,l,T,W]);return{columns:s.useMemo(()=>({columns:S,descriptor:H}),[S,H]),columnSlice:S,lastFixedLeftIndex:u,firstFixedRightIndex:p}}function xt(e){const{itemCount:t,estimateSize:r,onChange:n}=e,o=s.useRef([]);(()=>{for(let a=0;a<t;a+=1)o.current[a]==null&&(o.current[a]=r);o.current=o.current.slice(0,t)})();const h=s.useRef([]),d=()=>{const a=[];let l=0;o.current.forEach((i,m)=>{m!==0&&(l+=i),a.push({index:m,height:i,top:l,bottom:l+i})}),h.current=a},u=ne((a,l)=>{o.current[a]=l,d(),n==null||n(a,l,h.current)});return{rowHeightList:o,updateRowHeight:u,sum:(a,l)=>o.current.slice(a,l).reduce((i,m)=>i+m,0),rects:s.useCallback(()=>h.current,[])}}function wt(e,t){let r=0,n=e.length-1,o=-1;for(;r<=n;){const c=Math.floor((r+n)/2);e[c].bottom>t?(o=c,n=c-1):r=c+1}if(o!==-1)return e[o]}function Rt(e){const{getOffsetTop:t,dataSource:r,getScroller:n,estimateSize:o,overscan:c}=e,[h,d]=s.useState(0),[u,p]=s.useState(0),a=s.useRef({index:0,height:o,top:0,bottom:o}),{rowHeightList:l,rects:i,updateRowHeight:m,sum:y}=xt({itemCount:r.length,estimateSize:o,onChange(j,N,z){a.current.index===j&&(a.current=z[j])}}),C=s.useRef(0),g=s.useRef(!1);s.useEffect(()=>{const j=n();if(j==null)return;let N=0;const z=()=>{const v=t();let f=0;return Z(j)||ge(j)?f=window.scrollY:f=ie(j).scrollTop,Math.max(f-v,0)},L=v=>{const f=N;return N=Math.ceil(v/o),{prevCount:f}},T=v=>{const f=wt(i(),v);f!=null&&(a.current=f,d(Math.max(0,f.index-c)),p(f.index+N+c))},W=v=>{const f=t(),b=ie(v.target),R=Math.max(0,b.scrollTop-f);R>C.current?R>a.current.bottom&&T(R):R<a.current.top&&T(R),C.current=R};let S=0;const H=be(j,v=>{if(v.height===S||v.height===0)return;S=v.height,L(v.height);const f=z();if(g.current)T(f);else{g.current=!0;let b=0;f>=o&&(b=Math.max(Math.floor(f/o)-1-c,0));const R=b+N+c;d(b),p(R)}});return j.addEventListener("scroll",W),()=>{H(),j.removeEventListener("scroll",W)}},[o,t,n,c,i]);const w=y(0,h),k=y(u),E=s.useMemo(()=>r.slice(h,u),[r,h,u]);return{startIndex:h,endIndex:u,rowHeightList:l,updateRowHeight:m,topBlank:w,bottomBlank:k,dataSlice:E}}function bt(e,t){const{className:r,style:n,children:o,hasFixedLeftColumn:c,hasFixedRightColumn:h,renderRoot:d}=e,u=s.useRef(null),[p,a]=s.useState(!1),[l,i]=s.useState(!1),{getElements:m}=ee(),y=s.useMemo(()=>m(),[m]);s.useEffect(()=>{const g=()=>{const w=y[0];if(w==null)return;const{scrollLeft:k,clientWidth:E,scrollWidth:j}=w;c&&a(k!==0),h&&i(!(k+E>=j))};return g(),y.forEach(w=>{w.addEventListener("scroll",g)}),()=>{y.forEach(w=>{w.removeEventListener("scroll",g)})}},[y,c,h]);const C=Q(t,u);return F(x.jsx("div",{ref:C,className:O("virtual-table",p&&"virtual-table-has-fix-left",l&&"virtual-table-has-fix-right",r),style:n,children:o}),d,{})}const Ct=s.forwardRef(bt);function St(e,t){const{bodyRootRef:r,className:n,style:o,tableBodyClassName:c,tableBodyStyle:h,columns:d,dataSource:u,rowKey:p="key",estimatedRowHeight:a=46,estimatedColumnWidth:l,overscanRows:i=5,overscanColumns:m=3,stickyHeader:y,pipeline:C=V.defaultPipeline,rowClassName:g,onRow:w,getOffsetTop:k}=e,E=s.useRef(null),j=s.useRef(null),N=s.useRef(null),z=s.useRef(null),L=Q(z,r),T=s.useRef(null),W=s.useCallback(()=>{const M=E.current;if(M!=null)return Ze(M)},[]),S=s.useCallback(()=>{var K,le;if(typeof k=="function")return k();const M=W();if(M===E.current)return 0;if(Z(M)||ge(M)){const Ye=((K=E.current)==null?void 0:K.getBoundingClientRect().top)??0;return window.scrollY+Ye}return((le=E.current)==null?void 0:le.offsetTop)??0},[k,W]),{dataSource:H,columns:v,rowKey:f,rowClassName:b,render:R,renderRoot:D,renderContent:A,renderHeaderWrapper:$,renderHeaderRoot:I,renderHeader:U,renderHeaderRow:Ce,renderHeaderCell:Se,renderBodyWrapper:ve,renderBodyRoot:ke,renderBody:Ee,renderRow:He,renderCell:je,onRow:X}=C.use({dataSource:u,rowKey:p,columns:d,estimatedRowHeight:a,headerWrapperRef:j,bodyWrapperRef:N,bodyRootRef:z,bodyRef:T,rootRef:E,getOffsetTop:S,getScroller:W}),[G,Le]=s.useState(()=>new Map),We=s.useRef(G),Ne=M=>{We.current=M,Le(M)},Me=s.useMemo(()=>({widthList:G,setWidthList:Ne}),[G]),{startIndex:ze,dataSlice:Te,updateRowHeight:se,rowHeightList:ce,topBlank:Ie,bottomBlank:Fe}=Rt({getOffsetTop:S,dataSource:H,getScroller:W,estimateSize:a,overscan:i}),{columns:Y}=gt({estimateSize:l??100,overscan:m,columns:v,getScroller:W,bodyWrapper:N,columnWidths:G,disabled:l==null}),De=s.useCallback((M,K)=>O(g==null?void 0:g(M,K),b==null?void 0:b(M,K)),[g,b]),Oe=s.useCallback((M,K)=>({...w==null?void 0:w(M,K),...X==null?void 0:X(M,K)}),[X,w]),Be=v.some(M=>B(M.fixed)),_e=v.some(M=>_(M.fixed)),Ke=s.useMemo(()=>({getRowHeightList(){return ce.current},updateRowHeight:se}),[ce,se]),Pe=F(x.jsxs(x.Fragment,{children:[x.jsx(ht,{wrapperRef:j,columns:Y,stickyHeader:y,renderHeaderWrapper:$,renderHeaderRoot:I,renderHeader:U,renderHeaderRow:Ce,renderHeaderCell:Se}),x.jsx(ft,{bodyWrapperRef:N,bodyRootRef:L,bodyRef:T,className:c,style:{...h,paddingBottom:Fe,paddingTop:Ie},columns:Y,rowKey:f,dataSource:Te,startIndex:ze,rowClassName:De,onRow:Oe,renderBodyWrapper:ve,renderBodyRoot:ke,renderBody:Ee,renderRow:He,renderCell:je})]}),A,{columns:Y.columns,columnDescriptor:Y.descriptor}),Ae=Q(E,t),$e=F(x.jsx(Ct,{ref:Ae,className:n,style:o,hasFixedLeftColumn:Be,hasFixedRightColumn:_e,renderRoot:D,children:Pe}),R,{columns:Y.columns,columnDescriptor:Y.descriptor});return x.jsx(Re.Provider,{value:Ke,children:x.jsx(fe.Provider,{value:Me,children:x.jsx(Qe,{columns:v,children:x.jsx(nt,{getScroller:W,root:E,children:x.jsx(rt,{children:$e})})})})})}const Nt=s.memo(s.forwardRef(St));function vt(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:r}}const kt=e=>{const{className:t,style:r,bottom:n,zIndex:o,bodyRef:c}=e,{addShouldSyncElement:h}=ee(),d=s.useRef(null);s.useEffect(()=>{const l=d.current;if(l!=null)return h("virtual-table-sticky-bottom-scroll",l)},[h]);const[u,p]=s.useState(0);s.useEffect(()=>{const l=c.current;if(l==null)return;const i=new ResizeObserver(m=>{const{width:y}=m[0].contentRect;p(y)});return i.observe(l),()=>{i.disconnect()}},[c]);const[a]=s.useState(vt);return x.jsx("div",{className:O("virtual-table-sticky-scroll",t),style:{...r,paddingTop:a.height>0?0:12,marginTop:a.height>0?0:a.height*-1,height:a.height,bottom:n,zIndex:o},ref:d,children:x.jsx("div",{className:"virtual-table-sticky-scroll-bar",style:{width:u}})})};function Et(e,t){const{bodyRootRef:r}=e;return{...e,renderContent(n){return x.jsxs(x.Fragment,{children:[n,x.jsx(kt,{bodyRef:r,...t})]})}}}const Mt=ct(Et);export{pe as C,Nt as V,ct as a,Lt as b,O as c,ot as d,ne as e,ee as f,P as g,Mt as h,de as i,vt as j,me as k,B as l,_ as m,st as n,be as o,Q as p,Wt as u};
