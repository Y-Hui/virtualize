var Je=Object.defineProperty;var Ve=(e,t,n)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var te=(e,t,n)=>Ve(e,typeof t!="symbol"?t+"":t,n);import{r as s,j as w}from"./index-l6CFis1Q.js";function he(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=he(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function B(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=he(e))&&(r&&(r+=" "),r+=t);return r}function ae(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(let c=0;c<o;c+=1){const u=n[c];if(e[u]!==t[u]||!Object.prototype.hasOwnProperty.call(t,u))return!1}return!0}function G(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=e.length;if(t.length!==n)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}function V(e,t){if(Object.is(e,t))return!0;if(Array.isArray(e)&&Array.isArray(t))return G(e,t)?!0:e.length===t.length&&e.findIndex(r=>typeof r=="object"&&r!=null)>-1?e.every((r,o)=>Array.isArray(r)?G(r,t[o]):typeof r=="object"&&r!=null?ae(r,t[o]):Object.is(r,t[o])):!1;if(e instanceof Map&&t instanceof Map){const n=[...e.keys()],r=[...t.keys()];if(G(n,r)){const o=[...e.values()],c=[...t.values()];if(V(o,c))return!0}return!1}return typeof e=="object"&&e!=null?ae(e,t):!1}function de(e){const t=e(),n=s.useRef(t);return V(t,n.current)||(n.current=t),n.current}function _(e){return"key"in e?e.key:e.dataIndex}function K(e){return e==="left"}function P(e){return e==="right"}function pe(e){return K(e)||P(e)}const me=s.createContext(null);function re(){const e=s.useContext(me);if(e==null)throw new Error("useColumnSizes provider not found");return e}const ye=s.createContext(null);function Ze(e){const{columns:t,children:n}=e,{widthList:r}=re(),o=s.useMemo(()=>t.map(x=>({key:_(x),fixed:x.fixed})),[t]),c=s.useMemo(()=>{let x=0;const f=o.reduce((y,b,C)=>{const{fixed:h,key:R}=b;return K(h)&&(y[C]=x,x+=r.get(R)??0),y},[]);let m=0;const d=o.reduceRight((y,b,C)=>{const{fixed:h,key:R}=b;return P(h)&&(y[C]=m,m+=r.get(R)??0),y},[]);return o.reduce((y,b,C)=>{const{key:h,fixed:R}=b;return K(R)?(y.set(h,f[C]),y):(P(R)&&y.set(h,d[C]),y)},new Map)},[o,r]),u=de(()=>o),i=de(()=>c),a=s.useMemo(()=>({size:i,fixed:u}),[u,i]);return w.jsx(ye.Provider,{value:a,children:n})}function xe(){const e=s.useContext(ye);if(e==null)throw new Error("useTableSticky provider not found");return e}function I(e,t,n){return typeof t=="function"?t(e,n):e}function et(e,t,n){const{render:r}=n,o=t;if("dataIndex"in n){const c=n.dataIndex;return typeof r!="function"?o[c]:r(o[c],t,e)}return(r==null?void 0:r(t,t,e))??null}function tt(e){const{className:t,style:n,column:r,rowData:o,rowIndex:c,renderCell:u,...i}=e,{align:a,fixed:x,onCell:f}=r,m=_(r),{size:d}=xe(),{className:y,style:b,colSpan:C,rowSpan:h,...R}=(f==null?void 0:f(o,c))??{};return C===0||h===0?null:I(w.jsx("td",{...i,...R,colSpan:C,rowSpan:h,className:B("virtual-table-cell",a!=null&&`virtual-table-align-${a}`,pe(x)&&"virtual-table-sticky-cell",t,r.className,y),style:{...n,...b,left:K(x)?d.get(m):void 0,right:P(x)?d.get(m):void 0},children:et(c,o,r)}),u,{column:r})}const nt=s.memo(tt),ge=e=>{const{columns:t,colRef:n}=e;return w.jsx("colgroup",{children:t.map((r,o)=>{const{key:c}=r;if(r.type==="blank")return w.jsx("col",{style:{width:r.width}},c);const{column:u}=r;return w.jsx("col",{ref:typeof n=="function"?i=>{n(i,u,o)}:n,style:{width:u.width,minWidth:u.minWidth}},c)})})},rt=/auto|scroll|overlay|hidden/;function we(e){return e instanceof Node?e.nodeType===1:!1}function ot(e,t=window){let n=e;for(;n!==t&&we(n);){if(n===document.body)return t;const{overflow:r,overflowY:o,overflowX:c}=window.getComputedStyle(n);if(rt.test(r+o+c))return n;n=n.parentNode}return e.ownerDocument.defaultView??window}function Z(e){return Object.prototype.toString.call(e)==="[object Window]"}function st(e){return Object.prototype.toString.call(e)==="[object HTMLDocument]"}function Re(e){return Object.prototype.toString.call(e)==="[object HTMLHtmlElement]"}function fe(e){return st(e)?e.scrollingElement:we(e)?e:document.scrollingElement}function ct(e){const{getScroller:t,root:n}=e,[r,o]=s.useState(0),[c,u]=s.useState(0),[i,a]=s.useState(0),[x,f]=s.useState(0),m=s.useRef(null);return s.useLayoutEffect(()=>{const d=t();if(d==null)return;let y;Z(d)?y=document.scrollingElement:y=d,m.current=y;const b=new ResizeObserver(C=>{const{width:h,height:R}=C[0].contentRect;o(h),u(R)});return b.observe(y),()=>{b.disconnect()}},[t]),s.useLayoutEffect(()=>{const d=n.current;if(d==null)return;const y=new ResizeObserver(b=>{const{width:C,height:h}=b[0].contentRect;a(C),f(h)});return y.observe(d),()=>{y.disconnect()}},[n]),{scrollContainerWidth:r,scrollContainerHeight:c,tableWidth:i,tableHeight:x}}const be=s.createContext(null);function lt(e){const{getScroller:t,root:n,children:r}=e,{scrollContainerHeight:o,scrollContainerWidth:c,tableHeight:u,tableWidth:i}=ct({getScroller:t,root:n}),a=s.useMemo(()=>({scrollContainerWidth:c,scrollContainerHeight:o,tableWidth:i,tableHeight:u}),[c,o,i,u]);return w.jsx(be.Provider,{value:a,children:r})}function zt(){const e=s.useContext(be);if(e==null)throw new Error("useContainerSize provider not found");return e}const Ce=s.createContext(null);function it(e){const{children:t}=e,n=s.useRef(new Map),r=s.useMemo(()=>({listen(o,c){return n.current.set(o,c),()=>{n.current.delete(o)}},notify(o,c,u){let i=window.requestAnimationFrame;i==null&&(i=a=>{a()}),i(()=>{n.current.forEach((a,x)=>{x!==o&&a(c,u)})})}}),[]);return w.jsx(Ce.Provider,{value:r,children:t})}function ee(){const e=s.useContext(Ce);if(e==null)throw new Error("useHorizontalScrollContext provider not found");return e}const Se=s.createContext(null);function ut(){const e=s.useContext(Se);if(e==null)throw new Error("useTableRowManager provider not found");return e}function ne(e){const t=s.useRef(null);return s.useLayoutEffect(()=>{t.current=e},[e]),s.useCallback((...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}function at(e){const t={current:null,options:null};return(...n)=>{const r=o=>e(o,...n);return V(n,t.options)?t.current??r:(t.options=n,t.current=r,r)}}function dt(e){return Array.isArray(e)?e.filter(t=>t!=null&&(typeof t=="function"||typeof t.hook=="function")).map(t=>typeof t=="function"?{priority:100,hook:t}:t):[]}const J=class J{constructor(){te(this,"hooks",[]);this.use=this.use.bind(this)}setHooks(t){this.hooks=t}use(t){if(this.hooks.length===0)return t;const n={current:t},r={render:[],renderRoot:[],renderContent:[],renderHeaderWrapper:[],renderHeaderRoot:[],renderHeader:[],renderHeaderRow:[],renderHeaderCell:[],renderBodyWrapper:[],renderBodyRoot:[],renderBody:[],renderRow:[],renderCell:[]},o=[],c=[],u=this.hooks.slice();return u.sort((i,a)=>i.priority-a.priority),u.map(i=>i.hook).forEach(i=>{const a=i(n.current),{render:x,renderRoot:f,renderContent:m,renderHeaderWrapper:d,renderHeaderRoot:y,renderHeader:b,renderHeaderRow:C,renderHeaderCell:h,renderBodyWrapper:R,renderBodyRoot:E,renderBody:W,renderRow:S,renderCell:N,rowClassName:z,onRow:T,...v}=a;Object.entries(r).forEach(([j,L])=>{const H=a[j];typeof H=="function"&&L.push(H)}),typeof z=="function"&&o.push(z),typeof T=="function"&&c.push(T),n.current=v}),Object.entries(r).forEach(([i,a])=>{a.length>0&&(n.current[i]=(x,f)=>a.reduce((m,d)=>d(m,f),x))}),o.length>0&&(n.current.rowClassName=(i,a)=>B(...o.map(x=>x(i,a)))),c.length>0&&(n.current.onRow=(i,a)=>c.reduce((x,f)=>({...x,...f(i,a)}),{})),n.current}};te(J,"defaultPipeline",new J);let Y=J;function Tt(e){const{use:t,pipeline:n}=e,r=s.useMemo(()=>({current:new Y}),[]);if(t!=null){const o=dt([...t,...(n==null?void 0:n.hooks)??[]]);if(!G(r.current.hooks,o)){const c=new Y;return c.setHooks(o),r.current=c,c}}return r.current}function oe(e,t){let n=-1;for(let r=0;r<e.length;r+=1)t(e[r],r)&&(n=r);return n}function ft(e){const{className:t,rowIndex:n,rowData:r,columns:o,onRow:c,renderRow:u,renderCell:i,...a}=e,{updateRowHeight:x}=ut(),{columns:f,descriptor:m}=o,d=oe(m,h=>h.type==="blank"?!1:K(h.column.fixed)),y=m.findIndex(h=>h.type==="blank"?!1:P(h.column.fixed)),{className:b,...C}=(c==null?void 0:c(r,n))??{};return I(w.jsx("tr",{...a,...C,className:B("virtual-table-row",t,b),ref:h=>{h!=null&&x(n,h.offsetHeight)},children:m.map((h,R)=>{const{key:E}=h;if(h.type==="blank")return w.jsx("td",{},E);const{column:W}=h;return w.jsx(nt,{className:B(d===R&&"virtual-table-cell-fix-left-last",y===R&&"virtual-table-cell-fix-right-first"),column:W,rowIndex:n,rowData:r,renderCell:i},E)})}),u,{columns:f,rowIndex:n,rowData:r,columnDescriptor:m})}const ht=s.memo(ft);function pt(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function mt(...e){return t=>{e.forEach(n=>pt(n,t))}}function q(...e){return s.useCallback(mt(...e),e)}function yt(e){const{bodyWrapperRef:t,bodyRootRef:n,bodyRef:r,className:o,style:c,dataSource:u,columns:i,rowKey:a,startIndex:x,rowClassName:f,onRow:m,renderBodyWrapper:d,renderBodyRoot:y,renderBody:b,renderRow:C,renderCell:h}=e,{columns:R,descriptor:E}=i,{listen:W,notify:S}=ee(),{widthList:N,setWidthList:z}=re(),T=s.useRef(new Map);s.useLayoutEffect(()=>{V(N,T.current)||z(new Map(T.current))});const v=I(w.jsx("tbody",{ref:r,children:u.map((l,p)=>{const g=l[a];return w.jsx(ht,{className:B(f==null?void 0:f(l,p)),rowIndex:p+x,rowData:l,columns:i,onRow:m,renderRow:C,renderCell:h},g)})}),b,{columns:R,columnDescriptor:E}),j=I(w.jsxs("table",{className:B(o,"virtual-table-body"),style:c,ref:n,children:[w.jsx(ge,{columns:E,colRef:(l,p)=>{if(l==null)return;const g=_(p);T.current.set(g,l.offsetWidth)}}),v]}),y,{columns:R,columnDescriptor:E}),L=s.useRef(null);s.useEffect(()=>{const l=L.current;if(l==null)return;const p="virtual-table-body",g=()=>{const D=l.scrollLeft;S(p,D,l)},k=W(p,D=>{l.scrollLeft=D});return l.addEventListener("scroll",g),()=>{l.removeEventListener("scroll",g),k()}},[W,S]);const H=q(L,t);return I(w.jsx("div",{ref:H,className:"virtual-table-body-wrapper",children:j}),d,{columns:R,columnDescriptor:E})}const xt=e=>{const{className:t,style:n,wrapperRef:r,columns:o,stickyHeader:c,renderHeaderWrapper:u,renderHeaderRoot:i,renderHeader:a,renderHeaderRow:x,renderHeaderCell:f}=e,{columns:m,descriptor:d}=o,{widthList:y}=re(),{size:b}=xe(),C=oe(d,v=>v.type==="blank"?!1:K(v.column.fixed)),h=d.findIndex(v=>v.type==="blank"?!1:P(v.column.fixed)),{listen:R,notify:E}=ee(),W=s.useRef(null);s.useEffect(()=>{const v=W.current;if(v==null)return;const j="virtual-table-header",L=()=>{const l=v.scrollLeft;E(j,l,v)},H=R(j,l=>{v.scrollLeft=l});return v.addEventListener("scroll",L),()=>{v.removeEventListener("scroll",L),H()}},[R,E]);const S=I(w.jsx("tr",{children:d.map((v,j)=>{var k;const{key:L}=v;if(v.type==="blank")return w.jsx("th",{},L);const{column:H}=v;if(H.colSpan===0)return null;const{className:l,style:p,...g}=((k=H.onHeaderCell)==null?void 0:k.call(H,H,j))??{};return w.jsx(s.Fragment,{children:I(s.createElement("th",{scope:"col",...g,colSpan:H.colSpan,className:B("virtual-table-header-cell",H.align!=null&&`virtual-table-align-${H.align}`,pe(H.fixed)&&"virtual-table-sticky-cell",C===j&&"virtual-table-cell-fix-left-last",h===j&&"virtual-table-cell-fix-right-first",H.className,l),style:{...p,left:K(H.fixed)?b.get(L):void 0,right:P(H.fixed)?b.get(L):void 0}},H.title),f,{column:H,columns:m,columnWidths:y,columnDescriptor:d})},L)})}),x,{columns:m,columnDescriptor:d}),N=I(w.jsx("thead",{className:"virtual-table-thead",children:S}),a,{columns:m,columnDescriptor:d}),z=I(w.jsxs("table",{style:n,children:[w.jsx(ge,{columns:d}),N]}),i,{columns:m,columnDescriptor:d}),T=q(r,W);return I(w.jsx("div",{ref:T,className:B("virtual-table-header",t,{"virtual-table-header-sticky":c}),style:{top:Number.isFinite(c)?c:void 0},children:z}),u,{columns:m,columnDescriptor:d})};function se(e,t){if(Z(e)){const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}else{const n=new ResizeObserver(r=>{const o=r[0].contentRect;t({width:o.width,height:o.height})});return n.observe(e),()=>{n.disconnect()}}}function gt(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const c=Math.floor((n+r)/2);e[c].right>t?(o=c,r=c-1):n=c+1}if(o!==-1)return e[o]}function wt(e){let t=-1;for(let n=e.length-1;n>=0;n--){const r=e[n];if(P(r.fixed))t=n;else break}return t}function Rt(e){return oe(e,t=>K(t.fixed))}function bt(e){const{estimateSize:t,overscan:n,columns:r,bodyWrapper:o,columnWidths:c,disabled:u=!1}=e,i=Rt(r),a=wt(r),x=i>-1?_(r[i]):null,f=a>-1?_(r[a]):null,[m,d]=s.useState(0),[y,b]=s.useState(0),C=s.useMemo(()=>{if(u)return[];let l=0;return r.map((p,g)=>{const k=_(p),D=c.get(k)??t,$=l+D,F={index:g,width:D,left:l,right:$};return l=$,F})},[r,c,t,u]),h=s.useRef({index:0,width:t,left:0,right:t}),R=ne(l=>gt(C,l)),E=ne((l,p)=>{const g=R(l);g!=null&&(h.current=g,d(Math.max(0,g.index-n)),b(g.index+p+n))}),W=s.useRef(0);s.useEffect(()=>{if(u)return;const l=o.current;if(l==null)return;const p=l.offsetWidth;let g=Math.ceil(p/t);const k=()=>{const F=l.scrollLeft;F>W.current?F>h.current.right&&E(F,g):F<h.current.left&&E(F,g),W.current=F};l.addEventListener("scroll",k);let D=0;const $=se(l,({width:F})=>{if(F===D||F===0)return;D=F;const Q=l.scrollLeft;g=Math.ceil(F/t),E(Q,g)});return()=>{l.removeEventListener("scroll",k),$()}},[o,t,E,n,R,u]);const S=(l,p)=>C.slice(l,p).reduce((g,k)=>g+k.width,0),N=i>-1?S(0,i+1):0,z=a>-1?S(a):0,T=Math.max(0,S(0,m)-N),v=Math.max(0,S(y)-z),j=s.useMemo(()=>{if(u)return r;const l=[...r.slice(0,i+1),...r.slice(m,y),...r.slice(a)],p=new Set;return l.filter(g=>{const k=_(g);return p.has(k)?!1:(p.add(k),!0)})},[u,r,m,y,i,a]),L=s.useMemo(()=>j.reduce((l,p)=>{const g=_(p);return g===x?(l.push({key:g,type:"normal",column:p}),l.push({key:"_blank_left",type:"blank",width:T})):g===f?(l.push({key:"_blank_right",type:"blank",width:v}),l.push({key:g,type:"normal",column:p})):l.push({key:g,type:"normal",column:p}),l},[]),[j,x,f,T,v]);return{columns:s.useMemo(()=>({columns:j,descriptor:L}),[j,L]),columnSlice:j,lastFixedLeftIndex:i,firstFixedRightIndex:a}}function Ct(e){const{itemCount:t,estimateSize:n,onChange:r}=e,o=s.useRef([]);(()=>{for(let f=0;f<t;f+=1)o.current[f]==null&&(o.current[f]=n);o.current=o.current.slice(0,t)})();const u=s.useRef([]),i=()=>{const f=[];let m=0;o.current.forEach((d,y)=>{y!==0&&(m+=d),f.push({index:y,height:d,top:m,bottom:m+d})}),u.current=f},a=ne((f,m)=>{o.current[f]=m,i(),r==null||r(f,m,u.current)});return{rowHeightList:o,updateRowHeight:a,sum:(f,m)=>o.current.slice(f,m).reduce((d,y)=>d+y,0),rects:s.useCallback(()=>u.current,[])}}function St(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const c=Math.floor((n+r)/2);e[c].bottom>t?(o=c,r=c-1):n=c+1}if(o!==-1)return e[o]}function vt(e){const{getOffsetTop:t,dataSource:n,getScroller:r,estimateSize:o,overscan:c}=e,[u,i]=s.useState(0),[a,x]=s.useState(0),f=s.useRef({index:0,height:o,top:0,bottom:o}),{rowHeightList:m,rects:d,updateRowHeight:y,sum:b}=Ct({itemCount:n.length,estimateSize:o,onChange(S,N,z){f.current.index===S&&(f.current=z[S])}}),C=s.useRef(0),h=s.useRef(!1);s.useEffect(()=>{const S=r();if(S==null)return;let N=0;const z=()=>{const l=t();let p=0;return Z(S)||Re(S)?p=window.scrollY:p=fe(S).scrollTop,Math.max(p-l,0)},T=l=>{const p=N;return N=Math.ceil(l/o),{prevCount:p}},v=l=>{const p=St(d(),l);p!=null&&(f.current=p,i(Math.max(0,p.index-c)),x(p.index+N+c))},j=l=>{const p=t(),g=fe(l.target),k=Math.max(0,g.scrollTop-p);k>C.current?k>f.current.bottom&&v(k):k<f.current.top&&v(k),C.current=k};let L=0;const H=se(S,l=>{if(l.height===L||l.height===0)return;L=l.height,T(l.height);const p=z();if(h.current)v(p);else{h.current=!0;let g=0;p>=o&&(g=Math.max(Math.floor(p/o)-1-c,0));const k=g+N+c;i(g),x(k)}});return S.addEventListener("scroll",j),()=>{H(),S.removeEventListener("scroll",j)}},[o,t,r,c,d]);const R=b(0,u),E=b(a),W=s.useMemo(()=>n.slice(u,a),[n,u,a]);return{startIndex:u,endIndex:a,rowHeightList:m,updateRowHeight:y,topBlank:R,bottomBlank:E,dataSlice:W}}function kt(e,t){const{className:n,style:r,children:o,hasFixedLeftColumn:c,hasFixedRightColumn:u,renderRoot:i,bodyScrollContainer:a}=e,x=s.useRef(null),[f,m]=s.useState(!1),[d,y]=s.useState(!1),{listen:b}=ee();s.useEffect(()=>{if(!c&&!u)return;const h=E=>{const{scrollLeft:W,clientWidth:S,scrollWidth:N}=E;c&&m(W!==0),u&&y(!(W+S>=N))},R=a.current;return R!=null&&h(R),b("__root",(E,W)=>{h(W)})},[a,c,u,b]);const C=q(t,x);return I(w.jsx("div",{ref:C,className:B("virtual-table",f&&"virtual-table-has-fix-left",d&&"virtual-table-has-fix-right",n),style:r,children:o}),i,{})}const Ht=s.forwardRef(kt);function Et(e,t){const{bodyRootRef:n,className:r,style:o,tableBodyClassName:c,tableBodyStyle:u,columns:i,dataSource:a,rowKey:x="key",estimatedRowHeight:f=46,estimatedColumnWidth:m,overscanRows:d=5,overscanColumns:y=3,stickyHeader:b,pipeline:C=Y.defaultPipeline,rowClassName:h,onRow:R,getOffsetTop:E,virtualHeader:W=!1}=e,S=s.useRef(null),N=s.useRef(null),z=s.useRef(null),T=s.useRef(null),v=q(T,n),j=s.useRef(null),L=s.useCallback(()=>{const M=S.current;if(M!=null)return ot(M)},[]),H=s.useCallback(()=>{var O,ue;if(typeof E=="function")return E();const M=L();if(M===S.current)return 0;if(Z(M)||Re(M)){const Ge=((O=S.current)==null?void 0:O.getBoundingClientRect().top)??0;return window.scrollY+Ge}return((ue=S.current)==null?void 0:ue.offsetTop)??0},[E,L]),{dataSource:l,columns:p,rowKey:g,rowClassName:k,render:D,renderRoot:$,renderContent:F,renderHeaderWrapper:Q,renderHeaderRoot:ve,renderHeader:ke,renderHeaderRow:He,renderHeaderCell:Ee,renderBodyWrapper:Le,renderBodyRoot:je,renderBody:Me,renderRow:We,renderCell:Ne,onRow:U}=C.use({dataSource:a,rowKey:x,columns:i,estimatedRowHeight:f,headerWrapperRef:N,bodyWrapperRef:z,bodyRootRef:T,bodyRef:j,rootRef:S,getOffsetTop:H,getScroller:L}),[X,ze]=s.useState(()=>new Map),Te=s.useRef(X),Fe=M=>{Te.current=M,ze(M)},Ie=s.useMemo(()=>({widthList:X,setWidthList:Fe}),[X]),{startIndex:De,dataSlice:Be,updateRowHeight:ce,rowHeightList:le,topBlank:Oe,bottomBlank:_e}=vt({getOffsetTop:H,dataSource:l,getScroller:L,estimateSize:f,overscan:d}),{columns:A}=bt({estimateSize:m??100,overscan:y,columns:p,bodyWrapper:z,columnWidths:X,disabled:m==null}),Ke=s.useCallback((M,O)=>B(h==null?void 0:h(M,O),k==null?void 0:k(M,O)),[h,k]),Pe=s.useCallback((M,O)=>({...R==null?void 0:R(M,O),...U==null?void 0:U(M,O)}),[U,R]),Ae=p.some(M=>K(M.fixed)),$e=p.some(M=>P(M.fixed)),Ye=s.useMemo(()=>({getRowHeightList(){return le.current},updateRowHeight:ce}),[le,ce]),ie=s.useMemo(()=>({columns:p,descriptor:p.map(M=>({key:_(M),type:"normal",column:M}))}),[p]),qe=s.useMemo(()=>W?A:ie,[W,ie,A]),Qe=I(w.jsxs(w.Fragment,{children:[w.jsx(xt,{wrapperRef:N,columns:qe,stickyHeader:b,renderHeaderWrapper:Q,renderHeaderRoot:ve,renderHeader:ke,renderHeaderRow:He,renderHeaderCell:Ee}),w.jsx(yt,{bodyWrapperRef:z,bodyRootRef:v,bodyRef:j,className:c,style:{...u,paddingBottom:_e,paddingTop:Oe},columns:A,rowKey:g,dataSource:Be,startIndex:De,rowClassName:Ke,onRow:Pe,renderBodyWrapper:Le,renderBodyRoot:je,renderBody:Me,renderRow:We,renderCell:Ne})]}),F,{columns:A.columns,columnDescriptor:A.descriptor}),Ue=q(S,t),Xe=I(w.jsx(Ht,{ref:Ue,className:r,style:o,hasFixedLeftColumn:Ae,hasFixedRightColumn:$e,renderRoot:$,bodyScrollContainer:z,children:Qe}),D,{columns:A.columns,columnDescriptor:A.descriptor});return w.jsx(Se.Provider,{value:Ye,children:w.jsx(me.Provider,{value:Ie,children:w.jsx(Ze,{columns:p,children:w.jsx(lt,{getScroller:L,root:S,children:w.jsx(it,{children:Xe})})})})})}const Ft=s.memo(s.forwardRef(Et));function Lt(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}const jt=e=>{const{className:t,style:n,bottom:r,zIndex:o,bodyRef:c}=e,{listen:u,notify:i}=ee(),a=s.useRef(null);s.useEffect(()=>{const d=a.current;if(d==null)return;const y="virtual-table-sticky-bottom-scroll",b=()=>{const h=d.scrollLeft;i(y,h,d)},C=u(y,h=>{d.scrollLeft=h});return d.addEventListener("scroll",b),()=>{d.removeEventListener("scroll",b),C()}},[u,i]);const[x,f]=s.useState(0);s.useEffect(()=>{const d=c.current;if(d!=null)return se(d,({width:y})=>{y!==0&&f(y)})},[c]);const[m]=s.useState(Lt);return w.jsx("div",{className:B("virtual-table-sticky-scroll",t),style:{...n,paddingTop:m.height>0?0:12,marginTop:m.height>0?0:m.height*-1,height:m.height,bottom:r,zIndex:o},ref:a,children:w.jsx("div",{className:"virtual-table-sticky-scroll-bar",style:{width:x}})})};function Mt(e,t){const{bodyRootRef:n}=e;return{...e,renderContent(r){return w.jsxs(w.Fragment,{children:[r,w.jsx(jt,{bodyRef:n,...t})]})}}}const It=at(Mt);export{ge as C,Ft as V,at as a,zt as b,B as c,ut as d,de as e,ne as f,_ as g,It as h,pe as i,ee as j,Lt as k,xe as l,K as m,P as n,se as o,q as p,Tt as u};
