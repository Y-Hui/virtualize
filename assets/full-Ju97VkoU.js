import{r as i,j as e}from"./index-BVhD4ibV.js";import{u as _,h as N,V as P}from"./index-CgSmnyG9.js";import{t as z}from"./table-selection-DYjQeK--.js";import{t as M,d as B,S as u,c as K,a as L,b as A}from"./index-DXnkOYPm.js";import{a as H}from"./mock-BbDWXm37.js";import{E as w,S as G,B as b,I as d,R as m}from"./index-BKyhSQp0.js";import{R as O}from"./PlusOutlined-BDsAcpn8.js";import{R as V,T as h}from"./MinusOutlined-DQr91NDV.js";import{S as x}from"./index-BFKzhXMe.js";const Z=()=>{const[c,v]=i.useState("bottom"),[p,S]=i.useState(!1),[g,C]=i.useState(!0),[j,R]=i.useState(!1),[y,o]=H(),E=i.useMemo(()=>z({extraColumnProps:{disableResize:!0},fixed:!0,onSelect(r,l,a,s){console.log({record:r,selected:l,selectedRows:a,nativeEvent:s})},onChange(r,l,a){console.log({selectedRowKeys:r,selectedRows:l,info:a})}}),[]),I=i.useMemo(()=>M({extraColumnProps:{disableResize:!0},fixed:"left",defaultExpandAllRows:!0,rowExpandable:()=>!0,expandedRowRender(r){return r.name}}),[]),k=i.useMemo(()=>B({summary:()=>e.jsx(u,{fixed:c,children:e.jsx(u.Row,{children:(r,l)=>r.key==="name"?e.jsx(u.Cell,{columnKey:l,children:l.toString()}):e.jsx(u.Cell,{columnKey:l})})})}),[c]),D=_({use:[E,I,K({storageKey:"full-demo"}),{priority:200,hook:L({loading:p})},{priority:200,hook:A({children:e.jsx(w,{image:w.PRESENTED_IMAGE_SIMPLE})})},{priority:200,hook:k},{priority:200,hook:N()}]}),f=y.length===1,T=i.useMemo(()=>[{title:"",key:"prefix-action",width:80,fixed:"left",render(r,l,a){return e.jsxs(G,{children:[e.jsx(b,{icon:e.jsx(O,{}),size:"small",shape:"circle",color:"primary",variant:"outlined",onClick:()=>{o(s=>{const n=s.slice();return n.splice(a+1,0,{key:`key:${Date.now()}`}),n})}}),e.jsx(b,{icon:e.jsx(V,{}),size:"small",shape:"circle",danger:!0,disabled:f,onClick:()=>{o(s=>{const n=s.slice();return n.splice(a,1),n})}})]})}},{title:"Name",dataIndex:"name",key:"name",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],name:s.currentTarget.value},t})}})},{title:"Data1",dataIndex:"data1",width:200,render:(r,l,a)=>e.jsx(h,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data1:s},t})}})},{title:"Data2",dataIndex:"data2",width:200,render:(r,l,a)=>e.jsx(h,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data2:s},t})}})},{title:"Data3",dataIndex:"data3",width:200,render:(r,l,a)=>e.jsx(h,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data3:s},t})}})},{title:"Data4",dataIndex:"data4",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data4:s.currentTarget.value},t})}})},{title:"Data5",dataIndex:"data5",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data5:s.currentTarget.value},t})}})},{title:"Data6",dataIndex:"data6",width:200,fixed:"right",render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data6:s.currentTarget.value},t})}})},{title:"Data7",dataIndex:"data7",width:200,fixed:"right",render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data7:s.currentTarget.value},t})}})}],[f,o]);return e.jsxs("div",{style:{padding:16},children:[e.jsxs("div",{style:{marginBottom:30,display:"grid",gridTemplateColumns:"repeat(5, minmax(0, 1fr))",border:"1px solid #f00",height:500,maxHeight:100},children:[e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"总结栏位置"}),e.jsxs(m.Group,{value:c,onChange:r=>v(r.target.value),children:[e.jsx(m,{value:"top",children:"Top"}),e.jsx(m,{value:"bottom",children:"Bottom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Loading"}),e.jsx(x,{value:p,onChange:S})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Sticky"}),e.jsx(x,{value:g,onChange:C})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Empty"}),e.jsx(x,{value:j,onChange:R})]})]}),e.jsx("div",{children:e.jsx(P,{pipeline:D,className:"virtual-table-small",rowKey:"key",dataSource:j?[]:y,columns:T,estimatedRowHeight:49,stickyHeader:g})})]})};export{Z as default};
