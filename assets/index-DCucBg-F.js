import{K as Ge,L as ee,M as Fe,r as _,j as C}from"./index-BQeishnX.js";import{b as te,g as me,d as Je,e as Le,f as Ie,c as Y,i as be,j as Qe,k as ge,l as Se,m as Xe,n as ae,o as oe,p as Ze,q as et,r as tt,s as rt,C as nt}from"./index-CSsiBzFi.js";import{u as at}from"./table-selection-Ot0rERmr.js";var U={exports:{}},$={},V={exports:{}},fe={},de={exports:{}},pe,we;function ot(){if(we)return pe;we=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pe=r,pe}var he,xe;function st(){if(xe)return he;xe=1;var r=ot();function c(){}function f(){}return f.resetWarningCache=c,he=function(){function u(h,S,m,v,g,p){if(p!==r){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}u.isRequired=u;function y(){return u}var d={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:y,element:u,elementType:u,instanceOf:y,node:u,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:f,resetWarningCache:c};return d.PropTypes=d,d},he}var Oe;function le(){return Oe||(Oe=1,de.exports=st()()),de.exports}function Ye(r){var c,f,u="";if(typeof r=="string"||typeof r=="number")u+=r;else if(typeof r=="object")if(Array.isArray(r))for(c=0;c<r.length;c++)r[c]&&(f=Ye(r[c]))&&(u&&(u+=" "),u+=f);else for(c in r)r[c]&&(u&&(u+=" "),u+=c);return u}function Pe(){for(var r,c,f=0,u="";f<arguments.length;)(r=arguments[f++])&&(c=Ye(r))&&(u&&(u+=" "),u+=c);return u}const it=Object.freeze(Object.defineProperty({__proto__:null,clsx:Pe,default:Pe},Symbol.toStringTag,{value:"Module"})),lt=Ge(it);var j={},I={},Re;function ue(){if(Re)return I;Re=1,Object.defineProperty(I,"__esModule",{value:!0}),I.dontSetMe=y,I.findInArray=r,I.int=u,I.isFunction=c,I.isNum=f;function r(d,h){for(let S=0,m=d.length;S<m;S++)if(h.apply(h,[d[S],S,d]))return d[S]}function c(d){return typeof d=="function"||Object.prototype.toString.call(d)==="[object Function]"}function f(d){return typeof d=="number"&&!isNaN(d)}function u(d){return parseInt(d,10)}function y(d,h,S){if(d[h])return new Error("Invalid prop ".concat(h," passed to ").concat(S," - do not set this, set it on the child."))}return I}var X={},De;function ut(){if(De)return X;De=1,Object.defineProperty(X,"__esModule",{value:!0}),X.browserPrefixToKey=f,X.browserPrefixToStyle=u,X.default=void 0,X.getPrefix=c;const r=["Moz","Webkit","O","ms"];function c(){var d;let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const S=(d=window.document)===null||d===void 0||(d=d.documentElement)===null||d===void 0?void 0:d.style;if(!S||h in S)return"";for(let m=0;m<r.length;m++)if(f(h,r[m])in S)return r[m];return""}function f(d,h){return h?"".concat(h).concat(y(d)):d}function u(d,h){return h?"-".concat(h.toLowerCase(),"-").concat(d):d}function y(d){let h="",S=!0;for(let m=0;m<d.length;m++)S?(h+=d[m].toUpperCase(),S=!1):d[m]==="-"?S=!0:h+=d[m];return h}return X.default=c(),X}var Ce;function ye(){if(Ce)return j;Ce=1,Object.defineProperty(j,"__esModule",{value:!0}),j.addClassName=a,j.addEvent=S,j.addUserSelectStyles=n,j.createCSSTransform=x,j.createSVGTransform=R,j.getTouch=o,j.getTouchIdentifier=t,j.getTranslation=b,j.innerHeight=p,j.innerWidth=P,j.matchesSelector=d,j.matchesSelectorAndParentsTo=h,j.offsetXYFromParent=O,j.outerHeight=v,j.outerWidth=g,j.removeClassName=i,j.removeEvent=m,j.removeUserSelectStyles=s;var r=ue(),c=u(ut());function f(e){if(typeof WeakMap!="function")return null;var l=new WeakMap,w=new WeakMap;return(f=function(D){return D?w:l})(e)}function u(e,l){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var w=f(l);if(w&&w.has(e))return w.get(e);var D={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in e)if(N!=="default"&&Object.prototype.hasOwnProperty.call(e,N)){var W=E?Object.getOwnPropertyDescriptor(e,N):null;W&&(W.get||W.set)?Object.defineProperty(D,N,W):D[N]=e[N]}return D.default=e,w&&w.set(e,D),D}let y="";function d(e,l){return y||(y=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(w){return(0,r.isFunction)(e[w])})),(0,r.isFunction)(e[y])?e[y](l):!1}function h(e,l,w){let D=e;do{if(d(D,l))return!0;if(D===w)return!1;D=D.parentNode}while(D);return!1}function S(e,l,w,D){if(!e)return;const E={capture:!0,...D};e.addEventListener?e.addEventListener(l,w,E):e.attachEvent?e.attachEvent("on"+l,w):e["on"+l]=w}function m(e,l,w,D){if(!e)return;const E={capture:!0,...D};e.removeEventListener?e.removeEventListener(l,w,E):e.detachEvent?e.detachEvent("on"+l,w):e["on"+l]=null}function v(e){let l=e.clientHeight;const w=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(w.borderTopWidth),l+=(0,r.int)(w.borderBottomWidth),l}function g(e){let l=e.clientWidth;const w=e.ownerDocument.defaultView.getComputedStyle(e);return l+=(0,r.int)(w.borderLeftWidth),l+=(0,r.int)(w.borderRightWidth),l}function p(e){let l=e.clientHeight;const w=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(w.paddingTop),l-=(0,r.int)(w.paddingBottom),l}function P(e){let l=e.clientWidth;const w=e.ownerDocument.defaultView.getComputedStyle(e);return l-=(0,r.int)(w.paddingLeft),l-=(0,r.int)(w.paddingRight),l}function O(e,l,w){const E=l===l.ownerDocument.body?{left:0,top:0}:l.getBoundingClientRect(),N=(e.clientX+l.scrollLeft-E.left)/w,W=(e.clientY+l.scrollTop-E.top)/w;return{x:N,y:W}}function x(e,l){const w=b(e,l,"px");return{[(0,c.browserPrefixToKey)("transform",c.default)]:w}}function R(e,l){return b(e,l,"")}function b(e,l,w){let{x:D,y:E}=e,N="translate(".concat(D).concat(w,",").concat(E).concat(w,")");if(l){const W="".concat(typeof l.x=="string"?l.x:l.x+w),q="".concat(typeof l.y=="string"?l.y:l.y+w);N="translate(".concat(W,", ").concat(q,")")+N}return N}function o(e,l){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,w=>l===w.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,w=>l===w.identifier)}function t(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function n(e){if(!e)return;let l=e.getElementById("react-draggable-style-el");l||(l=e.createElement("style"),l.type="text/css",l.id="react-draggable-style-el",l.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,l.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(l)),e.body&&a(e.body,"react-draggable-transparent-selection")}function s(e){if(e)try{if(e.body&&i(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const l=(e.defaultView||window).getSelection();l&&l.type!=="Caret"&&l.removeAllRanges()}}catch{}}function a(e,l){e.classList?e.classList.add(l):e.className.match(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)")))||(e.className+=" ".concat(l))}function i(e,l){e.classList?e.classList.remove(l):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(l,"(?!\\S)"),"g"),"")}return j}var L={},_e;function Ke(){if(_e)return L;_e=1,Object.defineProperty(L,"__esModule",{value:!0}),L.canDragX=y,L.canDragY=d,L.createCoreData=S,L.createDraggableData=m,L.getBoundPosition=f,L.getControlPosition=h,L.snapToGrid=u;var r=ue(),c=ye();function f(p,P,O){if(!p.props.bounds)return[P,O];let{bounds:x}=p.props;x=typeof x=="string"?x:v(x);const R=g(p);if(typeof x=="string"){const{ownerDocument:b}=R,o=b.defaultView;let t;if(x==="parent"?t=R.parentNode:t=b.querySelector(x),!(t instanceof o.HTMLElement))throw new Error('Bounds selector "'+x+'" could not find an element.');const n=t,s=o.getComputedStyle(R),a=o.getComputedStyle(n);x={left:-R.offsetLeft+(0,r.int)(a.paddingLeft)+(0,r.int)(s.marginLeft),top:-R.offsetTop+(0,r.int)(a.paddingTop)+(0,r.int)(s.marginTop),right:(0,c.innerWidth)(n)-(0,c.outerWidth)(R)-R.offsetLeft+(0,r.int)(a.paddingRight)-(0,r.int)(s.marginRight),bottom:(0,c.innerHeight)(n)-(0,c.outerHeight)(R)-R.offsetTop+(0,r.int)(a.paddingBottom)-(0,r.int)(s.marginBottom)}}return(0,r.isNum)(x.right)&&(P=Math.min(P,x.right)),(0,r.isNum)(x.bottom)&&(O=Math.min(O,x.bottom)),(0,r.isNum)(x.left)&&(P=Math.max(P,x.left)),(0,r.isNum)(x.top)&&(O=Math.max(O,x.top)),[P,O]}function u(p,P,O){const x=Math.round(P/p[0])*p[0],R=Math.round(O/p[1])*p[1];return[x,R]}function y(p){return p.props.axis==="both"||p.props.axis==="x"}function d(p){return p.props.axis==="both"||p.props.axis==="y"}function h(p,P,O){const x=typeof P=="number"?(0,c.getTouch)(p,P):null;if(typeof P=="number"&&!x)return null;const R=g(O),b=O.props.offsetParent||R.offsetParent||R.ownerDocument.body;return(0,c.offsetXYFromParent)(x||p,b,O.props.scale)}function S(p,P,O){const x=!(0,r.isNum)(p.lastX),R=g(p);return x?{node:R,deltaX:0,deltaY:0,lastX:P,lastY:O,x:P,y:O}:{node:R,deltaX:P-p.lastX,deltaY:O-p.lastY,lastX:p.lastX,lastY:p.lastY,x:P,y:O}}function m(p,P){const O=p.props.scale;return{node:P.node,x:p.state.x+P.deltaX/O,y:p.state.y+P.deltaY/O,deltaX:P.deltaX/O,deltaY:P.deltaY/O,lastX:p.state.x,lastY:p.state.y}}function v(p){return{left:p.left,top:p.top,right:p.right,bottom:p.bottom}}function g(p){const P=p.findDOMNode();if(!P)throw new Error("<DraggableCore>: Unmounted during event!");return P}return L}var G={},re={},Ee;function Be(){if(Ee)return re;Ee=1,Object.defineProperty(re,"__esModule",{value:!0}),re.default=r;function r(){}return re}var Ne;function ct(){if(Ne)return G;Ne=1,Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var r=v(ee()),c=S(le()),f=S(Fe()),u=ye(),y=Ke(),d=ue(),h=S(Be());function S(b){return b&&b.__esModule?b:{default:b}}function m(b){if(typeof WeakMap!="function")return null;var o=new WeakMap,t=new WeakMap;return(m=function(n){return n?t:o})(b)}function v(b,o){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var t=m(o);if(t&&t.has(b))return t.get(b);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in b)if(a!=="default"&&Object.prototype.hasOwnProperty.call(b,a)){var i=s?Object.getOwnPropertyDescriptor(b,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=b[a]}return n.default=b,t&&t.set(b,n),n}function g(b,o,t){return o=p(o),o in b?Object.defineProperty(b,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):b[o]=t,b}function p(b){var o=P(b,"string");return typeof o=="symbol"?o:String(o)}function P(b,o){if(typeof b!="object"||b===null)return b;var t=b[Symbol.toPrimitive];if(t!==void 0){var n=t.call(b,o);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(b)}const O={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let x=O.mouse,R=class extends r.Component{constructor(){super(...arguments),g(this,"dragging",!1),g(this,"lastX",NaN),g(this,"lastY",NaN),g(this,"touchIdentifier",null),g(this,"mounted",!1),g(this,"handleDragStart",o=>{if(this.props.onMouseDown(o),!this.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(o.target instanceof n.defaultView.Node)||this.props.handle&&!(0,u.matchesSelectorAndParentsTo)(o.target,this.props.handle,t)||this.props.cancel&&(0,u.matchesSelectorAndParentsTo)(o.target,this.props.cancel,t))return;o.type==="touchstart"&&o.preventDefault();const s=(0,u.getTouchIdentifier)(o);this.touchIdentifier=s;const a=(0,y.getControlPosition)(o,s,this);if(a==null)return;const{x:i,y:e}=a,l=(0,y.createCoreData)(this,i,e);(0,h.default)("DraggableCore: handleDragStart: %j",l),(0,h.default)("calling",this.props.onStart),!(this.props.onStart(o,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(n),this.dragging=!0,this.lastX=i,this.lastY=e,(0,u.addEvent)(n,x.move,this.handleDrag),(0,u.addEvent)(n,x.stop,this.handleDragStop))}),g(this,"handleDrag",o=>{const t=(0,y.getControlPosition)(o,this.touchIdentifier,this);if(t==null)return;let{x:n,y:s}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,l=s-this.lastY;if([e,l]=(0,y.snapToGrid)(this.props.grid,e,l),!e&&!l)return;n=this.lastX+e,s=this.lastY+l}const a=(0,y.createCoreData)(this,n,s);if((0,h.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(o,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=s}),g(this,"handleDragStop",o=>{if(!this.dragging)return;const t=(0,y.getControlPosition)(o,this.touchIdentifier,this);if(t==null)return;let{x:n,y:s}=t;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,w=s-this.lastY||0;[l,w]=(0,y.snapToGrid)(this.props.grid,l,w),n=this.lastX+l,s=this.lastY+w}const a=(0,y.createCoreData)(this,n,s);if(this.props.onStop(o,a)===!1||this.mounted===!1)return!1;const e=this.findDOMNode();e&&this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(e.ownerDocument),(0,h.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,e&&((0,h.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(e.ownerDocument,x.move,this.handleDrag),(0,u.removeEvent)(e.ownerDocument,x.stop,this.handleDragStop))}),g(this,"onMouseDown",o=>(x=O.mouse,this.handleDragStart(o))),g(this,"onMouseUp",o=>(x=O.mouse,this.handleDragStop(o))),g(this,"onTouchStart",o=>(x=O.touch,this.handleDragStart(o))),g(this,"onTouchEnd",o=>(x=O.touch,this.handleDragStop(o)))}componentDidMount(){this.mounted=!0;const o=this.findDOMNode();o&&(0,u.addEvent)(o,O.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const o=this.findDOMNode();if(o){const{ownerDocument:t}=o;(0,u.removeEvent)(t,O.mouse.move,this.handleDrag),(0,u.removeEvent)(t,O.touch.move,this.handleDrag),(0,u.removeEvent)(t,O.mouse.stop,this.handleDragStop),(0,u.removeEvent)(t,O.touch.stop,this.handleDragStop),(0,u.removeEvent)(o,O.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(t)}}findDOMNode(){var o,t;return(o=this.props)!==null&&o!==void 0&&o.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:f.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return G.default=R,g(R,"displayName","DraggableCore"),g(R,"propTypes",{allowAnyClick:c.default.bool,children:c.default.node.isRequired,disabled:c.default.bool,enableUserSelectHack:c.default.bool,offsetParent:function(b,o){if(b[o]&&b[o].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:c.default.arrayOf(c.default.number),handle:c.default.string,cancel:c.default.string,nodeRef:c.default.object,onStart:c.default.func,onDrag:c.default.func,onStop:c.default.func,onMouseDown:c.default.func,scale:c.default.number,className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),g(R,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),G}var ze;function ft(){return ze||(ze=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),r.default=void 0;var c=P(ee()),f=g(le()),u=g(Fe()),y=g(lt),d=ye(),h=Ke(),S=ue(),m=g(ct()),v=g(Be());function g(t){return t&&t.__esModule?t:{default:t}}function p(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,s=new WeakMap;return(p=function(a){return a?s:n})(t)}function P(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var s=p(n);if(s&&s.has(t))return s.get(t);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=i?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,s&&s.set(t,a),a}function O(){return O=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},O.apply(this,arguments)}function x(t,n,s){return n=R(n),n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function R(t){var n=b(t,"string");return typeof n=="symbol"?n:String(n)}function b(t,n){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}class o extends c.Component{static getDerivedStateFromProps(n,s){let{position:a}=n,{prevPropsPosition:i}=s;return a&&(!i||a.x!==i.x||a.y!==i.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:i}),{x:a.x,y:a.y,prevPropsPosition:{...a}}):null}constructor(n){super(n),x(this,"onDragStart",(s,a)=>{if((0,v.default)("Draggable: onDragStart: %j",a),this.props.onStart(s,(0,h.createDraggableData)(this,a))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(s,a)=>{if(!this.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",a);const i=(0,h.createDraggableData)(this,a),e={x:i.x,y:i.y,slackX:0,slackY:0};if(this.props.bounds){const{x:w,y:D}=e;e.x+=this.state.slackX,e.y+=this.state.slackY;const[E,N]=(0,h.getBoundPosition)(this,e.x,e.y);e.x=E,e.y=N,e.slackX=this.state.slackX+(w-e.x),e.slackY=this.state.slackY+(D-e.y),i.x=e.x,i.y=e.y,i.deltaX=e.x-this.state.x,i.deltaY=e.y-this.state.y}if(this.props.onDrag(s,i)===!1)return!1;this.setState(e)}),x(this,"onDragStop",(s,a)=>{if(!this.state.dragging||this.props.onStop(s,(0,h.createDraggableData)(this,a))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",a);const e={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:w,y:D}=this.props.position;e.x=w,e.y=D}this.setState(e)}),this.state={dragging:!1,dragged:!1,x:n.position?n.position.x:n.defaultPosition.x,y:n.position?n.position.y:n.defaultPosition.y,prevPropsPosition:{...n.position},slackX:0,slackY:0,isElementSVG:!1},n.position&&!(n.onDrag||n.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var n,s;return(n=(s=this.props)===null||s===void 0||(s=s.nodeRef)===null||s===void 0?void 0:s.current)!==null&&n!==void 0?n:u.default.findDOMNode(this)}render(){const{axis:n,bounds:s,children:a,defaultPosition:i,defaultClassName:e,defaultClassNameDragging:l,defaultClassNameDragged:w,position:D,positionOffset:E,scale:N,...W}=this.props;let q={},T=null;const z=!!!D||this.state.dragging,H=D||i,F={x:(0,h.canDragX)(this)&&z?this.state.x:H.x,y:(0,h.canDragY)(this)&&z?this.state.y:H.y};this.state.isElementSVG?T=(0,d.createSVGTransform)(F,E):q=(0,d.createCSSTransform)(F,E);const k=(0,y.default)(a.props.className||"",e,{[l]:this.state.dragging,[w]:this.state.dragged});return c.createElement(m.default,O({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),c.cloneElement(c.Children.only(a),{className:k,style:{...a.props.style,...q},transform:T}))}}r.default=o,x(o,"displayName","Draggable"),x(o,"propTypes",{...m.default.propTypes,axis:f.default.oneOf(["both","x","y","none"]),bounds:f.default.oneOfType([f.default.shape({left:f.default.number,right:f.default.number,top:f.default.number,bottom:f.default.number}),f.default.string,f.default.oneOf([!1])]),defaultClassName:f.default.string,defaultClassNameDragging:f.default.string,defaultClassNameDragged:f.default.string,defaultPosition:f.default.shape({x:f.default.number,y:f.default.number}),positionOffset:f.default.shape({x:f.default.oneOfType([f.default.number,f.default.string]),y:f.default.oneOfType([f.default.number,f.default.string])}),position:f.default.shape({x:f.default.number,y:f.default.number}),className:S.dontSetMe,style:S.dontSetMe,transform:S.dontSetMe}),x(o,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(fe)),fe}var Te;function Ae(){if(Te)return V.exports;Te=1;const{default:r,DraggableCore:c}=ft();return V.exports=r,V.exports.default=r,V.exports.DraggableCore=c,V.exports}var ne={},Me;function dt(){if(Me)return ne;Me=1,ne.__esModule=!0,ne.cloneElement=S;var r=c(ee());function c(m){return m&&m.__esModule?m:{default:m}}function f(m,v){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);v&&(p=p.filter(function(P){return Object.getOwnPropertyDescriptor(m,P).enumerable})),g.push.apply(g,p)}return g}function u(m){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?f(Object(g),!0).forEach(function(p){y(m,p,g[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):f(Object(g)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(g,p))})}return m}function y(m,v,g){return v=d(v),v in m?Object.defineProperty(m,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[v]=g,m}function d(m){var v=h(m,"string");return typeof v=="symbol"?v:String(v)}function h(m,v){if(typeof m!="object"||m===null)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var p=g.call(m,v);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(m)}function S(m,v){return v.style&&m.props.style&&(v.style=u(u({},m.props.style),v.style)),v.className&&m.props.className&&(v.className=m.props.className+" "+v.className),r.default.cloneElement(m,v)}return ne}var J={},We;function Ue(){if(We)return J;We=1,J.__esModule=!0,J.resizableProps=void 0;var r=c(le());Ae();function c(u){return u&&u.__esModule?u:{default:u}}var f={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var y=arguments.length,d=new Array(y),h=0;h<y;h++)d[h]=arguments[h];var S=d[0];if(S.axis==="both"||S.axis==="y"){var m;return(m=r.default.number).isRequired.apply(m,d)}return r.default.number.apply(r.default,d)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var y=arguments.length,d=new Array(y),h=0;h<y;h++)d[h]=arguments[h];var S=d[0];if(S.axis==="both"||S.axis==="x"){var m;return(m=r.default.number).isRequired.apply(m,d)}return r.default.number.apply(r.default,d)}};return J.resizableProps=f,J}var je;function $e(){if(je)return $;je=1,$.__esModule=!0,$.default=void 0;var r=h(ee()),c=Ae(),f=dt(),u=Ue(),y=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function d(o){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(d=function(a){return a?n:t})(o)}function h(o,t){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var n=d(t);if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in o)if(i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)){var e=a?Object.getOwnPropertyDescriptor(o,i):null;e&&(e.get||e.set)?Object.defineProperty(s,i,e):s[i]=o[i]}return s.default=o,n&&n.set(o,s),s}function S(){return S=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},S.apply(this,arguments)}function m(o,t){if(o==null)return{};var n={},s=Object.keys(o),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=o[a]);return n}function v(o,t){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),n.push.apply(n,s)}return n}function g(o){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(s){p(o,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(n,s))})}return o}function p(o,t,n){return t=P(t),t in o?Object.defineProperty(o,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[t]=n,o}function P(o){var t=O(o,"string");return typeof t=="symbol"?t:String(t)}function O(o,t){if(typeof o!="object"||o===null)return o;var n=o[Symbol.toPrimitive];if(n!==void 0){var s=n.call(o,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}function x(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,R(o,t)}function R(o,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},R(o,t)}var b=function(o){x(t,o);function t(){for(var s,a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];return s=o.call.apply(o,[this].concat(i))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(a,i){var e=this.props,l=e.minConstraints,w=e.maxConstraints,D=e.lockAspectRatio;if(!l&&!w&&!D)return[a,i];if(D){var E=this.props.width/this.props.height,N=a-this.props.width,W=i-this.props.height;Math.abs(N)>Math.abs(W*E)?i=a/E:a=i*E}var q=a,T=i,M=this.slack||[0,0],z=M[0],H=M[1];return a+=z,i+=H,l&&(a=Math.max(l[0],a),i=Math.max(l[1],i)),w&&(a=Math.min(w[0],a),i=Math.min(w[1],i)),this.slack=[z+(q-a),H+(T-i)],[a,i]},n.resizeHandler=function(a,i){var e=this;return function(l,w){var D=w.node,E=w.deltaX,N=w.deltaY;a==="onResizeStart"&&e.resetData();var W=(e.props.axis==="both"||e.props.axis==="x")&&i!=="n"&&i!=="s",q=(e.props.axis==="both"||e.props.axis==="y")&&i!=="e"&&i!=="w";if(!(!W&&!q)){var T=i[0],M=i[i.length-1],z=D.getBoundingClientRect();if(e.lastHandleRect!=null){if(M==="w"){var H=z.left-e.lastHandleRect.left;E+=H}if(T==="n"){var F=z.top-e.lastHandleRect.top;N+=F}}e.lastHandleRect=z,M==="w"&&(E=-E),T==="n"&&(N=-N);var k=e.props.width+(W?E/e.props.transformScale:0),K=e.props.height+(q?N/e.props.transformScale:0),B=e.runConstraints(k,K);k=B[0],K=B[1];var ce=k!==e.props.width||K!==e.props.height,A=typeof e.props[a]=="function"?e.props[a]:null,Ve=a==="onResize"&&!ce;A&&!Ve&&(l.persist==null||l.persist(),A(l,{node:D,size:{width:k,height:K},handle:i})),a==="onResizeStop"&&e.resetData()}}},n.renderResizeHandle=function(a,i){var e=this.props.handle;if(!e)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:i});if(typeof e=="function")return e(a,i);var l=typeof e.type=="string",w=g({ref:i},l?{}:{handleAxis:a});return r.cloneElement(e,w)},n.render=function(){var a=this,i=this.props,e=i.children,l=i.className,w=i.draggableOpts;i.width,i.height,i.handle,i.handleSize,i.lockAspectRatio,i.axis,i.minConstraints,i.maxConstraints,i.onResize,i.onResizeStop,i.onResizeStart;var D=i.resizeHandles;i.transformScale;var E=m(i,y);return(0,f.cloneElement)(e,g(g({},E),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(e.props.children,D.map(function(N){var W,q=(W=a.handleRefs[N])!=null?W:a.handleRefs[N]=r.createRef();return r.createElement(c.DraggableCore,S({},w,{nodeRef:q,key:"resizableHandle-"+N,onStop:a.resizeHandler("onResizeStop",N),onStart:a.resizeHandler("onResizeStart",N),onDrag:a.resizeHandler("onResize",N)}),a.renderResizeHandle(N,q))}))}))},t}(r.Component);return $.default=b,b.propTypes=u.resizableProps,b.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},$}var Q={},He;function pt(){if(He)return Q;He=1,Q.__esModule=!0,Q.default=void 0;var r=S(ee()),c=d(le()),f=d($e()),u=Ue(),y=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function d(t){return t&&t.__esModule?t:{default:t}}function h(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,s=new WeakMap;return(h=function(i){return i?s:n})(t)}function S(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var s=h(n);if(s&&s.has(t))return s.get(t);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in t)if(e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)){var l=i?Object.getOwnPropertyDescriptor(t,e):null;l&&(l.get||l.set)?Object.defineProperty(a,e,l):a[e]=t[e]}return a.default=t,s&&s.set(t,a),a}function m(){return m=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},m.apply(this,arguments)}function v(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function g(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?v(Object(s),!0).forEach(function(a){p(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function p(t,n,s){return n=P(n),n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function P(t){var n=O(t,"string");return typeof n=="symbol"?n:String(n)}function O(t,n){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function x(t,n){if(t==null)return{};var s={},a=Object.keys(t),i,e;for(e=0;e<a.length;e++)i=a[e],!(n.indexOf(i)>=0)&&(s[i]=t[i]);return s}function R(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n)}function b(t,n){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},b(t,n)}var o=function(t){R(n,t);function n(){for(var a,i=arguments.length,e=new Array(i),l=0;l<i;l++)e[l]=arguments[l];return a=t.call.apply(t,[this].concat(e))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(w,D){var E=D.size;a.props.onResize?(w.persist==null||w.persist(),a.setState(E,function(){return a.props.onResize&&a.props.onResize(w,D)})):a.setState(E)},a}n.getDerivedStateFromProps=function(i,e){return e.propsWidth!==i.width||e.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var s=n.prototype;return s.render=function(){var i=this.props,e=i.handle,l=i.handleSize;i.onResize;var w=i.onResizeStart,D=i.onResizeStop,E=i.draggableOpts,N=i.minConstraints,W=i.maxConstraints,q=i.lockAspectRatio,T=i.axis;i.width,i.height;var M=i.resizeHandles,z=i.style,H=i.transformScale,F=x(i,y);return r.createElement(f.default,{axis:T,draggableOpts:E,handle:e,handleSize:l,height:this.state.height,lockAspectRatio:q,maxConstraints:W,minConstraints:N,onResizeStart:w,onResize:this.onResize,onResizeStop:D,resizeHandles:M,transformScale:H,width:this.state.width},r.createElement("div",m({},F,{style:g(g({},z),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},n}(r.Component);return Q.default=o,o.propTypes=g(g({},u.resizableProps),{},{children:c.default.element}),Q}var qe;function ht(){return qe||(qe=1,U.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},U.exports.Resizable=$e().default,U.exports.ResizableBox=pt().default),U.exports}var mt=ht();function gt(r){return typeof r=="object"&&r!=null}function yt(r,c){return typeof r=="function"?r(c):r}function ke(r,c){if(r==null)return;const f=yt(r,c);if(f!=null)return[f,0]}const se={key(r){return`${r}_resize`},get(r){try{const c=window.localStorage.getItem(se.key(r))??"{}",f=JSON.parse(c);return gt(f)?(Object.entries(f).forEach(([u,y])=>{Number.isFinite(y)||delete f[u]}),f):{}}catch{return{}}},set(r,c){window.localStorage.setItem(se.key(r),JSON.stringify(c))}};function vt(r,c){const{storageKey:f,min:u,max:y}=c??{},{columns:d,instance:h}=r,[S,m]=_.useState(()=>f==null?{}:se.get(f)),v=_.useCallback((P,O)=>{m(x=>{const R={...x,[`${P}`]:O};return f!=null&&se.set(f,R),R})},[f]),g=_.useCallback((P,O)=>{const{column:x}=O;if(x.disableResize)return P;const R=me(x),b=Je(x,h.getCurrentProps().defaultColumnWidth);return C.jsx(mt.Resizable,{width:b,axis:"x",minConstraints:ke(x.minWidth??u,x),maxConstraints:ke(x.maxWidth??y,x),handle:C.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(o,{size:t})=>{v(R,t.width)},children:P})},[v,h,y,u]),p=_.useMemo(()=>d.map(P=>{const O=me(P).toString(),x=S[O];return x!=null&&x!==P.width?{...P,width:x}:P}),[S,d]);return{...r,columns:p,renderHeaderCell:g}}const Ft=te(vt),bt=r=>{const{colSpan:c,children:f}=r,{tableWidth:u}=Le();return C.jsx("tr",{children:C.jsx("td",{colSpan:c,style:{padding:0},children:C.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:u<=0?void 0:u},children:f})})})};function St(r,c){const{children:f,visible:u=!0}=c,{dataSource:y}=r,h=(Array.isArray(y)?y.length===0:!0)&&u,S=_.useMemo(()=>typeof f=="function"?_.createElement(f):f,[f]),m=_.useCallback((v,g)=>{const{columnDescriptor:p}=g;return C.jsxs(C.Fragment,{children:[v,C.jsx(bt,{colSpan:p.length,children:S},"virtual-table-placeholder$")]})},[S]);return h?{...r,renderBodyContent:m}:r}const Lt=te(St),wt="ExpandRow",xt=r=>{const{className:c,style:f,rowKey:u,isExpanded:y,colSpan:d,children:h,fixed:S}=r,{setRowHeightByRowKey:m}=Ie(),{tableWidth:v}=Le();return C.jsx("tr",{className:Y("virtual-table-expanded-row",c),style:{...f,display:y?void 0:"none"},ref:g=>{g!=null&&m(u,wt,g.offsetHeight)},children:C.jsx("td",{colSpan:d,children:C.jsx("div",{className:Y("virtual-table-cell",S&&"virtual-table-expanded-row-fixed"),style:{width:v<=0?void 0:v},children:h})})})},Ot="VirtualTable.EXPANSION_COLUMN";function Pt(r,c){const f=c==null,{rowKey:u,columns:y,dataSource:d}=r,{defaultExpandedRowKeys:h,expandedRowRender:S,columnTitle:m,expandRowByClick:v=!1,expandIcon:g,onExpand:p,defaultExpandAllRows:P=!1,showExpandColumn:O=!0,expandedRowClassName:x,rowExpandable:R,columnWidth:b=50,fixed:o,extraColumnProps:t}=c??{},n=_.useMemo(()=>d.map(T=>R?R(T):!1),[d,R]),s=be(()=>n),a=_.useRef("expandedRowKeys"in(c??{})||"defaultExpandedRowKeys"in(c??{})?!1:P),i=be(()=>a.current?d.map((M,z)=>s[z]?M[u]:null).filter(M=>M!=null):[]),e=_.useRef(new Set(h??i)),[l,w]=at(c??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:h??i}),D=Qe((T,M)=>{const z=Se(T,u);e.current.add(z),M==null?l.includes(z)?(w(l.filter(H=>H!==z)),p==null||p(!1,T)):(w([...l,z]),p==null||p(!0,T)):M?(w([...l,z]),p==null||p(!0,T)):(w(l.filter(H=>H!==z)),p==null||p(!1,T))}),E=ge(o),N=_.useCallback((T,M)=>{const{rowData:z,rowIndex:H,rowKey:F,columnDescriptor:k}=M;if(s[H]){const B=l.includes(F),ce=e.current.has(F);let A="";return typeof x=="string"?A=x:typeof x=="function"&&(A=x(z,H,0)),C.jsxs(C.Fragment,{children:[T,ce&&C.jsx(xt,{className:A,rowKey:F,isExpanded:B,colSpan:k.length,fixed:E,children:S==null?void 0:S(z,H,0,B)})]})}return T},[E,s,l,x,S]),W=_.useMemo(()=>O?[{...t,key:Ot,title:m,width:b,fixed:o,render(T,M,z){const H=Se(M,u),F=s[z]??!1,k=l.includes(H);return typeof g=="function"?g({expandable:F,expanded:k,record:M,prefixCls:"virtual-table",onExpand:(K,B)=>{D(K)}}):F?C.jsx("button",{className:Y("virtual-table-row-expand-icon",k?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":k?"关闭行":"展开行","aria-expanded":k,onClick:()=>{D(M,!k)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...y]:y,[O,m,b,o,y,u,s,l,g,D,t]),q=_.useCallback((T,M)=>s[M]?{onClick:z=>{z.stopPropagation(),D(T)}}:{},[s,D]);return f?r:{...r,columns:W,renderRow:N,onRow:v?q:void 0}}const It=te(Pt);function Rt(r){const{column:c,className:f}=r,{align:u,fixed:y}=c,d=me(c),{size:h}=Xe();return C.jsx("td",{className:Y("virtual-table-cell",f,u!=null&&`virtual-table-align-${u}`,ge(y)&&"virtual-table-sticky-cell"),style:{left:oe(y)?h.get(d):void 0,right:ae(y)?h.get(d):void 0},children:C.jsx("div",{className:"virtual-table-loading-skeleton"})})}const Dt=_.memo(Rt);function Ct(r){const{descriptor:c,style:f,rowKey:u}=r,{setRowHeightByRowKey:y}=Ie(),d=Ze(c,S=>S.type==="blank"?!1:oe(S.column.fixed)),h=c.findIndex(S=>S.type==="blank"?!1:ae(S.column.fixed));return C.jsx("tr",{className:"virtual-table-row virtual-table-loading-cell",style:f,ref:S=>{S!=null&&y(u,"loading-tr",S.offsetHeight)},children:c.map((S,m)=>{const{key:v}=S;if(S.type==="blank")return C.jsx("td",{},v);const{column:g}=S;return C.jsx(Dt,{className:Y(d===m&&"virtual-table-cell-fix-left-last",h===m&&"virtual-table-cell-fix-right-first"),column:g},v)})})}const _t=_.memo(Ct);function Et(r,c){const{loading:f=!1}=c??{},{estimatedRowHeight:u,headerWrapperRef:y,getScroller:d}=r,[h,S]=_.useState(10);_.useEffect(()=>{const v=y.current,g=d();if(g!=null)return et(g,({height:p})=>{const P=(v==null?void 0:v.offsetHeight)??0;S(Math.ceil((p-P)/u))})},[d,y,u]);const m=_.useMemo(()=>Array.from({length:h},(v,g)=>({key:g})),[h]);return f?{...r,renderBodyRoot:v=>{if(_.isValidElement(v)&&Object.prototype.hasOwnProperty.call(v.props,"style")){const g=v.props.style;return _.cloneElement(v,{style:{...g,paddingBottom:void 0,paddingTop:void 0}})}return v},renderBodyContent:(v,{columnDescriptor:g,startRowIndex:p})=>m.map((P,O)=>C.jsx(_t,{style:{height:u},descriptor:g,rowKey:`__loading$-${O+p}`},P.key))}:r}const Xt=te(Et),ie=_.createContext(null),Nt=r=>{const{className:c,style:f,zIndex:u,bottom:y,columns:d,fixed:h,children:S,defaultColumnWidth:m}=r,{listen:v,notify:g}=tt(),[p]=_.useState(()=>rt().height),P=_.useRef(null);return _.useEffect(()=>{const O=P.current;if(O==null)return;const x="virtual-table-summary",R=()=>{g(x,{scrollLeft:()=>O.scrollLeft,node:O})},b=v(x,o=>{O.scrollLeft=o});return O.addEventListener("scroll",R),()=>{O.removeEventListener("scroll",R),b()}},[v,g]),C.jsx("div",{className:Y("virtual-table-summary-wrapper",h&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border",c),style:{...h?{"--virtual-table-summary-z-index":u,"--virtual-table-summary-sticky-bottom":Number.isFinite(y)?`${y}px`:y}:{},...f,paddingBottom:p},ref:P,children:C.jsxs("table",{className:"virtual-table-summary",children:[C.jsx(nt,{columns:d,defaultColumnWidth:m}),C.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:S})]})})};function zt(r){var x;const{className:c,style:f,children:u,align:y,colSpan:d,columnKey:h,...S}=r,{size:m,fixed:v}=Xe(),g=h==null?0:m.get(h),p=(x=v.find(R=>R.key===h))==null?void 0:x.fixed,{left:P,right:O}=_.useMemo(()=>{var o;const R=v.reduce((t,n)=>oe(n.fixed)?n.key:t,void 0),b=(o=v.find(t=>ae(t.fixed)))==null?void 0:o.key;return{left:R,right:b}},[v]);return d===0?null:C.jsx("td",{...S,colSpan:d,className:Y("virtual-table-cell virtual-table-summary-cell",y!=null&&`virtual-table-align-${y}`,ge(p)&&"virtual-table-sticky-cell",P===h&&"virtual-table-cell-fix-left-last",O===h&&"virtual-table-cell-fix-right-first",c),style:{...f,left:oe(p)?g:void 0,right:ae(p)?g:void 0},children:u})}const ve=_.memo(zt);function Tt(r){const{dataSource:c,...f}=r,u=_.useContext(ie);if(u==null)throw new Error("SummaryOutlet is missing the columns context and cannot use children as a function.");return C.jsx("tr",{...f,children:u.map(y=>{const{key:d}=y;if(y.type==="blank")return C.jsx("td",{},d);const{column:h}=y,{render:S,...m}=h.summary??{};return _.createElement(ve,{...m,key:d,columnKey:d},S==null?void 0:S(c))})})}const Mt=({children:r,...c})=>{const f=_.useContext(ie);if(typeof r=="function"){if(f!=null)return C.jsx("tr",{...c,children:f.map(u=>{const{key:y}=u;if(u.type==="blank")return C.jsx("td",{},y);const{column:d}=u;let h=r(d,y);return _.isValidElement(h)&&h.type===ve&&(h=_.cloneElement(h,{columnKey:y})),C.jsx(_.Fragment,{children:h},y)})});throw new Error("SummaryRow is missing the columns context and cannot use children as a function.")}return C.jsx("tr",{...c,children:r})};function Z({children:r}){return r}Z.Row=Mt;Z.Cell=ve;Z.Outlet=Tt;function Wt(r,c){const{className:f,style:u,zIndex:y,bottom:d,summary:h}=c??{},{dataSource:S,instance:m}=r;let v=!1,g=!1;const p=h==null?void 0:h(S),P=[],O=[],x=R=>{const b=R.props.fixed;b==="top"?(v=!0,P.push(R)):((b==="bottom"||b===!0)&&(g=!0),O.push(R))};if(h==null)return r;if(_.isValidElement(p))if(p.type===_.Fragment){const R=p.props.children;_.Children.forEach(R,b=>{_.isValidElement(b)&&b.type===Z&&x(b)})}else p.type===Z&&x(p);else return r;return{...r,...v?{renderHeader:(R,{columnDescriptor:b})=>C.jsxs(C.Fragment,{children:[R,C.jsx("tfoot",{className:Y("virtual-table-summary-tfoot",f),style:u,children:C.jsx(ie.Provider,{value:b,children:P})})]})}:{},...g?{renderContent(R,{columnDescriptor:b}){const{defaultColumnWidth:o}=m.getCurrentProps();return C.jsxs(C.Fragment,{children:[R,C.jsx(Nt,{className:f,style:u,zIndex:y,bottom:d,fixed:g,columns:b,defaultColumnWidth:o,children:C.jsx(ie.Provider,{value:b,children:O})})]})}}:{}}}const Yt=te(Wt);export{Z as S,Yt as a,Xt as b,Ft as c,Lt as d,It as t};
