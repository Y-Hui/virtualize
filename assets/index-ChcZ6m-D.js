import{g as gt,r as v,a as Ke,j as y}from"./index-CVQA_PYH.js";import{a as ee,g as Re,b as Ve,d as qe,c as V,e as ke,f as yt,i as Me,j as Ge,k as ie,l as le,m as vt,o as bt,n as St,p as wt,C as xt}from"./index-HFC9M_1L.js";import{u as Ot}from"./table-selection-BvEkUWLG.js";var Te={exports:{}},te={},de={exports:{}},Je={},Qe={exports:{}},Pt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dt=Pt,Rt=Dt;function Ze(){}function et(){}et.resetWarningCache=Ze;var _t=function(){function e(n,a,o,s,i,l){if(l!==Rt){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:et,resetWarningCache:Ze};return r.PropTypes=r,r};Qe.exports=_t();var pe=Qe.exports;function tt(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=tt(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Fe(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=tt(e))&&(n&&(n+=" "),n+=t);return n}const Ct=Object.freeze(Object.defineProperty({__proto__:null,clsx:Fe,default:Fe},Symbol.toStringTag,{value:"Module"})),Et=gt(Ct);var P={},L={};Object.defineProperty(L,"__esModule",{value:!0});L.dontSetMe=jt;L.findInArray=Nt;L.int=zt;L.isFunction=Mt;L.isNum=Tt;function Nt(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function Mt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Tt(e){return typeof e=="number"&&!isNaN(e)}function zt(e){return parseInt(e,10)}function jt(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var q={};Object.defineProperty(q,"__esModule",{value:!0});q.browserPrefixToKey=nt;q.browserPrefixToStyle=Wt;q.default=void 0;q.getPrefix=rt;const we=["Moz","Webkit","O","ms"];function rt(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<we.length;n++)if(nt(t,we[n])in r)return we[n];return""}function nt(e,t){return t?"".concat(t).concat($t(e)):e}function Wt(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function $t(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}q.default=rt();Object.defineProperty(P,"__esModule",{value:!0});P.addClassName=st;P.addEvent=Ft;P.addUserSelectStyles=Gt;P.createCSSTransform=Bt;P.createSVGTransform=Kt;P.getTouch=Vt;P.getTouchIdentifier=qt;P.getTranslation=ze;P.innerHeight=Yt;P.innerWidth=At;P.matchesSelector=ot;P.matchesSelectorAndParentsTo=kt;P.offsetXYFromParent=Ut;P.outerHeight=Lt;P.outerWidth=Xt;P.removeClassName=it;P.removeEvent=It;P.removeUserSelectStyles=Jt;var H=L,Ie=Ht(q);function at(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(at=function(n){return n?r:t})(e)}function Ht(e,t){if(e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=at(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}let se="";function ot(e,t){return se||(se=(0,H.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,H.isFunction)(e[r])})),(0,H.isFunction)(e[se])?e[se](t):!1}function kt(e,t,r){let n=e;do{if(ot(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function Ft(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,a):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function It(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,a):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function Lt(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,H.int)(r.borderTopWidth),t+=(0,H.int)(r.borderBottomWidth),t}function Xt(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,H.int)(r.borderLeftWidth),t+=(0,H.int)(r.borderRightWidth),t}function Yt(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,H.int)(r.paddingTop),t-=(0,H.int)(r.paddingBottom),t}function At(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,H.int)(r.paddingLeft),t-=(0,H.int)(r.paddingRight),t}function Ut(e,t,r){const a=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-a.left)/r,s=(e.clientY+t.scrollTop-a.top)/r;return{x:o,y:s}}function Bt(e,t){const r=ze(e,t,"px");return{[(0,Ie.browserPrefixToKey)("transform",Ie.default)]:r}}function Kt(e,t){return ze(e,t,"")}function ze(e,t,r){let{x:n,y:a}=e,o="translate(".concat(n).concat(r,",").concat(a).concat(r,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+r),i="".concat(typeof t.y=="string"?t.y:t.y+r);o="translate(".concat(s,", ").concat(i,")")+o}return o}function Vt(e,t){return e.targetTouches&&(0,H.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,H.findInArray)(e.changedTouches,r=>t===r.identifier)}function qt(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Gt(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&st(e.body,"react-draggable-transparent-selection")}function Jt(e){if(e)try{if(e.body&&it(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function st(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function it(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var X={};Object.defineProperty(X,"__esModule",{value:!0});X.canDragX=er;X.canDragY=tr;X.createCoreData=nr;X.createDraggableData=ar;X.getBoundPosition=Qt;X.getControlPosition=rr;X.snapToGrid=Zt;var $=L,G=P;function Qt(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:or(n);const a=je(e);if(typeof n=="string"){const{ownerDocument:o}=a,s=o.defaultView;let i;if(n==="parent"?i=a.parentNode:i=o.querySelector(n),!(i instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const l=i,c=s.getComputedStyle(a),f=s.getComputedStyle(l);n={left:-a.offsetLeft+(0,$.int)(f.paddingLeft)+(0,$.int)(c.marginLeft),top:-a.offsetTop+(0,$.int)(f.paddingTop)+(0,$.int)(c.marginTop),right:(0,G.innerWidth)(l)-(0,G.outerWidth)(a)-a.offsetLeft+(0,$.int)(f.paddingRight)-(0,$.int)(c.marginRight),bottom:(0,G.innerHeight)(l)-(0,G.outerHeight)(a)-a.offsetTop+(0,$.int)(f.paddingBottom)-(0,$.int)(c.marginBottom)}}return(0,$.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,$.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,$.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,$.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function Zt(e,t,r){const n=Math.round(t/e[0])*e[0],a=Math.round(r/e[1])*e[1];return[n,a]}function er(e){return e.props.axis==="both"||e.props.axis==="x"}function tr(e){return e.props.axis==="both"||e.props.axis==="y"}function rr(e,t,r){const n=typeof t=="number"?(0,G.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const a=je(r),o=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,G.offsetXYFromParent)(n||e,o,r.props.scale)}function nr(e,t,r){const n=!(0,$.isNum)(e.lastX),a=je(e);return n?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:a,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function ar(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function or(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function je(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var he={},me={};Object.defineProperty(me,"__esModule",{value:!0});me.default=sr;function sr(){}Object.defineProperty(he,"__esModule",{value:!0});he.default=void 0;var xe=lr(v),W=We(pe),ir=We(Ke),M=P,A=X,Oe=L,J=We(me);function We(e){return e&&e.__esModule?e:{default:e}}function lt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(lt=function(n){return n?r:t})(e)}function lr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=lt(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function z(e,t,r){return t=ur(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ur(e){var t=cr(e,"string");return typeof t=="symbol"?t:String(t)}function cr(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const F={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let U=F.mouse,ge=class extends xe.Component{constructor(){super(...arguments),z(this,"dragging",!1),z(this,"lastX",NaN),z(this,"lastY",NaN),z(this,"touchIdentifier",null),z(this,"mounted",!1),z(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,M.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,M.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();const a=(0,M.getTouchIdentifier)(t);this.touchIdentifier=a;const o=(0,A.getControlPosition)(t,a,this);if(o==null)return;const{x:s,y:i}=o,l=(0,A.createCoreData)(this,s,i);(0,J.default)("DraggableCore: handleDragStart: %j",l),(0,J.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,M.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=i,(0,M.addEvent)(n,U.move,this.handleDrag),(0,M.addEvent)(n,U.stop,this.handleDragStop))}),z(this,"handleDrag",t=>{const r=(0,A.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:a}=r;if(Array.isArray(this.props.grid)){let i=n-this.lastX,l=a-this.lastY;if([i,l]=(0,A.snapToGrid)(this.props.grid,i,l),!i&&!l)return;n=this.lastX+i,a=this.lastY+l}const o=(0,A.createCoreData)(this,n,a);if((0,J.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=a}),z(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,A.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:a}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,c=a-this.lastY||0;[l,c]=(0,A.snapToGrid)(this.props.grid,l,c),n=this.lastX+l,a=this.lastY+c}const o=(0,A.createCoreData)(this,n,a);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,M.removeUserSelectStyles)(i.ownerDocument),(0,J.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,J.default)("DraggableCore: Removing handlers"),(0,M.removeEvent)(i.ownerDocument,U.move,this.handleDrag),(0,M.removeEvent)(i.ownerDocument,U.stop,this.handleDragStop))}),z(this,"onMouseDown",t=>(U=F.mouse,this.handleDragStart(t))),z(this,"onMouseUp",t=>(U=F.mouse,this.handleDragStop(t))),z(this,"onTouchStart",t=>(U=F.touch,this.handleDragStart(t))),z(this,"onTouchEnd",t=>(U=F.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,M.addEvent)(t,F.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,M.removeEvent)(r,F.mouse.move,this.handleDrag),(0,M.removeEvent)(r,F.touch.move,this.handleDrag),(0,M.removeEvent)(r,F.mouse.stop,this.handleDragStop),(0,M.removeEvent)(r,F.touch.stop,this.handleDragStop),(0,M.removeEvent)(t,F.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,M.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:ir.default.findDOMNode(this)}render(){return xe.cloneElement(xe.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};he.default=ge;z(ge,"displayName","DraggableCore");z(ge,"propTypes",{allowAnyClick:W.default.bool,children:W.default.node.isRequired,disabled:W.default.bool,enableUserSelectHack:W.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:W.default.arrayOf(W.default.number),handle:W.default.string,cancel:W.default.string,nodeRef:W.default.object,onStart:W.default.func,onDrag:W.default.func,onStop:W.default.func,onMouseDown:W.default.func,scale:W.default.number,className:Oe.dontSetMe,style:Oe.dontSetMe,transform:Oe.dontSetMe});z(ge,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=w(v),r=f(pe),n=f(Ke),a=f(Et),o=P,s=X,i=L,l=f(he),c=f(me);function f(d){return d&&d.__esModule?d:{default:d}}function u(d){if(typeof WeakMap!="function")return null;var p=new WeakMap,h=new WeakMap;return(u=function(g){return g?h:p})(d)}function w(d,p){if(d&&d.__esModule)return d;if(d===null||typeof d!="object"&&typeof d!="function")return{default:d};var h=u(p);if(h&&h.has(d))return h.get(d);var g={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(S!=="default"&&Object.prototype.hasOwnProperty.call(d,S)){var R=O?Object.getOwnPropertyDescriptor(d,S):null;R&&(R.get||R.set)?Object.defineProperty(g,S,R):g[S]=d[S]}return g.default=d,h&&h.set(d,g),g}function b(){return b=Object.assign?Object.assign.bind():function(d){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g])}return d},b.apply(this,arguments)}function x(d,p,h){return p=D(p),p in d?Object.defineProperty(d,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[p]=h,d}function D(d){var p=E(d,"string");return typeof p=="symbol"?p:String(p)}function E(d,p){if(typeof d!="object"||d===null)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var g=h.call(d,p||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)}class _ extends t.Component{static getDerivedStateFromProps(p,h){let{position:g}=p,{prevPropsPosition:O}=h;return g&&(!O||g.x!==O.x||g.y!==O.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:g,prevPropsPosition:O}),{x:g.x,y:g.y,prevPropsPosition:{...g}}):null}constructor(p){super(p),x(this,"onDragStart",(h,g)=>{if((0,c.default)("Draggable: onDragStart: %j",g),this.props.onStart(h,(0,s.createDraggableData)(this,g))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(h,g)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",g);const O=(0,s.createDraggableData)(this,g),S={x:O.x,y:O.y,slackX:0,slackY:0};if(this.props.bounds){const{x:I,y:k}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[B,ne]=(0,s.getBoundPosition)(this,S.x,S.y);S.x=B,S.y=ne,S.slackX=this.state.slackX+(I-S.x),S.slackY=this.state.slackY+(k-S.y),O.x=S.x,O.y=S.y,O.deltaX=S.x-this.state.x,O.deltaY=S.y-this.state.y}if(this.props.onDrag(h,O)===!1)return!1;this.setState(S)}),x(this,"onDragStop",(h,g)=>{if(!this.state.dragging||this.props.onStop(h,(0,s.createDraggableData)(this,g))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",g);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:I,y:k}=this.props.position;S.x=I,S.y=k}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:p.position?p.position.x:p.defaultPosition.x,y:p.position?p.position.y:p.defaultPosition.y,prevPropsPosition:{...p.position},slackX:0,slackY:0,isElementSVG:!1},p.position&&!(p.onDrag||p.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var p,h;return(p=(h=this.props)===null||h===void 0||(h=h.nodeRef)===null||h===void 0?void 0:h.current)!==null&&p!==void 0?p:n.default.findDOMNode(this)}render(){const{axis:p,bounds:h,children:g,defaultPosition:O,defaultClassName:S,defaultClassNameDragging:R,defaultClassNameDragged:I,position:k,positionOffset:B,scale:ne,...ve}=this.props;let ae={},N=null;const C=!!!k||this.state.dragging,j=k||O,K={x:(0,s.canDragX)(this)&&C?this.state.x:j.x,y:(0,s.canDragY)(this)&&C?this.state.y:j.y};this.state.isElementSVG?N=(0,o.createSVGTransform)(K,B):ae=(0,o.createCSSTransform)(K,B);const Y=(0,a.default)(g.props.className||"",S,{[R]:this.state.dragging,[I]:this.state.dragged});return t.createElement(l.default,b({},ve,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(g),{className:Y,style:{...g.props.style,...ae},transform:N}))}}e.default=_,x(_,"displayName","Draggable"),x(_,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),x(_,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Je);const{default:ut,DraggableCore:fr}=Je;de.exports=ut;de.exports.default=ut;de.exports.DraggableCore=fr;var dr=de.exports,$e={};$e.__esModule=!0;$e.cloneElement=vr;var pr=hr(v);function hr(e){return e&&e.__esModule?e:{default:e}}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Le(Object(r),!0).forEach(function(n){mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mr(e,t,r){return t=gr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gr(e){var t=yr(e,"string");return typeof t=="symbol"?t:String(t)}function yr(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vr(e,t){return t.style&&e.props.style&&(t.style=Xe(Xe({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),pr.default.cloneElement(e,t)}var re={};re.__esModule=!0;re.resizableProps=void 0;var m=br(pe);function br(e){return e&&e.__esModule?e:{default:e}}var Sr={axis:m.default.oneOf(["both","x","y","none"]),className:m.default.string,children:m.default.element.isRequired,draggableOpts:m.default.shape({allowAnyClick:m.default.bool,cancel:m.default.string,children:m.default.node,disabled:m.default.bool,enableUserSelectHack:m.default.bool,offsetParent:m.default.node,grid:m.default.arrayOf(m.default.number),handle:m.default.string,nodeRef:m.default.object,onStart:m.default.func,onDrag:m.default.func,onStop:m.default.func,onMouseDown:m.default.func,scale:m.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(a.axis==="both"||a.axis==="y"){var o;return(o=m.default.number).isRequired.apply(o,r)}return m.default.number.apply(m.default,r)},handle:m.default.oneOfType([m.default.node,m.default.func]),handleSize:m.default.arrayOf(m.default.number),lockAspectRatio:m.default.bool,maxConstraints:m.default.arrayOf(m.default.number),minConstraints:m.default.arrayOf(m.default.number),onResizeStop:m.default.func,onResizeStart:m.default.func,onResize:m.default.func,resizeHandles:m.default.arrayOf(m.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:m.default.number,width:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(a.axis==="both"||a.axis==="x"){var o;return(o=m.default.number).isRequired.apply(o,r)}return m.default.number.apply(m.default,r)}};re.resizableProps=Sr;te.__esModule=!0;te.default=void 0;var Q=Dr(v),wr=dr,xr=$e,Or=re,Pr=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function ct(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(ct=function(a){return a?r:t})(e)}function Dr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=ct(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}function Rr(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(r),!0).forEach(function(n){_r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _r(e,t,r){return t=Cr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cr(e){var t=Er(e,"string");return typeof t=="symbol"?t:String(t)}function Er(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ce(e,t)}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ce(e,t)}var He=function(e){Nr(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(a,o){var s=this.props,i=s.minConstraints,l=s.maxConstraints,c=s.lockAspectRatio;if(!i&&!l&&!c)return[a,o];if(c){var f=this.props.width/this.props.height,u=a-this.props.width,w=o-this.props.height;Math.abs(u)>Math.abs(w*f)?o=a/f:a=o*f}var b=a,x=o,D=this.slack||[0,0],E=D[0],_=D[1];return a+=E,o+=_,i&&(a=Math.max(i[0],a),o=Math.max(i[1],o)),l&&(a=Math.min(l[0],a),o=Math.min(l[1],o)),this.slack=[E+(b-a),_+(x-o)],[a,o]},r.resizeHandler=function(a,o){var s=this;return function(i,l){var c=l.node,f=l.deltaX,u=l.deltaY;a==="onResizeStart"&&s.resetData();var w=(s.props.axis==="both"||s.props.axis==="x")&&o!=="n"&&o!=="s",b=(s.props.axis==="both"||s.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!w&&!b)){var x=o[0],D=o[o.length-1],E=c.getBoundingClientRect();if(s.lastHandleRect!=null){if(D==="w"){var _=E.left-s.lastHandleRect.left;f+=_}if(x==="n"){var d=E.top-s.lastHandleRect.top;u+=d}}s.lastHandleRect=E,D==="w"&&(f=-f),x==="n"&&(u=-u);var p=s.props.width+(w?f/s.props.transformScale:0),h=s.props.height+(b?u/s.props.transformScale:0),g=s.runConstraints(p,h);p=g[0],h=g[1];var O=p!==s.props.width||h!==s.props.height,S=typeof s.props[a]=="function"?s.props[a]:null,R=a==="onResize"&&!O;S&&!R&&(i.persist==null||i.persist(),S(i,{node:c,size:{width:p,height:h},handle:o})),a==="onResizeStop"&&s.resetData()}}},r.renderResizeHandle=function(a,o){var s=this.props.handle;if(!s)return Q.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:o});if(typeof s=="function")return s(a,o);var i=typeof s.type=="string",l=Pe({ref:o},i?{}:{handleAxis:a});return Q.cloneElement(s,l)},r.render=function(){var a=this,o=this.props,s=o.children,i=o.className,l=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var c=o.resizeHandles;o.transformScale;var f=Rr(o,Pr);return(0,xr.cloneElement)(s,Pe(Pe({},f),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(s.props.children,c.map(function(u){var w,b=(w=a.handleRefs[u])!=null?w:a.handleRefs[u]=Q.createRef();return Q.createElement(wr.DraggableCore,_e({},l,{nodeRef:b,key:"resizableHandle-"+u,onStop:a.resizeHandler("onResizeStop",u),onStart:a.resizeHandler("onResizeStart",u),onDrag:a.resizeHandler("onResize",u)}),a.renderResizeHandle(u,b))}))}))},t}(Q.Component);te.default=He;He.propTypes=Or.resizableProps;He.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ye={};ye.__esModule=!0;ye.default=void 0;var De=Wr(v),Mr=ft(pe),Tr=ft(te),zr=re,jr=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function ft(e){return e&&e.__esModule?e:{default:e}}function dt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(dt=function(a){return a?r:t})(e)}function Wr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=dt(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ee.apply(this,arguments)}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ae(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $r(e,t,r){return t=Hr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hr(e){var t=kr(e,"string");return typeof t=="symbol"?t:String(t)}function kr(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ir(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ne(e,t)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ne(e,t)}var pt=function(e){Ir(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(i,l){var c=l.size;n.props.onResize?(i.persist==null||i.persist(),n.setState(c,function(){return n.props.onResize&&n.props.onResize(i,l)})):n.setState(c)},n}t.getDerivedStateFromProps=function(a,o){return o.propsWidth!==a.width||o.propsHeight!==a.height?{width:a.width,height:a.height,propsWidth:a.width,propsHeight:a.height}:null};var r=t.prototype;return r.render=function(){var a=this.props,o=a.handle,s=a.handleSize;a.onResize;var i=a.onResizeStart,l=a.onResizeStop,c=a.draggableOpts,f=a.minConstraints,u=a.maxConstraints,w=a.lockAspectRatio,b=a.axis;a.width,a.height;var x=a.resizeHandles,D=a.style,E=a.transformScale,_=Fr(a,jr);return De.createElement(Tr.default,{axis:b,draggableOpts:c,handle:o,handleSize:s,height:this.state.height,lockAspectRatio:w,maxConstraints:u,minConstraints:f,onResizeStart:i,onResize:this.onResize,onResizeStop:l,resizeHandles:x,transformScale:E,width:this.state.width},De.createElement("div",Ee({},_,{style:ue(ue({},D),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(De.Component);ye.default=pt;pt.propTypes=ue(ue({},zr.resizableProps),{},{children:Mr.default.element});Te.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Lr=Te.exports.Resizable=te.default;Te.exports.ResizableBox=ye.default;function Xr(e){return typeof e=="object"&&e!=null}function Yr(e,t){return typeof e=="function"?e(t):e}function Ue(e,t){if(e==null)return;const r=Yr(e,t);if(r!=null)return[r,0]}const ce={key(e){return`${e}_resize`},get(e){try{const t=window.localStorage.getItem(ce.key(e))??"{}",r=JSON.parse(t);return Xr(r)?(Object.entries(r).forEach(([n,a])=>{Number.isFinite(a)||delete r[n]}),r):{}}catch{return{}}},set(e,t){window.localStorage.setItem(ce.key(e),JSON.stringify(t))}};function Ar(e,t){const{storageKey:r,min:n,max:a}=t??{},{columns:o}=e,[s,i]=v.useState(()=>r==null?{}:ce.get(r)),l=v.useCallback((u,w)=>{i(b=>{const x={...b,[`${u}`]:w};return r!=null&&ce.set(r,x),x})},[r]),c=v.useCallback((u,w)=>{const{column:b,columnWidths:x}=w;if(b.disableResize)return u;const D=Re(b),E=Number.isFinite(b.width)?b.width:x.get(D)??0;return y.jsx(Lr,{width:E,axis:"x",minConstraints:Ue(b.minWidth??n,b),maxConstraints:Ue(b.maxWidth??a,b),handle:y.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(_,{size:d})=>{l(D,d.width)},children:u})},[l,a,n]),f=v.useMemo(()=>o.map(u=>{const w=Re(u).toString(),b=s[w];return b!=null&&b!==u.width?{...u,width:b}:u}),[s,o]);return{...e,columns:f,renderHeaderCell:c}}const dn=ee(Ar),Ur=e=>{const{colSpan:t,children:r}=e,{tableWidth:n}=Ve();return y.jsx("tr",{children:y.jsx("td",{colSpan:t,style:{padding:0},children:y.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:n<=0?void 0:n},children:r})})})};function Br(e,t){const{children:r,visible:n=!0}=t,{dataSource:a}=e,s=(Array.isArray(a)?a.length===0:!0)&&n,i=v.useMemo(()=>typeof r=="function"?v.createElement(r):r,[r]),l=v.useCallback((c,f)=>{const{columnDescriptor:u}=f;return y.jsxs(y.Fragment,{children:[c,y.jsx(Ur,{colSpan:u.length,children:i},"virtual-table-placeholder$")]})},[i]);return s?{...e,renderBodyContent:l}:e}const pn=ee(Br),Kr=e=>{const{className:t,style:r,rowIndex:n,isExpanded:a,colSpan:o,children:s,fixed:i}=e,{updateRowHeight:l}=qe(),{tableWidth:c}=Ve();return y.jsx("tr",{className:V("virtual-table-expanded-row",t),style:{...r,display:a?void 0:"none"},ref:f=>{f!=null&&l(n,`row(${n})-expandable`,f.offsetHeight)},children:y.jsx("td",{colSpan:o,children:y.jsx("div",{className:V("virtual-table-cell",i&&"virtual-table-expanded-row-fixed"),style:{width:c<=0?void 0:c},children:s})})})},Vr="VirtualTable.EXPANSION_COLUMN";function Be(e,t){return e[t]}function qr(e,t){const r=t==null,{rowKey:n,columns:a,dataSource:o}=e,{defaultExpandedRowKeys:s,expandedRowRender:i,columnTitle:l,expandRowByClick:c=!1,expandIcon:f,onExpand:u,defaultExpandAllRows:w=!1,showExpandColumn:b=!0,expandedRowClassName:x,rowExpandable:D,columnWidth:E=50,fixed:_,extraColumnProps:d}=t??{},p=v.useMemo(()=>o.map(N=>D?D(N):!1),[o,D]),h=ke(()=>p),g=v.useRef("expandedRowKeys"in(t??{})||"defaultExpandedRowKeys"in(t??{})?!1:w),O=ke(()=>g.current?o.map((T,C)=>h[C]?T[n]:null).filter(T=>T!=null):[]),S=v.useRef(new Set(s??O)),[R,I]=Ot(t??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:s??O}),k=yt((N,T)=>{const C=Be(N,n);S.current.add(C),T==null?R.includes(C)?(I(R.filter(j=>j!==C)),u==null||u(!1,N)):(I([...R,C]),u==null||u(!0,N)):T?(I([...R,C]),u==null||u(!0,N)):(I(R.filter(j=>j!==C)),u==null||u(!1,N))}),B=Me(_),ne=v.useCallback((N,T)=>{const{rowData:C,rowIndex:j,columnDescriptor:K}=T;if(h[j]){const oe=Be(C,n),be=R.includes(oe),mt=S.current.has(oe);let Se="";return typeof x=="string"?Se=x:typeof x=="function"&&(Se=x(C,j,0)),y.jsxs(y.Fragment,{children:[N,mt&&y.jsx(Kr,{className:Se,rowIndex:j,isExpanded:be,colSpan:K.length,fixed:B,children:i==null?void 0:i(C,j,0,be)})]})}return N},[B,h,n,R,x,i]),ve=v.useMemo(()=>b?[{...d,key:Vr,title:l,width:E,fixed:_,render(N,T,C){const j=T[n],K=h[C]??!1,Y=R.includes(j);return typeof f=="function"?f({expandable:K,expanded:Y,record:T,prefixCls:"virtual-table",onExpand:(oe,be)=>{k(oe)}}):K?y.jsx("button",{className:V("virtual-table-row-expand-icon",Y?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":Y?"关闭行":"展开行","aria-expanded":Y,onClick:()=>{k(T,!Y)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...a]:a,[b,l,E,_,a,n,h,R,f,k,d]),ae=v.useCallback((N,T)=>h[T]?{onClick:C=>{C.stopPropagation(),k(N)}}:{},[h,k]);return r?e:{...e,columns:ve,renderRow:ne,onRow:c?ae:void 0}}const hn=ee(qr);function Gr(e){const{column:t,className:r}=e,{align:n,fixed:a}=t,o=Re(t),{size:s}=Ge();return y.jsx("td",{className:V("virtual-table-cell",r,n!=null&&`virtual-table-align-${n}`,Me(a)&&"virtual-table-sticky-cell"),style:{left:ie(a)?s.get(o):void 0,right:le(a)?s.get(o):void 0},children:y.jsx("div",{className:"virtual-table-loading-skeleton"})})}const Jr=v.memo(Gr);function Qr(e){const{descriptor:t,style:r,rowIndex:n}=e,{updateRowHeight:a}=qe(),o=vt(t,i=>i.type==="blank"?!1:ie(i.column.fixed)),s=t.findIndex(i=>i.type==="blank"?!1:le(i.column.fixed));return y.jsx("tr",{className:"virtual-table-row virtual-table-loading-cell",style:r,ref:i=>{i!=null&&a(n,n,i.offsetHeight)},children:t.map((i,l)=>{const{key:c}=i;if(i.type==="blank")return y.jsx("td",{},c);const{column:f}=i;return y.jsx(Jr,{className:V(o===l&&"virtual-table-cell-fix-left-last",s===l&&"virtual-table-cell-fix-right-first"),column:f},c)})})}const Zr=v.memo(Qr),en=[];function tn(e,t){const{loading:r=!1}=t??{},{estimatedRowHeight:n,headerWrapperRef:a,getScroller:o}=e,[s,i]=v.useState(10);v.useEffect(()=>{const c=a.current,f=o();if(f!=null)return bt(f,({height:u})=>{const w=(c==null?void 0:c.offsetHeight)??0;i(Math.ceil((u-w)/n))})},[o,a,n]);const l=v.useMemo(()=>Array.from({length:s},(c,f)=>({key:f})),[s]);return r?{...e,dataSource:en,renderBodyContent:(c,{columnDescriptor:f,startRowIndex:u})=>l.map((w,b)=>y.jsx(Zr,{style:{height:n},descriptor:f,rowIndex:b+u},w.key))}:e}const mn=ee(tn),fe=v.createContext(null),rn=e=>{const{columns:t,fixed:r,children:n}=e,{listen:a,notify:o}=St(),[s]=v.useState(()=>wt().height),i=v.useRef(null);return v.useEffect(()=>{const l=i.current;if(l==null)return;const c="virtual-table-summary",f=()=>{o(c,{scrollLeft:()=>l.scrollLeft,node:l})},u=a(c,w=>{l.scrollLeft=w});return l.addEventListener("scroll",f),()=>{l.removeEventListener("scroll",f),u()}},[a,o]),y.jsx("div",{className:V("virtual-table-summary-wrapper",r&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border"),style:{paddingBottom:s},ref:i,children:y.jsxs("table",{className:"virtual-table-summary",children:[y.jsx(xt,{columns:t}),y.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:n})]})})};function nn(e){var x;const{className:t,style:r,children:n,align:a,colSpan:o,columnKey:s,...i}=e,{size:l,fixed:c}=Ge(),f=l.get(s),u=(x=c.find(D=>D.key===s))==null?void 0:x.fixed,{left:w,right:b}=v.useMemo(()=>{var _;const D=c.reduce((d,p)=>ie(p.fixed)?p.key:d,void 0),E=(_=c.find(d=>le(d.fixed)))==null?void 0:_.key;return{left:D,right:E}},[c]);return o===0?null:y.jsx("td",{...i,colSpan:o,className:V("virtual-table-cell virtual-table-summary-cell",a!=null&&`virtual-table-align-${a}`,Me(u)&&"virtual-table-sticky-cell",w===s&&"virtual-table-cell-fix-left-last",b===s&&"virtual-table-cell-fix-right-first",t),style:{...r,left:ie(u)?f:void 0,right:le(u)?f:void 0},children:n})}const ht=v.memo(nn);function an(e){const{dataSource:t,...r}=e,n=v.useContext(fe);if(n==null)throw new Error("SummaryOutlet is missing the columns context and cannot use children as a function.");return y.jsx("tr",{...r,children:n.map(a=>{const{key:o}=a;if(a.type==="blank")return y.jsx("td",{},o);const{column:s}=a,{render:i,...l}=s.summary??{};return v.createElement(ht,{...l,key:o,columnKey:o},i==null?void 0:i(t))})})}const on=({children:e,...t})=>{const r=v.useContext(fe);if(typeof e=="function"){if(r!=null)return y.jsx("tr",{...t,children:r.map(n=>{const{key:a}=n;if(n.type==="blank")return y.jsx("td",{},a);const{column:o}=n;return y.jsx(v.Fragment,{children:e(o,a)},a)})});throw new Error("SummaryRow is missing the columns context and cannot use children as a function.")}return y.jsx("tr",{...t,children:e})};function Z({children:e}){return e}Z.Row=on;Z.Cell=ht;Z.Outlet=an;function sn(e,t){const{summary:r}=t??{},{dataSource:n}=e;let a=!1,o=!1;const s=r==null?void 0:r(n),i=[],l=[],c=f=>{const u=f.props.fixed;u==="top"?(a=!0,i.push(f)):((u==="bottom"||u===!0)&&(o=!0),l.push(f))};if(r==null)return e;if(v.isValidElement(s))if(s.type===v.Fragment){const f=s.props.children;v.Children.forEach(f,u=>{v.isValidElement(u)&&u.type===Z&&c(u)})}else s.type===Z&&c(s);else return e;return{...e,...a?{renderHeader:(f,{columnDescriptor:u})=>y.jsxs(y.Fragment,{children:[f,y.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:y.jsx(fe.Provider,{value:u,children:i})})]})}:{},...o?{renderContent(f,{columnDescriptor:u}){return y.jsxs(y.Fragment,{children:[f,y.jsx(rn,{fixed:o,columns:u,children:y.jsx(fe.Provider,{value:u,children:l})})]})}}:{}}}const gn=ee(sn);export{Z as S,mn as a,pn as b,dn as c,gn as d,hn as t};
