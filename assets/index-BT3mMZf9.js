import{K as te,L as Xe,r as E,j as C}from"./index-C5G4hb-v.js";import{b as re,g as se,d as Ve,i as Z,e as Le,f as Ge,c as I,j as Se,k as Je,l as ye,m as we,n as Ye,o as ie,p as Qe,q as Ze,r as et,s as tt,C as rt}from"./index-DYUyFEuL.js";import{u as nt}from"./table-selection-DIelkR4z.js";var B={exports:{}},$={},V={exports:{}},pe={},he={exports:{}},me,xe;function ot(){if(xe)return me;xe=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return me=r,me}var ge,Re;function at(){if(Re)return ge;Re=1;var r=ot();function g(){}function f(){}return f.resetWarningCache=g,ge=function(){function c(d,w,y,h,x,m){if(m!==r){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}c.isRequired=c;function v(){return c}var u={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:v,element:c,elementType:c,instanceOf:v,node:c,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:f,resetWarningCache:g};return u.PropTypes=u,u},ge}var Pe;function ce(){return Pe||(Pe=1,he.exports=at()()),he.exports}var ne={exports:{}},Oe;function st(){if(Oe)return ne.exports;Oe=1;function r(f){var c,v,u="";if(typeof f=="string"||typeof f=="number")u+=f;else if(typeof f=="object")if(Array.isArray(f)){var d=f.length;for(c=0;c<d;c++)f[c]&&(v=r(f[c]))&&(u&&(u+=" "),u+=v)}else for(v in f)f[v]&&(u&&(u+=" "),u+=v);return u}function g(){for(var f,c,v=0,u="",d=arguments.length;v<d;v++)(f=arguments[v])&&(c=r(f))&&(u&&(u+=" "),u+=c);return u}return ne.exports=g,ne.exports.clsx=g,ne.exports}var W={},L={},De;function fe(){if(De)return L;De=1,Object.defineProperty(L,"__esModule",{value:!0}),L.dontSetMe=v,L.findInArray=r,L.int=c,L.isFunction=g,L.isNum=f;function r(u,d){for(let w=0,y=u.length;w<y;w++)if(d.apply(d,[u[w],w,u]))return u[w]}function g(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Function]"}function f(u){return typeof u=="number"&&!isNaN(u)}function c(u){return parseInt(u,10)}function v(u,d,w){if(u[d])return new Error(`Invalid prop ${d} passed to ${w} - do not set this, set it on the child.`)}return L}var Y={},_e;function it(){if(_e)return Y;_e=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.browserPrefixToKey=f,Y.browserPrefixToStyle=c,Y.default=void 0,Y.getPrefix=g;const r=["Moz","Webkit","O","ms"];function g(){var w,y;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const d=(y=(w=window.document)==null?void 0:w.documentElement)==null?void 0:y.style;if(!d||u in d)return"";for(let h=0;h<r.length;h++)if(f(u,r[h])in d)return r[h];return""}function f(u,d){return d?`${d}${v(u)}`:u}function c(u,d){return d?`-${d.toLowerCase()}-${u}`:u}function v(u){let d="",w=!0;for(let y=0;y<u.length;y++)w?(d+=u[y].toUpperCase(),w=!1):u[y]==="-"?w=!0:d+=u[y];return d}return Y.default=g(),Y}var Ce;function ve(){if(Ce)return W;Ce=1,Object.defineProperty(W,"__esModule",{value:!0}),W.addClassName=a,W.addEvent=d,W.addUserSelectStyles=e,W.createCSSTransform=O,W.createSVGTransform=P,W.getTouch=p,W.getTouchIdentifier=i,W.getTranslation=b,W.innerHeight=x,W.innerWidth=m,W.matchesSelector=v,W.matchesSelectorAndParentsTo=u,W.offsetXYFromParent=R,W.outerHeight=y,W.outerWidth=h,W.removeClassName=n,W.removeEvent=w,W.scheduleRemoveUserSelectStyles=o;var r=fe(),g=f(it());function f(t,l){if(typeof WeakMap=="function")var S=new WeakMap,D=new WeakMap;return(f=function(_,z){if(!z&&_&&_.__esModule)return _;var M,k,T={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return T;if(M=z?D:S){if(M.has(_))return M.get(_);M.set(_,T)}for(const N in _)N!=="default"&&{}.hasOwnProperty.call(_,N)&&((k=(M=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,N))&&(k.get||k.set)?M(T,N,k):T[N]=_[N]);return T})(t,l)}let c="";function v(t,l){return c||(c=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(S){return(0,r.isFunction)(t[S])})),(0,r.isFunction)(t[c])?t[c](l):!1}function u(t,l,S){let D=t;do{if(v(D,l))return!0;if(D===S)return!1;D=D.parentNode}while(D);return!1}function d(t,l,S,D){if(!t)return;const _={capture:!0,...D};t.addEventListener?t.addEventListener(l,S,_):t.attachEvent?t.attachEvent("on"+l,S):t["on"+l]=S}function w(t,l,S,D){if(!t)return;const _={capture:!0,...D};t.removeEventListener?t.removeEventListener(l,S,_):t.detachEvent?t.detachEvent("on"+l,S):t["on"+l]=null}function y(t){let l=t.clientHeight;const S=t.ownerDocument.defaultView.getComputedStyle(t);return l+=(0,r.int)(S.borderTopWidth),l+=(0,r.int)(S.borderBottomWidth),l}function h(t){let l=t.clientWidth;const S=t.ownerDocument.defaultView.getComputedStyle(t);return l+=(0,r.int)(S.borderLeftWidth),l+=(0,r.int)(S.borderRightWidth),l}function x(t){let l=t.clientHeight;const S=t.ownerDocument.defaultView.getComputedStyle(t);return l-=(0,r.int)(S.paddingTop),l-=(0,r.int)(S.paddingBottom),l}function m(t){let l=t.clientWidth;const S=t.ownerDocument.defaultView.getComputedStyle(t);return l-=(0,r.int)(S.paddingLeft),l-=(0,r.int)(S.paddingRight),l}function R(t,l,S){const _=l===l.ownerDocument.body?{left:0,top:0}:l.getBoundingClientRect(),z=(t.clientX+l.scrollLeft-_.left)/S,M=(t.clientY+l.scrollTop-_.top)/S;return{x:z,y:M}}function O(t,l){const S=b(t,l,"px");return{[(0,g.browserPrefixToKey)("transform",g.default)]:S}}function P(t,l){return b(t,l,"")}function b(t,l,S){let{x:D,y:_}=t,z=`translate(${D}${S},${_}${S})`;if(l){const M=`${typeof l.x=="string"?l.x:l.x+S}`,k=`${typeof l.y=="string"?l.y:l.y+S}`;z=`translate(${M}, ${k})`+z}return z}function p(t,l){return t.targetTouches&&(0,r.findInArray)(t.targetTouches,S=>l===S.identifier)||t.changedTouches&&(0,r.findInArray)(t.changedTouches,S=>l===S.identifier)}function i(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function e(t){if(!t)return;let l=t.getElementById("react-draggable-style-el");l||(l=t.createElement("style"),l.type="text/css",l.id="react-draggable-style-el",l.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,l.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(l)),t.body&&a(t.body,"react-draggable-transparent-selection")}function o(t){window.requestAnimationFrame?window.requestAnimationFrame(()=>{s(t)}):s(t)}function s(t){if(t)try{if(t.body&&n(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const l=(t.defaultView||window).getSelection();l&&l.type!=="Caret"&&l.removeAllRanges()}}catch{}}function a(t,l){t.classList?t.classList.add(l):t.className.match(new RegExp(`(?:^|\\s)${l}(?!\\S)`))||(t.className+=` ${l}`)}function n(t,l){t.classList?t.classList.remove(l):t.className=t.className.replace(new RegExp(`(?:^|\\s)${l}(?!\\S)`,"g"),"")}return W}var X={},Ee;function Ie(){if(Ee)return X;Ee=1,Object.defineProperty(X,"__esModule",{value:!0}),X.canDragX=v,X.canDragY=u,X.createCoreData=w,X.createDraggableData=y,X.getBoundPosition=f,X.getControlPosition=d,X.snapToGrid=c;var r=fe(),g=ve();function f(m,R,O){if(!m.props.bounds)return[R,O];let{bounds:P}=m.props;P=typeof P=="string"?P:h(P);const b=x(m);if(typeof P=="string"){const{ownerDocument:p}=b,i=p.defaultView;let e;if(P==="parent"?e=b.parentNode:e=b.getRootNode().querySelector(P),!(e instanceof i.HTMLElement))throw new Error('Bounds selector "'+P+'" could not find an element.');const o=e,s=i.getComputedStyle(b),a=i.getComputedStyle(o);P={left:-b.offsetLeft+(0,r.int)(a.paddingLeft)+(0,r.int)(s.marginLeft),top:-b.offsetTop+(0,r.int)(a.paddingTop)+(0,r.int)(s.marginTop),right:(0,g.innerWidth)(o)-(0,g.outerWidth)(b)-b.offsetLeft+(0,r.int)(a.paddingRight)-(0,r.int)(s.marginRight),bottom:(0,g.innerHeight)(o)-(0,g.outerHeight)(b)-b.offsetTop+(0,r.int)(a.paddingBottom)-(0,r.int)(s.marginBottom)}}return(0,r.isNum)(P.right)&&(R=Math.min(R,P.right)),(0,r.isNum)(P.bottom)&&(O=Math.min(O,P.bottom)),(0,r.isNum)(P.left)&&(R=Math.max(R,P.left)),(0,r.isNum)(P.top)&&(O=Math.max(O,P.top)),[R,O]}function c(m,R,O){const P=Math.round(R/m[0])*m[0],b=Math.round(O/m[1])*m[1];return[P,b]}function v(m){return m.props.axis==="both"||m.props.axis==="x"}function u(m){return m.props.axis==="both"||m.props.axis==="y"}function d(m,R,O){const P=typeof R=="number"?(0,g.getTouch)(m,R):null;if(typeof R=="number"&&!P)return null;const b=x(O),p=O.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,g.offsetXYFromParent)(P||m,p,O.props.scale)}function w(m,R,O){const P=!(0,r.isNum)(m.lastX),b=x(m);return P?{node:b,deltaX:0,deltaY:0,lastX:R,lastY:O,x:R,y:O}:{node:b,deltaX:R-m.lastX,deltaY:O-m.lastY,lastX:m.lastX,lastY:m.lastY,x:R,y:O}}function y(m,R){const O=m.props.scale;return{node:R.node,x:m.state.x+R.deltaX/O,y:m.state.y+R.deltaY/O,deltaX:R.deltaX/O,deltaY:R.deltaY/O,lastX:m.state.x,lastY:m.state.y}}function h(m){return{left:m.left,top:m.top,right:m.right,bottom:m.bottom}}function x(m){const R=m.findDOMNode();if(!R)throw new Error("<DraggableCore>: Unmounted during event!");return R}return X}var G={},oe={},Ne;function Ae(){if(Ne)return oe;Ne=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=r;function r(){}return oe}var ze;function lt(){if(ze)return G;ze=1,Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var r=y(te()),g=w(ce()),f=w(Xe()),c=ve(),v=Ie(),u=fe(),d=w(Ae());function w(b){return b&&b.__esModule?b:{default:b}}function y(b,p){if(typeof WeakMap=="function")var i=new WeakMap,e=new WeakMap;return(y=function(o,s){if(!s&&o&&o.__esModule)return o;var a,n,t={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return t;if(a=s?e:i){if(a.has(o))return a.get(o);a.set(o,t)}for(const l in o)l!=="default"&&{}.hasOwnProperty.call(o,l)&&((n=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,l))&&(n.get||n.set)?a(t,l,n):t[l]=o[l]);return t})(b,p)}function h(b,p,i){return(p=x(p))in b?Object.defineProperty(b,p,{value:i,enumerable:!0,configurable:!0,writable:!0}):b[p]=i,b}function x(b){var p=m(b,"string");return typeof p=="symbol"?p:p+""}function m(b,p){if(typeof b!="object"||!b)return b;var i=b[Symbol.toPrimitive];if(i!==void 0){var e=i.call(b,p);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(b)}const R={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let O=R.mouse,P=class extends r.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",p=>{if(this.props.onMouseDown(p),!this.props.allowAnyClick&&typeof p.button=="number"&&p.button!==0)return!1;const i=this.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:e}=i;if(this.props.disabled||!(p.target instanceof e.defaultView.Node)||this.props.handle&&!(0,c.matchesSelectorAndParentsTo)(p.target,this.props.handle,i)||this.props.cancel&&(0,c.matchesSelectorAndParentsTo)(p.target,this.props.cancel,i))return;p.type==="touchstart"&&!this.props.allowMobileScroll&&p.preventDefault();const o=(0,c.getTouchIdentifier)(p);this.touchIdentifier=o;const s=(0,v.getControlPosition)(p,o,this);if(s==null)return;const{x:a,y:n}=s,t=(0,v.createCoreData)(this,a,n);(0,d.default)("DraggableCore: handleDragStart: %j",t),(0,d.default)("calling",this.props.onStart),!(this.props.onStart(p,t)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,c.addUserSelectStyles)(e),this.dragging=!0,this.lastX=a,this.lastY=n,(0,c.addEvent)(e,O.move,this.handleDrag),(0,c.addEvent)(e,O.stop,this.handleDragStop))}),h(this,"handleDrag",p=>{const i=(0,v.getControlPosition)(p,this.touchIdentifier,this);if(i==null)return;let{x:e,y:o}=i;if(Array.isArray(this.props.grid)){let n=e-this.lastX,t=o-this.lastY;if([n,t]=(0,v.snapToGrid)(this.props.grid,n,t),!n&&!t)return;e=this.lastX+n,o=this.lastY+t}const s=(0,v.createCoreData)(this,e,o);if((0,d.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(p,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}return}this.lastX=e,this.lastY=o}),h(this,"handleDragStop",p=>{if(!this.dragging)return;const i=(0,v.getControlPosition)(p,this.touchIdentifier,this);if(i==null)return;let{x:e,y:o}=i;if(Array.isArray(this.props.grid)){let t=e-this.lastX||0,l=o-this.lastY||0;[t,l]=(0,v.snapToGrid)(this.props.grid,t,l),e=this.lastX+t,o=this.lastY+l}const s=(0,v.createCoreData)(this,e,o);if(this.props.onStop(p,s)===!1||this.mounted===!1)return!1;const n=this.findDOMNode();n&&this.props.enableUserSelectHack&&(0,c.scheduleRemoveUserSelectStyles)(n.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,n&&((0,d.default)("DraggableCore: Removing handlers"),(0,c.removeEvent)(n.ownerDocument,O.move,this.handleDrag),(0,c.removeEvent)(n.ownerDocument,O.stop,this.handleDragStop))}),h(this,"onMouseDown",p=>(O=R.mouse,this.handleDragStart(p))),h(this,"onMouseUp",p=>(O=R.mouse,this.handleDragStop(p))),h(this,"onTouchStart",p=>(O=R.touch,this.handleDragStart(p))),h(this,"onTouchEnd",p=>(O=R.touch,this.handleDragStop(p)))}componentDidMount(){this.mounted=!0;const p=this.findDOMNode();p&&(0,c.addEvent)(p,R.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const p=this.findDOMNode();if(p){const{ownerDocument:i}=p;(0,c.removeEvent)(i,R.mouse.move,this.handleDrag),(0,c.removeEvent)(i,R.touch.move,this.handleDrag),(0,c.removeEvent)(i,R.mouse.stop,this.handleDragStop),(0,c.removeEvent)(i,R.touch.stop,this.handleDragStop),(0,c.removeEvent)(p,R.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,c.scheduleRemoveUserSelectStyles)(i)}}findDOMNode(){var p,i,e;return(p=this.props)!=null&&p.nodeRef?(e=(i=this.props)==null?void 0:i.nodeRef)==null?void 0:e.current:f.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return G.default=P,h(P,"displayName","DraggableCore"),h(P,"propTypes",{allowAnyClick:g.default.bool,allowMobileScroll:g.default.bool,children:g.default.node.isRequired,disabled:g.default.bool,enableUserSelectHack:g.default.bool,offsetParent:function(b,p){if(b[p]&&b[p].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:g.default.arrayOf(g.default.number),handle:g.default.string,cancel:g.default.string,nodeRef:g.default.object,onStart:g.default.func,onDrag:g.default.func,onStop:g.default.func,onMouseDown:g.default.func,scale:g.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),h(P,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),G}var Te;function ut(){return Te||(Te=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return y.default}}),r.default=void 0;var g=m(te()),f=x(ce()),c=x(Xe()),v=st(),u=ve(),d=Ie(),w=fe(),y=x(lt()),h=x(Ae());function x(i){return i&&i.__esModule?i:{default:i}}function m(i,e){if(typeof WeakMap=="function")var o=new WeakMap,s=new WeakMap;return(m=function(a,n){if(!n&&a&&a.__esModule)return a;var t,l,S={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return S;if(t=n?s:o){if(t.has(a))return t.get(a);t.set(a,S)}for(const D in a)D!=="default"&&{}.hasOwnProperty.call(a,D)&&((l=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,D))&&(l.get||l.set)?t(S,D,l):S[D]=a[D]);return S})(i,e)}function R(){return R=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)({}).hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},R.apply(null,arguments)}function O(i,e,o){return(e=P(e))in i?Object.defineProperty(i,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[e]=o,i}function P(i){var e=b(i,"string");return typeof e=="symbol"?e:e+""}function b(i,e){if(typeof i!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var s=o.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}class p extends g.Component{static getDerivedStateFromProps(e,o){let{position:s}=e,{prevPropsPosition:a}=o;return s&&(!a||s.x!==a.x||s.y!==a.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:s,prevPropsPosition:a}),{x:s.x,y:s.y,prevPropsPosition:{...s}}):null}constructor(e){super(e),O(this,"onDragStart",(o,s)=>{if((0,h.default)("Draggable: onDragStart: %j",s),this.props.onStart(o,(0,d.createDraggableData)(this,s))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),O(this,"onDrag",(o,s)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",s);const a=(0,d.createDraggableData)(this,s),n={x:a.x,y:a.y,slackX:0,slackY:0};if(this.props.bounds){const{x:l,y:S}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;const[D,_]=(0,d.getBoundPosition)(this,n.x,n.y);n.x=D,n.y=_,n.slackX=this.state.slackX+(l-n.x),n.slackY=this.state.slackY+(S-n.y),a.x=n.x,a.y=n.y,a.deltaX=n.x-this.state.x,a.deltaY=n.y-this.state.y}if(this.props.onDrag(o,a)===!1)return!1;this.setState(n)}),O(this,"onDragStop",(o,s)=>{if(!this.state.dragging||this.props.onStop(o,(0,d.createDraggableData)(this,s))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",s);const n={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:l,y:S}=this.props.position;n.x=l,n.y=S}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var e,o;return((o=(e=this.props)==null?void 0:e.nodeRef)==null?void 0:o.current)??c.default.findDOMNode(this)}render(){const{axis:e,bounds:o,children:s,defaultPosition:a,defaultClassName:n,defaultClassNameDragging:t,defaultClassNameDragged:l,position:S,positionOffset:D,scale:_,...z}=this.props;let M={},k=null;const N=!!!S||this.state.dragging,j=S||a,q={x:(0,d.canDragX)(this)&&N?this.state.x:j.x,y:(0,d.canDragY)(this)&&N?this.state.y:j.y};this.state.isElementSVG?k=(0,u.createSVGTransform)(q,D):M=(0,u.createCSSTransform)(q,D);const H=(0,v.clsx)(s.props.className||"",n,{[t]:this.state.dragging,[l]:this.state.dragged});return g.createElement(y.default,R({},z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),g.cloneElement(g.Children.only(s),{className:H,style:{...s.props.style,...M},transform:k}))}}r.default=p,O(p,"displayName","Draggable"),O(p,"propTypes",{...y.default.propTypes,axis:f.default.oneOf(["both","x","y","none"]),bounds:f.default.oneOfType([f.default.shape({left:f.default.number,right:f.default.number,top:f.default.number,bottom:f.default.number}),f.default.string,f.default.oneOf([!1])]),defaultClassName:f.default.string,defaultClassNameDragging:f.default.string,defaultClassNameDragged:f.default.string,defaultPosition:f.default.shape({x:f.default.number,y:f.default.number}),positionOffset:f.default.shape({x:f.default.oneOfType([f.default.number,f.default.string]),y:f.default.oneOfType([f.default.number,f.default.string])}),position:f.default.shape({x:f.default.number,y:f.default.number}),className:w.dontSetMe,style:w.dontSetMe,transform:w.dontSetMe}),O(p,"defaultProps",{...y.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(pe)),pe}var je;function Ke(){if(je)return V.exports;je=1;const{default:r,DraggableCore:g}=ut();return V.exports=r,V.exports.default=r,V.exports.DraggableCore=g,V.exports}var ae={},Me;function ct(){if(Me)return ae;Me=1,ae.__esModule=!0,ae.cloneElement=w;var r=g(te());function g(y){return y&&y.__esModule?y:{default:y}}function f(y,h){var x=Object.keys(y);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(y);h&&(m=m.filter(function(R){return Object.getOwnPropertyDescriptor(y,R).enumerable})),x.push.apply(x,m)}return x}function c(y){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{};h%2?f(Object(x),!0).forEach(function(m){v(y,m,x[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(x)):f(Object(x)).forEach(function(m){Object.defineProperty(y,m,Object.getOwnPropertyDescriptor(x,m))})}return y}function v(y,h,x){return h=u(h),h in y?Object.defineProperty(y,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[h]=x,y}function u(y){var h=d(y,"string");return typeof h=="symbol"?h:String(h)}function d(y,h){if(typeof y!="object"||y===null)return y;var x=y[Symbol.toPrimitive];if(x!==void 0){var m=x.call(y,h);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(y)}function w(y,h){return h.style&&y.props.style&&(h.style=c(c({},y.props.style),h.style)),h.className&&y.props.className&&(h.className=y.props.className+" "+h.className),r.default.cloneElement(y,h)}return ae}var J={},ke;function Ue(){if(ke)return J;ke=1,J.__esModule=!0,J.resizableProps=void 0;var r=g(ce());Ke();function g(c){return c&&c.__esModule?c:{default:c}}var f={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var v=arguments.length,u=new Array(v),d=0;d<v;d++)u[d]=arguments[d];var w=u[0];if(w.axis==="both"||w.axis==="y"){var y;return(y=r.default.number).isRequired.apply(y,u)}return r.default.number.apply(r.default,u)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var v=arguments.length,u=new Array(v),d=0;d<v;d++)u[d]=arguments[d];var w=u[0];if(w.axis==="both"||w.axis==="x"){var y;return(y=r.default.number).isRequired.apply(y,u)}return r.default.number.apply(r.default,u)}};return J.resizableProps=f,J}var We;function Be(){if(We)return $;We=1,$.__esModule=!0,$.default=void 0;var r=d(te()),g=Ke(),f=ct(),c=Ue(),v=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function u(i){if(typeof WeakMap!="function")return null;var e=new WeakMap,o=new WeakMap;return(u=function(a){return a?o:e})(i)}function d(i,e){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var o=u(e);if(o&&o.has(i))return o.get(i);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in i)if(n!=="default"&&Object.prototype.hasOwnProperty.call(i,n)){var t=a?Object.getOwnPropertyDescriptor(i,n):null;t&&(t.get||t.set)?Object.defineProperty(s,n,t):s[n]=i[n]}return s.default=i,o&&o.set(i,s),s}function w(){return w=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},w.apply(this,arguments)}function y(i,e){if(i==null)return{};var o={},s=Object.keys(i),a,n;for(n=0;n<s.length;n++)a=s[n],!(e.indexOf(a)>=0)&&(o[a]=i[a]);return o}function h(i,e){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),o.push.apply(o,s)}return o}function x(i){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?h(Object(o),!0).forEach(function(s){m(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}function m(i,e,o){return e=R(e),e in i?Object.defineProperty(i,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[e]=o,i}function R(i){var e=O(i,"string");return typeof e=="symbol"?e:String(e)}function O(i,e){if(typeof i!="object"||i===null)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var s=o.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function P(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,b(i,e)}function b(i,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},b(i,e)}var p=(function(i){P(e,i);function e(){for(var s,a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];return s=i.call.apply(i,[this].concat(n))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var o=e.prototype;return o.componentWillUnmount=function(){this.resetData()},o.resetData=function(){this.lastHandleRect=this.slack=null},o.runConstraints=function(a,n){var t=this.props,l=t.minConstraints,S=t.maxConstraints,D=t.lockAspectRatio;if(!l&&!S&&!D)return[a,n];if(D){var _=this.props.width/this.props.height,z=a-this.props.width,M=n-this.props.height;Math.abs(z)>Math.abs(M*_)?n=a/_:a=n*_}var k=a,T=n,N=this.slack||[0,0],j=N[0],q=N[1];return a+=j,n+=q,l&&(a=Math.max(l[0],a),n=Math.max(l[1],n)),S&&(a=Math.min(S[0],a),n=Math.min(S[1],n)),this.slack=[j+(k-a),q+(T-n)],[a,n]},o.resizeHandler=function(a,n){var t=this;return function(l,S){var D=S.node,_=S.deltaX,z=S.deltaY;a==="onResizeStart"&&t.resetData();var M=(t.props.axis==="both"||t.props.axis==="x")&&n!=="n"&&n!=="s",k=(t.props.axis==="both"||t.props.axis==="y")&&n!=="e"&&n!=="w";if(!(!M&&!k)){var T=n[0],N=n[n.length-1],j=D.getBoundingClientRect();if(t.lastHandleRect!=null){if(N==="w"){var q=j.left-t.lastHandleRect.left;_+=q}if(T==="n"){var H=j.top-t.lastHandleRect.top;z+=H}}t.lastHandleRect=j,N==="w"&&(_=-_),T==="n"&&(z=-z);var F=t.props.width+(M?_/t.props.transformScale:0),A=t.props.height+(k?z/t.props.transformScale:0),K=t.runConstraints(F,A);F=K[0],A=K[1];var de=F!==t.props.width||A!==t.props.height,U=typeof t.props[a]=="function"?t.props[a]:null,$e=a==="onResize"&&!de;U&&!$e&&(l.persist==null||l.persist(),U(l,{node:D,size:{width:F,height:A},handle:n})),a==="onResizeStop"&&t.resetData()}}},o.renderResizeHandle=function(a,n){var t=this.props.handle;if(!t)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:n});if(typeof t=="function")return t(a,n);var l=typeof t.type=="string",S=x({ref:n},l?{}:{handleAxis:a});return r.cloneElement(t,S)},o.render=function(){var a=this,n=this.props,t=n.children,l=n.className,S=n.draggableOpts;n.width,n.height,n.handle,n.handleSize,n.lockAspectRatio,n.axis,n.minConstraints,n.maxConstraints,n.onResize,n.onResizeStop,n.onResizeStart;var D=n.resizeHandles;n.transformScale;var _=y(n,v);return(0,f.cloneElement)(t,x(x({},_),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(t.props.children,D.map(function(z){var M,k=(M=a.handleRefs[z])!=null?M:a.handleRefs[z]=r.createRef();return r.createElement(g.DraggableCore,w({},S,{nodeRef:k,key:"resizableHandle-"+z,onStop:a.resizeHandler("onResizeStop",z),onStart:a.resizeHandler("onResizeStart",z),onDrag:a.resizeHandler("onResize",z)}),a.renderResizeHandle(z,k))}))}))},e})(r.Component);return $.default=p,p.propTypes=c.resizableProps,p.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},$}var Q={},qe;function ft(){if(qe)return Q;qe=1,Q.__esModule=!0,Q.default=void 0;var r=w(te()),g=u(ce()),f=u(Be()),c=Ue(),v=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(d=function(n){return n?s:o})(e)}function w(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var s=d(o);if(s&&s.has(e))return s.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if(t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)){var l=n?Object.getOwnPropertyDescriptor(e,t):null;l&&(l.get||l.set)?Object.defineProperty(a,t,l):a[t]=e[t]}return a.default=e,s&&s.set(e,a),a}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y.apply(this,arguments)}function h(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function x(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?h(Object(s),!0).forEach(function(a){m(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function m(e,o,s){return o=R(o),o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}function R(e){var o=O(e,"string");return typeof o=="symbol"?o:String(o)}function O(e,o){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,o);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function P(e,o){if(e==null)return{};var s={},a=Object.keys(e),n,t;for(t=0;t<a.length;t++)n=a[t],!(o.indexOf(n)>=0)&&(s[n]=e[n]);return s}function b(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,p(e,o)}function p(e,o){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},p(e,o)}var i=(function(e){b(o,e);function o(){for(var a,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return a=e.call.apply(e,[this].concat(t))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(S,D){var _=D.size;a.props.onResize?(S.persist==null||S.persist(),a.setState(_,function(){return a.props.onResize&&a.props.onResize(S,D)})):a.setState(_)},a}o.getDerivedStateFromProps=function(n,t){return t.propsWidth!==n.width||t.propsHeight!==n.height?{width:n.width,height:n.height,propsWidth:n.width,propsHeight:n.height}:null};var s=o.prototype;return s.render=function(){var n=this.props,t=n.handle,l=n.handleSize;n.onResize;var S=n.onResizeStart,D=n.onResizeStop,_=n.draggableOpts,z=n.minConstraints,M=n.maxConstraints,k=n.lockAspectRatio,T=n.axis;n.width,n.height;var N=n.resizeHandles,j=n.style,q=n.transformScale,H=P(n,v);return r.createElement(f.default,{axis:T,draggableOpts:_,handle:t,handleSize:l,height:this.state.height,lockAspectRatio:k,maxConstraints:M,minConstraints:z,onResizeStart:S,onResize:this.onResize,onResizeStop:D,resizeHandles:N,transformScale:q,width:this.state.width},r.createElement("div",y({},H,{style:x(x({},j),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o})(r.Component);return Q.default=i,i.propTypes=x(x({},c.resizableProps),{},{children:g.default.element}),Q}var He;function dt(){return He||(He=1,B.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},B.exports.Resizable=Be().default,B.exports.ResizableBox=ft().default),B.exports}var pt=dt();function ht(r){return typeof r=="object"&&r!=null}function mt(r,g){return typeof r=="function"?r(g):r}function Fe(r,g){if(r==null)return;const f=mt(r,g);if(f!=null)return[f,0]}const le={key(r){return`${r}_resize`},get(r){try{const g=window.localStorage.getItem(le.key(r))??"{}",f=JSON.parse(g);return ht(f)?(Object.entries(f).forEach(([c,v])=>{Number.isFinite(v)||delete f[c]}),f):{}}catch{return{}}},set(r,g){window.localStorage.setItem(le.key(r),JSON.stringify(g))}};function gt(r,g){const{storageKey:f,min:c,max:v,usePlaceholderWhenWidthLTContainerWidth:u=!0}=g??{},{columns:d,instance:w,headerWrapperRef:y}=r,[h,x]=E.useState(()=>f==null?{}:le.get(f)),m=E.useCallback((P,b)=>{x(p=>{const i={...p,[`${P}`]:b};return f!=null&&le.set(f,i),i})},[f]),R=E.useCallback((P,b)=>{const{column:p}=b;if(p.disableResize)return P;const i=se(p),e=Ve(p,w.getCurrentProps().defaultColumnWidth);return C.jsx(pt.Resizable,{width:e,axis:"x",minConstraints:Fe(p.minWidth??c,p),maxConstraints:Fe(p.maxWidth??v,p),handle:C.jsx("div",{className:"virtual-table-column-resize-handle"}),onResize:(o,{size:s})=>{m(i,s.width)},children:P})},[m,w,v,c]),O=E.useMemo(()=>{var i;let P=d.reduce((e,o)=>{const s=se(o).toString(),a=h[s]||(o.width??0)||0;return e+=a,e},0);const b=(i=y.current)==null?void 0:i.getBoundingClientRect();let p=d;if(u&&(b==null?void 0:b.width)!=null&&P<b.width){const e=d.findIndex(s=>Z(s.fixed)),o={key:"__placeholder__",dataIndex:"__placeholder__",disableResize:!0,width:b.width-P};e===-1?p=[...d,o]:p=[...d.slice(0,e),o,...d.slice(e)]}return p.map(e=>{const o=se(e).toString(),s=h[o];return s!=null&&s!==e.width&&e.key!=="__placeholder__"?{...e,width:s}:e})},[h,d,y,u]);return{...r,columns:O,renderHeaderCell:R}}const qt=re(gt),yt=r=>{const{colSpan:g,children:f}=r,{tableWidth:c}=Le();return C.jsx("tr",{children:C.jsx("td",{colSpan:g,style:{padding:0},children:C.jsx("div",{style:{boxSizing:"border-box",position:"sticky",left:0,top:0,padding:16,width:c<=0?void 0:c},children:f})})})};function vt(r,g){const{children:f,visible:c=!0}=g,{dataSource:v}=r,d=(Array.isArray(v)?v.length===0:!0)&&c,w=E.useMemo(()=>typeof f=="function"?E.createElement(f):f,[f]),y=E.useCallback((h,x)=>{const{columnDescriptor:m}=x;return C.jsxs(C.Fragment,{children:[h,C.jsx(yt,{colSpan:m.length,children:w},"virtual-table-placeholder$")]})},[w]);return d?{...r,renderBodyContent:y}:r}const Ht=re(vt),bt="ExpandRow",St=r=>{const{className:g,style:f,rowKey:c,isExpanded:v,colSpan:u,children:d,fixed:w}=r,{setRowHeightByRowKey:y}=Ge(),{tableWidth:h}=Le();return C.jsx("tr",{className:I("virtual-table-expanded-row",g),style:{...f,display:v?void 0:"none"},ref:x=>{y(c,bt,()=>{if(x!=null)return x.offsetHeight})},children:C.jsx("td",{colSpan:u,children:C.jsx("div",{className:I("virtual-table-cell",w&&"virtual-table-expanded-row-fixed"),style:{width:h<=0?void 0:h},children:d})})})},wt="VirtualTable.EXPANSION_COLUMN";function xt(r,g){const f=g==null,{rowKey:c,columns:v,dataSource:u}=r,{defaultExpandedRowKeys:d,expandedRowRender:w,columnTitle:y,expandRowByClick:h=!1,expandIcon:x,onExpand:m,defaultExpandAllRows:R=!1,showExpandColumn:O=!0,expandedRowClassName:P,rowExpandable:b,columnWidth:p=50,fixed:i,extraColumnProps:e}=g??{},o=E.useMemo(()=>u.map(T=>b?b(T):!1),[u,b]),s=Se(()=>o),a=E.useRef("expandedRowKeys"in(g??{})||"defaultExpandedRowKeys"in(g??{})?!1:R),n=Se(()=>a.current?u.map((N,j)=>s[j]?N[c]:null).filter(N=>N!=null):[]),t=E.useRef(new Set(d??n)),[l,S]=nt(g??{},{trigger:"onExpandedRowsChange",valuePropName:"expandedRowKeys",defaultValue:d??n}),D=Je((T,N)=>{const j=we(T,c);t.current.add(j),N==null?l.includes(j)?(S(l.filter(q=>q!==j)),m==null||m(!1,T)):(S([...l,j]),m==null||m(!0,T)):N?(S([...l,j]),m==null||m(!0,T)):(S(l.filter(q=>q!==j)),m==null||m(!1,T))}),_=ye(i),z=E.useCallback((T,N)=>{const{rowData:j,rowIndex:q,rowKey:H,columnDescriptor:F}=N;if(s[q]){const K=l.includes(H),de=t.current.has(H);let U="";return typeof P=="string"?U=P:typeof P=="function"&&(U=P(j,q,0)),C.jsxs(C.Fragment,{children:[T,de&&C.jsx(St,{className:U,rowKey:H,isExpanded:K,colSpan:F.length,fixed:_,children:w==null?void 0:w(j,q,0,K)})]})}return T},[_,s,l,P,w]),M=E.useMemo(()=>O?[{...e,key:wt,title:y,width:p,fixed:i,render(T,N,j){const q=we(N,c),H=s[j]??!1,F=l.includes(q);return typeof x=="function"?x({expandable:H,expanded:F,record:N,prefixCls:"virtual-table",onExpand:(A,K)=>{D(A)}}):H?C.jsx("button",{className:I("virtual-table-row-expand-icon",F?"virtual-table-row-expand-icon-expanded":"virtual-table-row-expand-icon-collapsed"),type:"button","aria-label":F?"关闭行":"展开行","aria-expanded":F,onClick:()=>{D(N,!F)}}):null},onHeaderCell(){return{className:"virtual-table-expand-column"}}},...v]:v,[O,y,p,i,v,c,s,l,x,D,e]),k=E.useCallback((T,N)=>s[N]?{onClick:j=>{j.stopPropagation(),D(T)}}:{},[s,D]);return f?r:{...r,columns:M,renderRow:z,onRow:h?k:void 0}}const Ft=re(xt);function Rt(r){const{column:g,className:f}=r,{align:c,fixed:v}=g,u=se(g),{size:d}=Ye();return C.jsx("td",{className:I("virtual-table-cell",f,c!=null&&`virtual-table-align-${c}`,ye(v)&&"virtual-table-sticky-cell"),style:{left:ie(v)?d.get(u):void 0,right:Z(v)?d.get(u):void 0},children:C.jsx("div",{className:"virtual-table-loading-skeleton"})})}const Pt=E.memo(Rt);function Ot(r){const{descriptor:g,style:f}=r,c=Qe(g,u=>u.type==="blank"?!1:ie(u.column.fixed)),v=g.findIndex(u=>u.type==="blank"?!1:Z(u.column.fixed));return C.jsx("tr",{className:"virtual-table-row virtual-table-loading-cell",style:f,children:g.map((u,d)=>{const{key:w}=u;if(u.type==="blank")return C.jsx("td",{},w);const{column:y}=u;return C.jsx(Pt,{className:I(c===d&&"virtual-table-cell-fix-left-last",v===d&&"virtual-table-cell-fix-right-first"),column:y},w)})})}const Dt=E.memo(Ot);function _t(r,g){const{loading:f=!1}=g??{},{estimatedRowHeight:c,headerWrapperRef:v,getScroller:u}=r,[d,w]=E.useState(10);E.useEffect(()=>{const h=v.current,x=u();if(x!=null)return Ze(x,({height:m})=>{const R=(h==null?void 0:h.offsetHeight)??0;w(Math.ceil((m-R)/c))})},[u,v,c]);const y=E.useMemo(()=>Array.from({length:d},(h,x)=>({key:x})),[d]);return f?{...r,renderBodyRoot:h=>{if(E.isValidElement(h)&&Object.prototype.hasOwnProperty.call(h.props,"style")){const x=h.props.style;return E.cloneElement(h,{style:{...x,paddingBottom:void 0,paddingTop:void 0}})}return h},renderBodyContent:(h,{columnDescriptor:x,startRowIndex:m})=>y.map((R,O)=>C.jsx(Dt,{style:{height:c},descriptor:x,rowKey:`__loading$-${O+m}`},R.key))}:r}const Xt=re(_t),ue=E.createContext(null),Ct=r=>{const{className:g,style:f,zIndex:c,bottom:v,columns:u,fixed:d,children:w,defaultColumnWidth:y}=r,[h]=E.useState(()=>et().height),x=tt("virtual-table-summary");return C.jsx("div",{className:I("virtual-table-summary-wrapper",d&&"virtual-table-summary-sticky-bottom virtual-table-summary-top-border",g),style:{...d?{"--virtual-table-summary-z-index":c,"--virtual-table-summary-sticky-bottom":Number.isFinite(v)?`${v}px`:v}:{},...f,paddingBottom:h},ref:x,children:C.jsxs("table",{className:"virtual-table-summary",children:[C.jsx(rt,{columns:u,defaultColumnWidth:y}),C.jsx("tfoot",{className:"virtual-table-summary-tfoot",children:w})]})})};function Et(r){var P;const{className:g,style:f,children:c,align:v,colSpan:u,columnKey:d,...w}=r,{size:y,fixed:h}=Ye(),x=d==null?0:y.get(d),m=(P=h.find(b=>b.key===d))==null?void 0:P.fixed,{left:R,right:O}=E.useMemo(()=>{var i;const b=h.reduce((e,o)=>ie(o.fixed)?o.key:e,void 0),p=(i=h.find(e=>Z(e.fixed)))==null?void 0:i.key;return{left:b,right:p}},[h]);return u===0?null:C.jsx("td",{...w,colSpan:u,className:I("virtual-table-cell virtual-table-summary-cell",v!=null&&`virtual-table-align-${v}`,ye(m)&&"virtual-table-sticky-cell",R===d&&"virtual-table-cell-fix-left-last",O===d&&"virtual-table-cell-fix-right-first",g),style:{...f,left:ie(m)?x:void 0,right:Z(m)?x:void 0},children:c})}const be=E.memo(Et);function Nt(r){const{dataSource:g,...f}=r,c=E.useContext(ue);if(c==null)throw new Error("SummaryOutlet is missing the columns context and cannot use children as a function.");return C.jsx("tr",{...f,children:c.map(v=>{const{key:u}=v;if(v.type==="blank")return C.jsx("td",{},u);const{column:d}=v,{render:w,...y}=d.summary??{};return E.createElement(be,{...y,key:u,columnKey:u},w==null?void 0:w(g))})})}const zt=({children:r,...g})=>{const f=E.useContext(ue);if(typeof r=="function"){if(f!=null)return C.jsx("tr",{...g,children:f.map(c=>{const{key:v}=c;if(c.type==="blank")return C.jsx("td",{},v);const{column:u}=c;let d=r(u,v);return E.isValidElement(d)&&d.type===be&&(d=E.cloneElement(d,{columnKey:v})),C.jsx(E.Fragment,{children:d},v)})});throw new Error("SummaryRow is missing the columns context and cannot use children as a function.")}return C.jsx("tr",{...g,children:r})};function ee({children:r}){return r}ee.Row=zt;ee.Cell=be;ee.Outlet=Nt;function Tt(r,g){const{className:f,style:c,zIndex:v,bottom:u,summary:d}=g??{},{dataSource:w,instance:y}=r;let h=!1,x=!1;const m=d==null?void 0:d(w),R=[],O=[],P=b=>{const p=b.props.fixed;p==="top"?(h=!0,R.push(b)):((p==="bottom"||p===!0)&&(x=!0),O.push(b))};if(d==null)return r;if(E.isValidElement(m))if(m.type===E.Fragment){const b=m.props.children;E.Children.forEach(b,p=>{E.isValidElement(p)&&p.type===ee&&P(p)})}else m.type===ee&&P(m);else return r;return{...r,...h?{renderHeader:(b,{columnDescriptor:p})=>C.jsxs(C.Fragment,{children:[b,C.jsx("tfoot",{className:I("virtual-table-summary-tfoot",f),style:c,children:C.jsx(ue.Provider,{value:p,children:R})})]})}:{},...x?{renderContent(b,{columnDescriptor:p}){const{defaultColumnWidth:i}=y.getCurrentProps();return C.jsxs(C.Fragment,{children:[b,C.jsx(Ct,{className:f,style:c,zIndex:v,bottom:u,fixed:x,columns:p,defaultColumnWidth:i,children:C.jsx(ue.Provider,{value:p,children:O})})]})}}:{}}}const Lt=re(Tt);export{ee as S,Lt as a,Xt as b,qt as c,Ht as d,Ft as t};
