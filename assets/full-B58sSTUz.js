import{r as i,j as e}from"./index-C7MuxR0Y.js";import{a as P,u as z,h as M,V as N}from"./index-BJ4ukhSn.js";import{t as B}from"./table-selection-Tprd2yiS.js";import{t as A,a as K,S as c,c as L,b as F,d as G}from"./index-DVaIGdzo.js";import{a as H}from"./mock-BWey8na_.js";import{B as x,E as v,S as O,R as p}from"./index-BvftXqA1.js";import{R as V,I as d}from"./index-CvYWxcfx.js";import{R as $,T as g}from"./MinusOutlined-BNv0LwDO.js";import{S as j}from"./index-BTfcJac9.js";const te=()=>{const[u,C]=i.useState("bottom"),[m,R]=i.useState(!1),[y,S]=i.useState(!0),[f,k]=i.useState(!1),[w,o]=H(),I=i.useMemo(()=>B({extraColumnProps:{disableResize:!0},fixed:!0,onSelect(r,l,a,s){console.log({record:r,selected:l,selectedRows:a,nativeEvent:s})},onChange(r,l,a){console.log({selectedRowKeys:r,selectedRows:l,info:a})}}),[]),E=i.useMemo(()=>A({extraColumnProps:{disableResize:!0},fixed:"left",defaultExpandAllRows:!0,rowExpandable:()=>!0,expandedRowRender(){return e.jsx(e.Fragment,{children:Array.from({length:20}).map((r,l)=>e.jsx("div",{children:l+1},l))})}}),[]),h=P(),T=i.useMemo(()=>K({summary:()=>e.jsx(c,{fixed:u,children:e.jsx(c.Row,{children:(r,l)=>r.key==="name"?e.jsx(c.Cell,{columnKey:l,children:e.jsx(x,{onClick:()=>{h.scrollToRow(499)},children:"滚动到底部"})}):e.jsx(c.Cell,{columnKey:l})})},"summary")}),[h,u]),D=z({use:[I,E,L({storageKey:"full-demo"}),{priority:200,hook:F({loading:m})},{priority:200,hook:G({visible:!m,children:e.jsx(v,{image:v.PRESENTED_IMAGE_SIMPLE})})},{priority:200,hook:T},{priority:200,hook:M()}]}),b=w.length===1,_=i.useMemo(()=>[{title:"",key:"prefix-action",width:80,fixed:"left",render(r,l,a){return e.jsxs(O,{children:[e.jsx(x,{icon:e.jsx(V,{}),size:"small",shape:"circle",color:"primary",variant:"outlined",onClick:()=>{o(s=>{const n=s.slice();return n.splice(a+1,0,{key:`key:${Date.now()}`}),n})}}),e.jsx(x,{icon:e.jsx($,{}),size:"small",shape:"circle",danger:!0,disabled:b,onClick:()=>{o(s=>{const n=s.slice();return n.splice(a,1),n})}})]})}},{title:"Name",dataIndex:"name",key:"name",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],name:s.currentTarget.value},t})}})},{title:"Data1",dataIndex:"data1",width:200,render:(r,l,a)=>e.jsx(g,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data1:s},t})}})},{title:"Data2",dataIndex:"data2",width:200,render:(r,l,a)=>e.jsx(g,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data2:s},t})}})},{title:"Data3",dataIndex:"data3",width:200,render:(r,l,a)=>e.jsx(g,{className:"w-full",value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data3:s},t})}})},{title:"Data4",dataIndex:"data4",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data4:s.currentTarget.value},t})}})},{title:"Data5",dataIndex:"data5",width:200,render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data5:s.currentTarget.value},t})}})},{title:"Data6",dataIndex:"data6",width:200,fixed:"right",render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data6:s.currentTarget.value},t})}})},{title:"Data7",dataIndex:"data7",width:200,fixed:"right",render:(r,l,a)=>e.jsx(d,{value:r,onChange:s=>{o(n=>{const t=n.slice();return t[a]={...t[a],data7:s.currentTarget.value},t})}})}],[b,o]);return e.jsxs("div",{style:{padding:16},children:[e.jsxs("div",{style:{marginBottom:30,display:"grid",gridTemplateColumns:"repeat(5, minmax(0, 1fr))"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"总结栏位置"}),e.jsxs(p.Group,{value:u,onChange:r=>C(r.target.value),children:[e.jsx(p,{value:"top",children:"Top"}),e.jsx(p,{value:"bottom",children:"Bottom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Loading"}),e.jsx(j,{value:m,onChange:R})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Sticky"}),e.jsx(j,{value:y,onChange:S})]}),e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"Empty"}),e.jsx(j,{value:f,onChange:k})]})]}),e.jsx("div",{children:e.jsx(N,{instance:h,pipeline:D,rowKey:"key",dataSource:f?[]:w,columns:_,estimatedRowHeight:49,stickyHeader:y})})]})};export{te as default};
