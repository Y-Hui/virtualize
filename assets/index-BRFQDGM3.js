var Qe=Object.defineProperty;var Ue=(e,t,n)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var te=(e,t,n)=>Ue(e,typeof t!="symbol"?t+"":t,n);import{r as s,j as w}from"./index-CFcMeoxI.js";function de(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=de(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function O(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=de(e))&&(r&&(r+=" "),r+=t);return r}function ie(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(let c=0;c<o;c+=1){const m=n[c];if(e[m]!==t[m]||!Object.prototype.hasOwnProperty.call(t,m))return!1}return!0}function q(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=e.length;if(t.length!==n)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}function fe(e,t){return Object.is(e,t)?!0:Array.isArray(e)&&Array.isArray(t)?q(e,t)?!0:e.length===t.length&&e.findIndex(r=>typeof r=="object"&&r!=null)>-1?e.every((r,o)=>Array.isArray(r)?q(r,t[o]):typeof r=="object"&&r!=null?ie(r,t[o]):Object.is(r,t[o])):!1:typeof e=="object"&&e!=null?ie(e,t):!1}function ue(e){const t=e(),n=s.useRef(t);return fe(t,n.current)||(n.current=t),n.current}function P(e){return"key"in e?e.key:e.dataIndex}function B(e){return e==="left"}function _(e){return e==="right"}function he(e){return B(e)||_(e)}const me=s.createContext(null);function re(){const e=s.useContext(me);if(e==null)throw new Error("useColumnSizes provider not found");return e}const pe=s.createContext(null);function Xe(e){const{columns:t,children:n}=e,{widthList:r}=re(),o=s.useMemo(()=>t.map(p=>({key:P(p),fixed:p.fixed})),[t]),c=s.useMemo(()=>{let p=0;const i=o.reduce((f,g,S)=>{const{fixed:y,key:x}=g;return B(y)&&(f[S]=p,p+=r.get(x)??0),f},[]);let a=0;const u=o.reduceRight((f,g,S)=>{const{fixed:y,key:x}=g;return _(y)&&(f[S]=a,a+=r.get(x)??0),f},[]);return o.reduce((f,g,S)=>{const{key:y,fixed:x}=g;return B(x)?(f.set(y,i[S]),f):(_(x)&&f.set(y,u[S]),f)},new Map)},[o,r]),m=ue(()=>o),h=ue(()=>c),l=s.useMemo(()=>({size:h,fixed:m}),[m,h]);return w.jsx(pe.Provider,{value:l,children:n})}function ye(){const e=s.useContext(pe);if(e==null)throw new Error("useTableSticky provider not found");return e}function I(e,t,n){return typeof t=="function"?t(e,n):e}function Ge(e,t,n){const{render:r}=n,o=t;if("dataIndex"in n){const c=n.dataIndex;return typeof r!="function"?o[c]:r(o[c],t,e)}return(r==null?void 0:r(t,t,e))??null}function Je(e){const{className:t,style:n,column:r,rowData:o,rowIndex:c,columnIndex:m,renderCell:h,...l}=e,{align:p,fixed:i,onCell:a}=r,u=P(r),{size:f}=ye(),{className:g,style:S,colSpan:y,rowSpan:x,...k}=(a==null?void 0:a(o,c))??{};return y===0||x===0?null:I(w.jsx("td",{...l,...k,colSpan:y,rowSpan:x,className:O("virtual-table-cell",p!=null&&`virtual-table-align-${p}`,he(i)&&"virtual-table-sticky-cell",t,r.className,g),style:{...n,...S,left:B(i)?f.get(u):void 0,right:_(i)?f.get(u):void 0},children:Ge(c,o,r)}),h,{column:r,columnIndex:m})}const Ze=s.memo(Je),ge=e=>{const{columns:t,colRef:n}=e;return w.jsx("colgroup",{children:t.map((r,o)=>{const{key:c}=r;if(r.type==="blank")return w.jsx("col",{style:{width:r.width}},c);const{column:m}=r;return w.jsx("col",{ref:typeof n=="function"?h=>{n(h,m,o)}:n,style:{width:m.width,minWidth:m.minWidth}},c)})})},et=/auto|scroll|overlay|hidden/;function xe(e){return e instanceof Node?e.nodeType===1:!1}function tt(e,t=window){let n=e;for(;n!==t&&xe(n);){if(n===document.body)return t;const{overflow:r,overflowY:o,overflowX:c}=window.getComputedStyle(n);if(et.test(r+o+c))return n;n=n.parentNode}return e.ownerDocument.defaultView??window}function Z(e){return Object.prototype.toString.call(e)==="[object Window]"}function nt(e){return Object.prototype.toString.call(e)==="[object HTMLDocument]"}function we(e){return Object.prototype.toString.call(e)==="[object HTMLHtmlElement]"}function ae(e){return nt(e)?e.scrollingElement:xe(e)?e:document.scrollingElement}function rt(e){const{getScroller:t,root:n}=e,[r,o]=s.useState(0),[c,m]=s.useState(0),[h,l]=s.useState(0),[p,i]=s.useState(0),a=s.useRef(null);return s.useLayoutEffect(()=>{const u=t();if(u==null)return;let f;Z(u)?f=document.scrollingElement:f=u,a.current=f;const g=new ResizeObserver(S=>{const{width:y,height:x}=S[0].contentRect;o(y),m(x)});return g.observe(f),()=>{g.disconnect()}},[t]),s.useLayoutEffect(()=>{const u=n.current;if(u==null)return;const f=new ResizeObserver(g=>{const{width:S,height:y}=g[0].contentRect;l(S),i(y)});return f.observe(u),()=>{f.disconnect()}},[n]),{scrollContainerWidth:r,scrollContainerHeight:c,tableWidth:h,tableHeight:p}}const Re=s.createContext(null);function ot(e){const{getScroller:t,root:n,children:r}=e,{scrollContainerHeight:o,scrollContainerWidth:c,tableHeight:m,tableWidth:h}=rt({getScroller:t,root:n}),l=s.useMemo(()=>({scrollContainerWidth:c,scrollContainerHeight:o,tableWidth:h,tableHeight:m}),[c,o,h,m]);return w.jsx(Re.Provider,{value:l,children:r})}function Wt(){const e=s.useContext(Re);if(e==null)throw new Error("useContainerSize provider not found");return e}const be=s.createContext(null);function st(e){const{children:t}=e,n=s.useRef({}),[r,o]=s.useState({}),c=s.useCallback(l=>{delete n.current[l],o({...n.current})},[]),m=s.useCallback((l,p)=>(n.current[l]!==p&&(n.current[l]=p,o({...n.current})),()=>{c(l)}),[c]),h=s.useMemo(()=>({getElements(){return Object.values(r)},addShouldSyncElement:m,removeShouldSyncElement:c}),[m,r,c]);return s.useLayoutEffect(()=>{const l=Object.values(r),p=new Set,i=(u,f)=>{l.forEach(g=>{g!==u&&(p.add(g),g.scrollLeft=f)})},a=u=>{const f=u.target;if(p.has(f)){p.delete(f);return}const g=()=>{const{scrollLeft:y}=f;i(f,y)},S=window.requestAnimationFrame;S!=null?S(g):g()};return l.forEach(u=>{u.addEventListener("scroll",a)}),()=>{l.forEach(u=>{u.removeEventListener("scroll",a)})}},[r]),w.jsx(be.Provider,{value:h,children:t})}function ee(){const e=s.useContext(be);if(e==null)throw new Error("useHorizontalScrollContext provider not found");return e}const Se=s.createContext(null);function ct(){const e=s.useContext(Se);if(e==null)throw new Error("useTableRowManager provider not found");return e}function ne(e){const t=s.useRef(null);return s.useLayoutEffect(()=>{t.current=e},[e]),s.useCallback((...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}function lt(e){const t={current:null,options:null};return(...n)=>{const r=o=>e(o,...n);return fe(n,t.options)?t.current??r:(t.options=n,t.current=r,r)}}function it(e){return Array.isArray(e)?e.filter(t=>t!=null&&(typeof t=="function"||typeof t.hook=="function")).map(t=>typeof t=="function"?{priority:100,hook:t}:t):[]}const J=class J{constructor(){te(this,"hooks",[]);this.use=this.use.bind(this)}setHooks(t){this.hooks=t}use(t){if(this.hooks.length===0)return t;const n={current:t},r={render:[],renderRoot:[],renderContent:[],renderHeaderWrapper:[],renderHeaderRoot:[],renderHeader:[],renderHeaderRow:[],renderHeaderCell:[],renderBodyWrapper:[],renderBodyRoot:[],renderBody:[],renderRow:[],renderCell:[]},o=[],c=[],m=this.hooks.slice();return m.sort((h,l)=>h.priority-l.priority),m.map(h=>h.hook).forEach(h=>{const l=h(n.current),{render:p,renderRoot:i,renderContent:a,renderHeaderWrapper:u,renderHeaderRoot:f,renderHeader:g,renderHeaderRow:S,renderHeaderCell:y,renderBodyWrapper:x,renderBodyRoot:k,renderBody:E,renderRow:j,renderCell:M,rowClassName:z,onRow:L,...T}=l;Object.entries(r).forEach(([W,C])=>{const H=l[W];typeof H=="function"&&C.push(H)}),typeof z=="function"&&o.push(z),typeof L=="function"&&c.push(L),n.current=T}),Object.entries(r).forEach(([h,l])=>{l.length>0&&(n.current[h]=(p,i)=>l.reduce((a,u)=>u(a,i),p))}),o.length>0&&(n.current.rowClassName=(h,l)=>O(...o.map(p=>p(h,l)))),c.length>0&&(n.current.onRow=(h,l)=>c.reduce((p,i)=>({...p,...i(h,l)}),{})),n.current}};te(J,"defaultPipeline",new J);let V=J;function Mt(e){const{use:t,pipeline:n}=e,r=s.useMemo(()=>({current:new V}),[]);if(t!=null){const o=it([...t,...(n==null?void 0:n.hooks)??[]]);if(!q(r.current.hooks,o)){const c=new V;return c.setHooks(o),r.current=c,c}}return r.current}function oe(e,t){let n=-1;for(let r=0;r<e.length;r+=1)t(e[r],r)&&(n=r);return n}function ut(e){const{className:t,rowIndex:n,rowData:r,columns:o,onRow:c,renderRow:m,renderCell:h,...l}=e,{updateRowHeight:p}=ct(),{columns:i,descriptor:a}=o,u=oe(a,y=>y.type==="blank"?!1:B(y.column.fixed)),f=a.findIndex(y=>y.type==="blank"?!1:_(y.column.fixed)),{className:g,...S}=(c==null?void 0:c(r,n))??{};return I(w.jsx("tr",{...l,...S,className:O("virtual-table-row",t,g),ref:y=>{y!=null&&p(n,y.offsetHeight)},children:a.map((y,x)=>{const{key:k}=y;if(y.type==="blank")return w.jsx("td",{},k);const{column:E}=y;return w.jsx(Ze,{className:O(u===x&&"virtual-table-cell-fix-left-last",f===x&&"virtual-table-cell-fix-right-first"),column:E,rowIndex:n,rowData:r,columnIndex:x,renderCell:h},k)})}),m,{columns:i,rowIndex:n,rowData:r,columnDescriptor:a})}const at=s.memo(ut);function dt(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function ft(...e){return t=>{e.forEach(n=>dt(n,t))}}function Q(...e){return s.useCallback(ft(...e),e)}function ht(e){const{bodyWrapperRef:t,bodyRootRef:n,bodyRef:r,className:o,style:c,dataSource:m,columns:h,rowKey:l,startIndex:p,rowClassName:i,onRow:a,renderBodyWrapper:u,renderBodyRoot:f,renderBody:g,renderRow:S,renderCell:y}=e,{columns:x,descriptor:k}=h,{addShouldSyncElement:E}=ee(),{widthList:j,setWidthList:M}=re(),z=s.useRef(new Map);s.useLayoutEffect(()=>{const H=j,v=[...H.keys()],d=[...z.current.keys()],b=[...H.values()],R=[...z.current.values()];(!q(v,d)||!q(b,R))&&M(new Map(z.current))});const L=I(w.jsx("tbody",{ref:r,children:m.map((H,v)=>{const d=H[l];return w.jsx(at,{className:O(i==null?void 0:i(H,v)),rowIndex:v+p,rowData:H,columns:h,onRow:a,renderRow:S,renderCell:y},d)})}),g,{columns:x,columnDescriptor:k}),T=I(w.jsxs("table",{className:O(o,"virtual-table-body"),style:c,ref:n,children:[w.jsx(ge,{columns:k,colRef:(H,v)=>{if(H==null)return;const d=P(v);z.current.set(d,H.offsetWidth)}}),L]}),f,{columns:x,columnDescriptor:k}),W=s.useRef(null);s.useEffect(()=>{const H=W.current;if(H!=null)return E("virtual-table-body",H)},[E]);const C=Q(W,t);return I(w.jsx("div",{ref:C,className:"virtual-table-body-wrapper",children:T}),u,{columns:x,columnDescriptor:k})}const mt=e=>{const{className:t,style:n,wrapperRef:r,columns:o,stickyHeader:c,renderHeaderWrapper:m,renderHeaderRoot:h,renderHeader:l,renderHeaderRow:p,renderHeaderCell:i}=e,{columns:a,descriptor:u}=o,{widthList:f}=re(),{size:g}=ye(),S=oe(u,L=>L.type==="blank"?!1:B(L.column.fixed)),y=u.findIndex(L=>L.type==="blank"?!1:_(L.column.fixed)),{addShouldSyncElement:x}=ee(),k=s.useRef(null);s.useEffect(()=>{const L=k.current;if(L!=null)return x("virtual-table-header",L)},[x]);const E=I(w.jsx("tr",{children:u.map((L,T)=>{var b;const{key:W}=L;if(L.type==="blank")return w.jsx("th",{},W);const{column:C}=L;if(C.colSpan===0)return null;const{className:H,style:v,...d}=((b=C.onHeaderCell)==null?void 0:b.call(C,C,T))??{};return w.jsx(s.Fragment,{children:I(s.createElement("th",{scope:"col",...d,colSpan:C.colSpan,className:O("virtual-table-header-cell",C.align!=null&&`virtual-table-align-${C.align}`,he(C.fixed)&&"virtual-table-sticky-cell",S===T&&"virtual-table-cell-fix-left-last",y===T&&"virtual-table-cell-fix-right-first",C.className,H),style:{...v,left:B(C.fixed)?g.get(W):void 0,right:_(C.fixed)?g.get(W):void 0}},C.title),i,{column:C,columns:a,columnIndex:T,columnWidths:f,columnDescriptor:u})},W)})}),p,{columns:a,columnDescriptor:u}),j=I(w.jsx("thead",{className:"virtual-table-thead",children:E}),l,{columns:a,columnDescriptor:u}),M=I(w.jsxs("table",{style:n,children:[w.jsx(ge,{columns:u}),j]}),h,{columns:a,columnDescriptor:u}),z=Q(r,k);return I(w.jsx("div",{ref:z,className:O("virtual-table-header",t,{"virtual-table-header-sticky":c}),style:{top:Number.isFinite(c)?c:void 0},children:M}),m,{columns:a,columnDescriptor:u})};function Ce(e,t){if(Z(e)){const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}else{const n=new ResizeObserver(r=>{const o=r[0].contentRect;t({width:o.width,height:o.height})});return n.observe(e),()=>{n.disconnect()}}}function pt(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const c=Math.floor((n+r)/2);e[c].right>t?(o=c,r=c-1):n=c+1}if(o!==-1)return e[o]}function yt(e){let t=-1;for(let n=e.length-1;n>=0;n--){const r=e[n];if(_(r.fixed))t=n;else break}return t}function gt(e){return oe(e,t=>B(t.fixed))}function xt(e){const{estimateSize:t,overscan:n,columns:r,getScroller:o,bodyWrapper:c,columnWidths:m,disabled:h=!1}=e,l=gt(r),p=yt(r),i=l>-1?P(r[l]):null,a=p>-1?P(r[p]):null,[u,f]=s.useState(0),[g,S]=s.useState(0),y=s.useMemo(()=>{if(h)return[];let d=0;return r.map((b,R)=>{const D=P(b),A=m.get(D)??t,$=d+A,F={index:R,width:A,left:d,right:$};return d=$,F})},[r,m,t,h]),x=s.useRef({index:0,width:t,left:0,right:t}),k=ne(d=>pt(y,d)),E=ne((d,b)=>{const R=k(d);R!=null&&(x.current=R,f(Math.max(0,R.index-n)),S(R.index+b+n))}),j=s.useRef(0);s.useEffect(()=>{if(h)return;const d=c.current;if(d==null)return;const b=d.offsetWidth;let R=Math.ceil(b/t);const D=()=>{const F=d.scrollLeft;F>j.current?F>x.current.right&&E(F,R):F<x.current.left&&E(F,R),j.current=F};d.addEventListener("scroll",D);let A=0;const $=Ce(d,({width:F})=>{if(F===A||F===0)return;A=F;const U=d.scrollLeft;R=Math.ceil(F/t),E(U,R)});return()=>{d.removeEventListener("scroll",D),$()}},[o,c,t,E,n,k,h]);const M=(d,b)=>y.slice(d,b).reduce((R,D)=>R+D.width,0),z=l>-1?M(0,l+1):0,L=p>-1?M(p):0,T=Math.max(0,M(0,u)-z),W=Math.max(0,M(g)-L),C=s.useMemo(()=>{if(h)return r;const d=[...r.slice(0,l+1),...r.slice(u,g),...r.slice(p)],b=new Set;return d.filter(R=>{const D=P(R);return b.has(D)?!1:(b.add(D),!0)})},[h,r,u,g,l,p]),H=s.useMemo(()=>C.reduce((d,b)=>{const R=P(b);return R===i?(d.push({key:R,type:"normal",column:b}),d.push({key:"_blank_left",type:"blank",width:T})):R===a?(d.push({key:"_blank_right",type:"blank",width:W}),d.push({key:R,type:"normal",column:b})):d.push({key:R,type:"normal",column:b}),d},[]),[C,i,a,T,W]);return{columns:s.useMemo(()=>({columns:C,descriptor:H}),[C,H]),columnSlice:C,lastFixedLeftIndex:l,firstFixedRightIndex:p}}function wt(e){const{itemCount:t,estimateSize:n,onChange:r}=e,o=s.useRef([]);(()=>{for(let i=0;i<t;i+=1)o.current[i]==null&&(o.current[i]=n);o.current=o.current.slice(0,t)})();const m=s.useRef([]),h=()=>{const i=[];let a=0;o.current.forEach((u,f)=>{f!==0&&(a+=u),i.push({index:f,height:u,top:a,bottom:a+u})}),m.current=i},l=ne((i,a)=>{o.current[i]=a,h(),r==null||r(i,a,m.current)});return{rowHeightList:o,updateRowHeight:l,sum:(i,a)=>o.current.slice(i,a).reduce((u,f)=>u+f,0),rects:s.useCallback(()=>m.current,[])}}function Rt(e,t){let n=0,r=e.length-1,o=-1;for(;n<=r;){const c=Math.floor((n+r)/2);e[c].bottom>t?(o=c,r=c-1):n=c+1}if(o!==-1)return e[o]}function bt(e){const{getOffsetTop:t,dataSource:n,getScroller:r,estimateSize:o,overscan:c}=e,[m,h]=s.useState(0),[l,p]=s.useState(0),i=s.useRef({index:0,height:o,top:0,bottom:o}),{rowHeightList:a,rects:u,updateRowHeight:f,sum:g}=wt({itemCount:n.length,estimateSize:o,onChange(j,M,z){i.current.index===j&&(i.current=z[j])}}),S=s.useRef(0),y=s.useRef(!1);s.useEffect(()=>{const j=r();if(j==null)return;let M=0;const z=()=>{const v=t();let d=0;return Z(j)||we(j)?d=window.scrollY:d=ae(j).scrollTop,Math.max(d-v,0)},L=v=>{const d=M;return M=Math.ceil(v/o),{prevCount:d}},T=v=>{const d=Rt(u(),v);d!=null&&(i.current=d,h(Math.max(0,d.index-c)),p(d.index+M+c))},W=v=>{const d=t(),b=ae(v.target),R=Math.max(0,b.scrollTop-d);R>S.current?R>i.current.bottom&&T(R):R<i.current.top&&T(R),S.current=R};let C=0;const H=Ce(j,v=>{if(v.height===C||v.height===0)return;C=v.height,L(v.height);const d=z();if(y.current)T(d);else{y.current=!0;let b=0;d>=o&&(b=Math.max(Math.floor(d/o)-1-c,0));const R=b+M+c;h(b),p(R)}});return j.addEventListener("scroll",W),()=>{H(),j.removeEventListener("scroll",W)}},[o,t,r,c,u]);const x=g(0,m),k=g(l),E=s.useMemo(()=>n.slice(m,l),[n,m,l]);return{startIndex:m,endIndex:l,rowHeightList:a,updateRowHeight:f,topBlank:x,bottomBlank:k,dataSlice:E}}function St(e,t){const{className:n,style:r,children:o,hasFixedLeftColumn:c,hasFixedRightColumn:m,renderRoot:h}=e,l=s.useRef(null),[p,i]=s.useState(!1),[a,u]=s.useState(!1),{getElements:f}=ee(),g=s.useMemo(()=>f(),[f]);s.useEffect(()=>{const y=()=>{const x=g[0];if(x==null)return;const{scrollLeft:k,clientWidth:E,scrollWidth:j}=x;c&&i(k!==0),m&&u(!(k+E>=j))};return y(),g.forEach(x=>{x.addEventListener("scroll",y)}),()=>{g.forEach(x=>{x.removeEventListener("scroll",y)})}},[g,c,m]);const S=Q(t,l);return I(w.jsx("div",{ref:S,className:O("virtual-table",p&&"virtual-table-has-fix-left",a&&"virtual-table-has-fix-right",n),style:r,children:o}),h,{})}const Ct=s.forwardRef(St);function vt(e,t){const{bodyRootRef:n,className:r,style:o,tableBodyClassName:c,tableBodyStyle:m,columns:h,dataSource:l,rowKey:p="key",estimatedRowHeight:i=46,estimatedColumnWidth:a,overscanRows:u=5,overscanColumns:f=3,stickyHeader:g,pipeline:S=V.defaultPipeline,rowClassName:y,onRow:x,getOffsetTop:k}=e,E=s.useRef(null),j=s.useRef(null),M=s.useRef(null),z=s.useRef(null),L=Q(z,n),T=s.useRef(null),W=s.useCallback(()=>{const N=E.current;if(N!=null)return tt(N)},[]),C=s.useCallback(()=>{var K,le;if(typeof k=="function")return k();const N=W();if(N===E.current)return 0;if(Z(N)||we(N)){const Ve=((K=E.current)==null?void 0:K.getBoundingClientRect().top)??0;return window.scrollY+Ve}return((le=E.current)==null?void 0:le.offsetTop)??0},[k,W]),{dataSource:H,columns:v,rowKey:d,rowClassName:b,render:R,renderRoot:D,renderContent:A,renderHeaderWrapper:$,renderHeaderRoot:F,renderHeader:U,renderHeaderRow:ve,renderHeaderCell:ke,renderBodyWrapper:Ee,renderBodyRoot:He,renderBody:je,renderRow:Le,renderCell:We,onRow:X}=S.use({dataSource:l,rowKey:p,columns:h,estimatedRowHeight:i,headerWrapperRef:j,bodyWrapperRef:M,bodyRootRef:z,bodyRef:T,rootRef:E,getOffsetTop:C,getScroller:W}),[G,Me]=s.useState(()=>new Map),Ne=s.useRef(G),ze=N=>{Ne.current=N,Me(N)},Te=s.useMemo(()=>({widthList:G,setWidthList:ze}),[G]),{startIndex:Fe,dataSlice:Ie,updateRowHeight:se,rowHeightList:ce,topBlank:De,bottomBlank:Oe}=bt({getOffsetTop:C,dataSource:H,getScroller:W,estimateSize:i,overscan:u}),{columns:Y}=xt({estimateSize:a??100,overscan:f,columns:v,getScroller:W,bodyWrapper:M,columnWidths:G,disabled:a==null}),Be=s.useCallback((N,K)=>O(y==null?void 0:y(N,K),b==null?void 0:b(N,K)),[y,b]),_e=s.useCallback((N,K)=>({...x==null?void 0:x(N,K),...X==null?void 0:X(N,K)}),[X,x]),Ke=v.some(N=>B(N.fixed)),Pe=v.some(N=>_(N.fixed)),Ae=s.useMemo(()=>({getRowHeightList(){return ce.current},updateRowHeight:se}),[ce,se]),$e=I(w.jsxs(w.Fragment,{children:[w.jsx(mt,{wrapperRef:j,columns:Y,stickyHeader:g,renderHeaderWrapper:$,renderHeaderRoot:F,renderHeader:U,renderHeaderRow:ve,renderHeaderCell:ke}),w.jsx(ht,{bodyWrapperRef:M,bodyRootRef:L,bodyRef:T,className:c,style:{...m,paddingBottom:Oe,paddingTop:De},columns:Y,rowKey:d,dataSource:Ie,startIndex:Fe,rowClassName:Be,onRow:_e,renderBodyWrapper:Ee,renderBodyRoot:He,renderBody:je,renderRow:Le,renderCell:We})]}),A,{columns:Y.columns,columnDescriptor:Y.descriptor}),Ye=Q(E,t),qe=I(w.jsx(Ct,{ref:Ye,className:r,style:o,hasFixedLeftColumn:Ke,hasFixedRightColumn:Pe,renderRoot:D,children:$e}),R,{columns:Y.columns,columnDescriptor:Y.descriptor});return w.jsx(Se.Provider,{value:Ae,children:w.jsx(me.Provider,{value:Te,children:w.jsx(Xe,{columns:v,children:w.jsx(ot,{getScroller:W,root:E,children:w.jsx(st,{children:qe})})})})})}const Nt=s.memo(s.forwardRef(vt));function kt(){const e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}const Et=e=>{const{className:t,style:n,bottom:r,zIndex:o,bodyRef:c}=e,{addShouldSyncElement:m}=ee(),h=s.useRef(null);s.useEffect(()=>{const a=h.current;if(a!=null)return m("virtual-table-sticky-bottom-scroll",a)},[m]);const[l,p]=s.useState(0);s.useEffect(()=>{const a=c.current;if(a==null)return;const u=new ResizeObserver(f=>{const{width:g}=f[0].contentRect;p(g)});return u.observe(a),()=>{u.disconnect()}},[c]);const[i]=s.useState(kt);return w.jsx("div",{className:O("virtual-table-sticky-scroll",t),style:{...n,paddingTop:i.height>0?0:12,marginTop:i.height>0?0:i.height*-1,height:i.height,bottom:r,zIndex:o},ref:h,children:w.jsx("div",{className:"virtual-table-sticky-scroll-bar",style:{width:l}})})};function Ht(e,t){const{bodyRootRef:n}=e;return{...e,renderContent(r){return w.jsxs(w.Fragment,{children:[r,w.jsx(Et,{bodyRef:n,...t})]})}}}const zt=lt(Ht);export{ge as C,Nt as V,lt as a,Wt as b,O as c,ct as d,ue as e,ne as f,P as g,zt as h,he as i,ee as j,kt as k,ye as l,B as m,_ as n,Ce as o,Q as p,Mt as u};
